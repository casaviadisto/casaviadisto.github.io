(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var qf={exports:{}},Ea={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function uT(){if(x_)return Ea;x_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:s,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Ea.Fragment=e,Ea.jsx=i,Ea.jsxs=i,Ea}var O_;function cT(){return O_||(O_=1,qf.exports=uT()),qf.exports}var y=cT(),Vf={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function fT(){if(D_)return re;D_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function S(T){return T===null||typeof T!="object"?null:(T=E&&T[E]||T["@@iterator"],typeof T=="function"?T:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,k={};function j(T,B,Q){this.props=T,this.context=B,this.refs=k,this.updater=Q||R}j.prototype.isReactComponent={},j.prototype.setState=function(T,B){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,B,"setState")},j.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function P(){}P.prototype=j.prototype;function V(T,B,Q){this.props=T,this.context=B,this.refs=k,this.updater=Q||R}var M=V.prototype=new P;M.constructor=V,A(M,j.prototype),M.isPureReactComponent=!0;var F=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function ye(T,B,Q,G,Z,me){return Q=me.ref,{$$typeof:s,type:T,key:B,ref:Q!==void 0?Q:null,props:me}}function Ie(T,B){return ye(T.type,B,void 0,void 0,void 0,T.props)}function be(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function nt(T){var B={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Q){return B[Q]})}var Lt=/\/+/g;function at(T,B){return typeof T=="object"&&T!==null&&T.key!=null?nt(""+T.key):B.toString(36)}function ki(){}function Li(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(ki,ki):(T.status="pending",T.then(function(B){T.status==="pending"&&(T.status="fulfilled",T.value=B)},function(B){T.status==="pending"&&(T.status="rejected",T.reason=B)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function lt(T,B,Q,G,Z){var me=typeof T;(me==="undefined"||me==="boolean")&&(T=null);var se=!1;if(T===null)se=!0;else switch(me){case"bigint":case"string":case"number":se=!0;break;case"object":switch(T.$$typeof){case s:case e:se=!0;break;case v:return se=T._init,lt(se(T._payload),B,Q,G,Z)}}if(se)return Z=Z(T),se=G===""?"."+at(T,0):G,F(Z)?(Q="",se!=null&&(Q=se.replace(Lt,"$&/")+"/"),lt(Z,B,Q,"",function(Vn){return Vn})):Z!=null&&(be(Z)&&(Z=Ie(Z,Q+(Z.key==null||T&&T.key===Z.key?"":(""+Z.key).replace(Lt,"$&/")+"/")+se)),B.push(Z)),1;se=0;var Ct=G===""?".":G+":";if(F(T))for(var ke=0;ke<T.length;ke++)G=T[ke],me=Ct+at(G,ke),se+=lt(G,B,Q,me,Z);else if(ke=S(T),typeof ke=="function")for(T=ke.call(T),ke=0;!(G=T.next()).done;)G=G.value,me=Ct+at(G,ke++),se+=lt(G,B,Q,me,Z);else if(me==="object"){if(typeof T.then=="function")return lt(Li(T),B,Q,G,Z);throw B=String(T),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return se}function U(T,B,Q){if(T==null)return T;var G=[],Z=0;return lt(T,G,"","",function(me){return B.call(Q,me,Z++)}),G}function Y(T){if(T._status===-1){var B=T._result;B=B(),B.then(function(Q){(T._status===0||T._status===-1)&&(T._status=1,T._result=Q)},function(Q){(T._status===0||T._status===-1)&&(T._status=2,T._result=Q)}),T._status===-1&&(T._status=0,T._result=B)}if(T._status===1)return T._result.default;throw T._result}var ee=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Ae(){}return re.Children={map:U,forEach:function(T,B,Q){U(T,function(){B.apply(this,arguments)},Q)},count:function(T){var B=0;return U(T,function(){B++}),B},toArray:function(T){return U(T,function(B){return B})||[]},only:function(T){if(!be(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},re.Component=j,re.Fragment=i,re.Profiler=o,re.PureComponent=V,re.StrictMode=a,re.Suspense=m,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,re.__COMPILER_RUNTIME={__proto__:null,c:function(T){return K.H.useMemoCache(T)}},re.cache=function(T){return function(){return T.apply(null,arguments)}},re.cloneElement=function(T,B,Q){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var G=A({},T.props),Z=T.key,me=void 0;if(B!=null)for(se in B.ref!==void 0&&(me=void 0),B.key!==void 0&&(Z=""+B.key),B)!ae.call(B,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&B.ref===void 0||(G[se]=B[se]);var se=arguments.length-2;if(se===1)G.children=Q;else if(1<se){for(var Ct=Array(se),ke=0;ke<se;ke++)Ct[ke]=arguments[ke+2];G.children=Ct}return ye(T.type,Z,void 0,void 0,me,G)},re.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},re.createElement=function(T,B,Q){var G,Z={},me=null;if(B!=null)for(G in B.key!==void 0&&(me=""+B.key),B)ae.call(B,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(Z[G]=B[G]);var se=arguments.length-2;if(se===1)Z.children=Q;else if(1<se){for(var Ct=Array(se),ke=0;ke<se;ke++)Ct[ke]=arguments[ke+2];Z.children=Ct}if(T&&T.defaultProps)for(G in se=T.defaultProps,se)Z[G]===void 0&&(Z[G]=se[G]);return ye(T,me,void 0,void 0,null,Z)},re.createRef=function(){return{current:null}},re.forwardRef=function(T){return{$$typeof:d,render:T}},re.isValidElement=be,re.lazy=function(T){return{$$typeof:v,_payload:{_status:-1,_result:T},_init:Y}},re.memo=function(T,B){return{$$typeof:p,type:T,compare:B===void 0?null:B}},re.startTransition=function(T){var B=K.T,Q={};K.T=Q;try{var G=T(),Z=K.S;Z!==null&&Z(Q,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Ae,ee)}catch(me){ee(me)}finally{K.T=B}},re.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},re.use=function(T){return K.H.use(T)},re.useActionState=function(T,B,Q){return K.H.useActionState(T,B,Q)},re.useCallback=function(T,B){return K.H.useCallback(T,B)},re.useContext=function(T){return K.H.useContext(T)},re.useDebugValue=function(){},re.useDeferredValue=function(T,B){return K.H.useDeferredValue(T,B)},re.useEffect=function(T,B,Q){var G=K.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(T,B)},re.useId=function(){return K.H.useId()},re.useImperativeHandle=function(T,B,Q){return K.H.useImperativeHandle(T,B,Q)},re.useInsertionEffect=function(T,B){return K.H.useInsertionEffect(T,B)},re.useLayoutEffect=function(T,B){return K.H.useLayoutEffect(T,B)},re.useMemo=function(T,B){return K.H.useMemo(T,B)},re.useOptimistic=function(T,B){return K.H.useOptimistic(T,B)},re.useReducer=function(T,B,Q){return K.H.useReducer(T,B,Q)},re.useRef=function(T){return K.H.useRef(T)},re.useState=function(T){return K.H.useState(T)},re.useSyncExternalStore=function(T,B,Q){return K.H.useSyncExternalStore(T,B,Q)},re.useTransition=function(){return K.H.useTransition()},re.version="19.1.0",re}var I_;function Mh(){return I_||(I_=1,Vf.exports=fT()),Vf.exports}var D=Mh(),Gf={exports:{}},Sa={},Yf={exports:{}},Ff={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function hT(){return M_||(M_=1,function(s){function e(U,Y){var ee=U.length;U.push(Y);e:for(;0<ee;){var Ae=ee-1>>>1,T=U[Ae];if(0<o(T,Y))U[Ae]=Y,U[ee]=T,ee=Ae;else break e}}function i(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var Y=U[0],ee=U.pop();if(ee!==Y){U[0]=ee;e:for(var Ae=0,T=U.length,B=T>>>1;Ae<B;){var Q=2*(Ae+1)-1,G=U[Q],Z=Q+1,me=U[Z];if(0>o(G,ee))Z<T&&0>o(me,G)?(U[Ae]=me,U[Z]=ee,Ae=Z):(U[Ae]=G,U[Q]=ee,Ae=Q);else if(Z<T&&0>o(me,ee))U[Ae]=me,U[Z]=ee,Ae=Z;else break e}}return Y}function o(U,Y){var ee=U.sortIndex-Y.sortIndex;return ee!==0?ee:U.id-Y.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();s.unstable_now=function(){return f.now()-d}}var m=[],p=[],v=1,E=null,S=3,R=!1,A=!1,k=!1,j=!1,P=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function F(U){for(var Y=i(p);Y!==null;){if(Y.callback===null)a(p);else if(Y.startTime<=U)a(p),Y.sortIndex=Y.expirationTime,e(m,Y);else break;Y=i(p)}}function K(U){if(k=!1,F(U),!A)if(i(m)!==null)A=!0,ae||(ae=!0,at());else{var Y=i(p);Y!==null&&lt(K,Y.startTime-U)}}var ae=!1,ye=-1,Ie=5,be=-1;function nt(){return j?!0:!(s.unstable_now()-be<Ie)}function Lt(){if(j=!1,ae){var U=s.unstable_now();be=U;var Y=!0;try{e:{A=!1,k&&(k=!1,V(ye),ye=-1),R=!0;var ee=S;try{t:{for(F(U),E=i(m);E!==null&&!(E.expirationTime>U&&nt());){var Ae=E.callback;if(typeof Ae=="function"){E.callback=null,S=E.priorityLevel;var T=Ae(E.expirationTime<=U);if(U=s.unstable_now(),typeof T=="function"){E.callback=T,F(U),Y=!0;break t}E===i(m)&&a(m),F(U)}else a(m);E=i(m)}if(E!==null)Y=!0;else{var B=i(p);B!==null&&lt(K,B.startTime-U),Y=!1}}break e}finally{E=null,S=ee,R=!1}Y=void 0}}finally{Y?at():ae=!1}}}var at;if(typeof M=="function")at=function(){M(Lt)};else if(typeof MessageChannel<"u"){var ki=new MessageChannel,Li=ki.port2;ki.port1.onmessage=Lt,at=function(){Li.postMessage(null)}}else at=function(){P(Lt,0)};function lt(U,Y){ye=P(function(){U(s.unstable_now())},Y)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ie=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(U){switch(S){case 1:case 2:case 3:var Y=3;break;default:Y=S}var ee=S;S=Y;try{return U()}finally{S=ee}},s.unstable_requestPaint=function(){j=!0},s.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ee=S;S=U;try{return Y()}finally{S=ee}},s.unstable_scheduleCallback=function(U,Y,ee){var Ae=s.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Ae+ee:Ae):ee=Ae,U){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=ee+T,U={id:v++,callback:Y,priorityLevel:U,startTime:ee,expirationTime:T,sortIndex:-1},ee>Ae?(U.sortIndex=ee,e(p,U),i(m)===null&&U===i(p)&&(k?(V(ye),ye=-1):k=!0,lt(K,ee-Ae))):(U.sortIndex=T,e(m,U),A||R||(A=!0,ae||(ae=!0,at()))),U},s.unstable_shouldYield=nt,s.unstable_wrapCallback=function(U){var Y=S;return function(){var ee=S;S=Y;try{return U.apply(this,arguments)}finally{S=ee}}}}(Ff)),Ff}var k_;function dT(){return k_||(k_=1,Yf.exports=hT()),Yf.exports}var Kf={exports:{}},ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function pT(){if(L_)return ct;L_=1;var s=Mh();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:m,containerInfo:p,implementation:v}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ct.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(m,p,null,v)},ct.flushSync=function(m){var p=f.T,v=a.p;try{if(f.T=null,a.p=2,m)return m()}finally{f.T=p,a.p=v,a.d.f()}},ct.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(m,p))},ct.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},ct.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,E=d(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?a.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:R}):v==="script"&&a.d.X(m,{crossOrigin:E,integrity:S,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ct.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);a.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(m)},ct.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,E=d(v,p.crossOrigin);a.d.L(m,v,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ct.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);a.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(m)},ct.requestFormReset=function(m){a.d.r(m)},ct.unstable_batchedUpdates=function(m,p){return m(p)},ct.useFormState=function(m,p,v){return f.H.useFormState(m,p,v)},ct.useFormStatus=function(){return f.H.useHostTransitionStatus()},ct.version="19.1.0",ct}var U_;function mT(){if(U_)return Kf.exports;U_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Kf.exports=pT(),Kf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function gT(){if(j_)return Sa;j_=1;var s=dT(),e=Mh(),i=mT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(u(t)!==t)throw Error(a(188))}function m(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===r)return d(c),t;if(h===l)return d(c),n;h=h.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=h;else{for(var g=!1,_=c.child;_;){if(_===r){g=!0,r=c,l=h;break}if(_===l){g=!0,l=c,r=h;break}_=_.sibling}if(!g){for(_=h.child;_;){if(_===r){g=!0,r=h,l=c;break}if(_===l){g=!0,l=h,r=c;break}_=_.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function p(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=p(t),n!==null)return n;t=t.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),be=Symbol.for("react.activity"),nt=Symbol.for("react.memo_cache_sentinel"),Lt=Symbol.iterator;function at(t){return t===null||typeof t!="object"?null:(t=Lt&&t[Lt]||t["@@iterator"],typeof t=="function"?t:null)}var ki=Symbol.for("react.client.reference");function Li(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ki?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case j:return"Profiler";case k:return"StrictMode";case K:return"Suspense";case ae:return"SuspenseList";case be:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case R:return"Portal";case M:return(t.displayName||"Context")+".Provider";case V:return(t._context.displayName||"Context")+".Consumer";case F:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ye:return n=t.displayName||null,n!==null?n:Li(t.type)||"Memo";case Ie:n=t._payload,t=t._init;try{return Li(t(n))}catch{}}return null}var lt=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Ae=[],T=-1;function B(t){return{current:t}}function Q(t){0>T||(t.current=Ae[T],Ae[T]=null,T--)}function G(t,n){T++,Ae[T]=t.current,t.current=n}var Z=B(null),me=B(null),se=B(null),Ct=B(null);function ke(t,n){switch(G(se,n),G(me,t),G(Z,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?i_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=i_(n),t=s_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(Z),G(Z,t)}function Vn(){Q(Z),Q(me),Q(se)}function Ru(t){t.memoizedState!==null&&G(Ct,t);var n=Z.current,r=s_(n,t.type);n!==r&&(G(me,t),G(Z,r))}function ul(t){me.current===t&&(Q(Z),Q(me)),Ct.current===t&&(Q(Ct),ma._currentValue=ee)}var Au=Object.prototype.hasOwnProperty,Nu=s.unstable_scheduleCallback,xu=s.unstable_cancelCallback,B0=s.unstable_shouldYield,q0=s.unstable_requestPaint,rn=s.unstable_now,V0=s.unstable_getCurrentPriorityLevel,jd=s.unstable_ImmediatePriority,Pd=s.unstable_UserBlockingPriority,cl=s.unstable_NormalPriority,G0=s.unstable_LowPriority,zd=s.unstable_IdlePriority,Y0=s.log,F0=s.unstable_setDisableYieldValue,Tr=null,wt=null;function Gn(t){if(typeof Y0=="function"&&F0(t),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Tr,t)}catch{}}var Rt=Math.clz32?Math.clz32:X0,K0=Math.log,Q0=Math.LN2;function X0(t){return t>>>=0,t===0?32:31-(K0(t)/Q0|0)|0}var fl=256,hl=4194304;function Ui(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dl(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var _=l&134217727;return _!==0?(l=_&~h,l!==0?c=Ui(l):(g&=_,g!==0?c=Ui(g):r||(r=_&~t,r!==0&&(c=Ui(r))))):(_=l&~h,_!==0?c=Ui(_):g!==0?c=Ui(g):r||(r=l&~t,r!==0&&(c=Ui(r)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,r=n&-n,h>=r||h===32&&(r&4194048)!==0)?n:c}function Cr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function W0(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hd(){var t=fl;return fl<<=1,(fl&4194048)===0&&(fl=256),t}function Bd(){var t=hl;return hl<<=1,(hl&62914560)===0&&(hl=4194304),t}function Ou(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function wr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Z0(t,n,r,l,c,h){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var _=t.entanglements,b=t.expirationTimes,x=t.hiddenUpdates;for(r=g&~r;0<r;){var L=31-Rt(r),H=1<<L;_[L]=0,b[L]=-1;var O=x[L];if(O!==null)for(x[L]=null,L=0;L<O.length;L++){var I=O[L];I!==null&&(I.lane&=-536870913)}r&=~H}l!==0&&qd(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~n))}function qd(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Rt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Vd(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Rt(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Du(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Iu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gd(){var t=Y.p;return t!==0?t:(t=window.event,t===void 0?32:T_(t.type))}function $0(t,n){var r=Y.p;try{return Y.p=t,n()}finally{Y.p=r}}var Yn=Math.random().toString(36).slice(2),ot="__reactFiber$"+Yn,gt="__reactProps$"+Yn,ms="__reactContainer$"+Yn,Mu="__reactEvents$"+Yn,J0="__reactListeners$"+Yn,eS="__reactHandles$"+Yn,Yd="__reactResources$"+Yn,Rr="__reactMarker$"+Yn;function ku(t){delete t[ot],delete t[gt],delete t[Mu],delete t[J0],delete t[eS]}function gs(t){var n=t[ot];if(n)return n;for(var r=t.parentNode;r;){if(n=r[ms]||r[ot]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=o_(t);t!==null;){if(r=t[ot])return r;t=o_(t)}return n}t=r,r=t.parentNode}return null}function _s(t){if(t=t[ot]||t[ms]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ar(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function vs(t){var n=t[Yd];return n||(n=t[Yd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Xe(t){t[Rr]=!0}var Fd=new Set,Kd={};function ji(t,n){ys(t,n),ys(t+"Capture",n)}function ys(t,n){for(Kd[t]=n,t=0;t<n.length;t++)Fd.add(n[t])}var tS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qd={},Xd={};function nS(t){return Au.call(Xd,t)?!0:Au.call(Qd,t)?!1:tS.test(t)?Xd[t]=!0:(Qd[t]=!0,!1)}function pl(t,n,r){if(nS(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function ml(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function mn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Lu,Wd;function Es(t){if(Lu===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Lu=n&&n[1]||"",Wd=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lu+t+Wd}var Uu=!1;function ju(t,n){if(!t||Uu)return"";Uu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(I){var O=I}Reflect.construct(t,[],H)}else{try{H.call()}catch(I){O=I}t.call(H.prototype)}}else{try{throw Error()}catch(I){O=I}(H=t())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(I){if(I&&O&&typeof I.stack=="string")return[I.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],_=h[1];if(g&&_){var b=g.split(`
`),x=_.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<x.length&&!x[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===x.length)for(l=b.length-1,c=x.length-1;1<=l&&0<=c&&b[l]!==x[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==x[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==x[c]){var L=`
`+b[l].replace(" at new "," at ");return t.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",t.displayName)),L}while(1<=l&&0<=c);break}}}finally{Uu=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Es(r):""}function iS(t){switch(t.tag){case 26:case 27:case 5:return Es(t.type);case 16:return Es("Lazy");case 13:return Es("Suspense");case 19:return Es("SuspenseList");case 0:case 15:return ju(t.type,!1);case 11:return ju(t.type.render,!1);case 1:return ju(t.type,!0);case 31:return Es("Activity");default:return""}}function Zd(t){try{var n="";do n+=iS(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $d(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function sS(t){var n=$d(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,h=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){l=""+g,h.call(this,g)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function gl(t){t._valueTracker||(t._valueTracker=sS(t))}function Jd(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=$d(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function _l(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var rS=/[\n"\\]/g;function jt(t){return t.replace(rS,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Pu(t,n,r,l,c,h,g,_){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ut(n)):t.value!==""+Ut(n)&&(t.value=""+Ut(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?zu(t,g,Ut(n)):r!=null?zu(t,g,Ut(r)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+Ut(_):t.removeAttribute("name")}function ep(t,n,r,l,c,h,g,_){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;r=r!=null?""+Ut(r):"",n=n!=null?""+Ut(n):r,_||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=_?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function zu(t,n,r){n==="number"&&_l(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ss(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ut(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function tp(t,n,r){if(n!=null&&(n=""+Ut(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ut(r):""}function np(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(lt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ut(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function bs(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var aS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ip(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||aS.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function sp(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&ip(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&ip(t,h,n[h])}function Hu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vl(t){return oS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Bu=null;function qu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ts=null,Cs=null;function rp(t){var n=_s(t);if(n&&(t=n.stateNode)){var r=t[gt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Pu(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+jt(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[gt]||null;if(!c)throw Error(a(90));Pu(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Jd(l)}break e;case"textarea":tp(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ss(t,!!r.multiple,n,!1)}}}var Vu=!1;function ap(t,n,r){if(Vu)return t(n,r);Vu=!0;try{var l=t(n);return l}finally{if(Vu=!1,(Ts!==null||Cs!==null)&&(io(),Ts&&(n=Ts,t=Cs,Cs=Ts=null,rp(n),t)))for(n=0;n<t.length;n++)rp(t[n])}}function Nr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[gt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gu=!1;if(gn)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{Gu=!1}var Fn=null,Yu=null,yl=null;function lp(){if(yl)return yl;var t,n=Yu,r=n.length,l,c="value"in Fn?Fn.value:Fn.textContent,h=c.length;for(t=0;t<r&&n[t]===c[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===c[h-l];l++);return yl=c.slice(t,1<l?1-l:void 0)}function El(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Sl(){return!0}function op(){return!1}function _t(t){function n(r,l,c,h,g){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(r=t[_],this[_]=r?r(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Sl:op,this.isPropagationStopped=op,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),n}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=_t(Pi),Or=v({},Pi,{view:0,detail:0}),uS=_t(Or),Fu,Ku,Dr,Tl=v({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dr&&(Dr&&t.type==="mousemove"?(Fu=t.screenX-Dr.screenX,Ku=t.screenY-Dr.screenY):Ku=Fu=0,Dr=t),Fu)},movementY:function(t){return"movementY"in t?t.movementY:Ku}}),up=_t(Tl),cS=v({},Tl,{dataTransfer:0}),fS=_t(cS),hS=v({},Or,{relatedTarget:0}),Qu=_t(hS),dS=v({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),pS=_t(dS),mS=v({},Pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gS=_t(mS),_S=v({},Pi,{data:0}),cp=_t(_S),vS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ES={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SS(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ES[t])?!!n[t]:!1}function Xu(){return SS}var bS=v({},Or,{key:function(t){if(t.key){var n=vS[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=El(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xu,charCode:function(t){return t.type==="keypress"?El(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?El(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TS=_t(bS),CS=v({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fp=_t(CS),wS=v({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xu}),RS=_t(wS),AS=v({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),NS=_t(AS),xS=v({},Tl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OS=_t(xS),DS=v({},Pi,{newState:0,oldState:0}),IS=_t(DS),MS=[9,13,27,32],Wu=gn&&"CompositionEvent"in window,Ir=null;gn&&"documentMode"in document&&(Ir=document.documentMode);var kS=gn&&"TextEvent"in window&&!Ir,hp=gn&&(!Wu||Ir&&8<Ir&&11>=Ir),dp=" ",pp=!1;function mp(t,n){switch(t){case"keyup":return MS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ws=!1;function LS(t,n){switch(t){case"compositionend":return gp(n);case"keypress":return n.which!==32?null:(pp=!0,dp);case"textInput":return t=n.data,t===dp&&pp?null:t;default:return null}}function US(t,n){if(ws)return t==="compositionend"||!Wu&&mp(t,n)?(t=lp(),yl=Yu=Fn=null,ws=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hp&&n.locale!=="ko"?null:n.data;default:return null}}var jS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _p(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!jS[t.type]:n==="textarea"}function vp(t,n,r,l){Ts?Cs?Cs.push(l):Cs=[l]:Ts=l,n=uo(n,"onChange"),0<n.length&&(r=new bl("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Mr=null,kr=null;function PS(t){$g(t,0)}function Cl(t){var n=Ar(t);if(Jd(n))return t}function yp(t,n){if(t==="change")return n}var Ep=!1;if(gn){var Zu;if(gn){var $u="oninput"in document;if(!$u){var Sp=document.createElement("div");Sp.setAttribute("oninput","return;"),$u=typeof Sp.oninput=="function"}Zu=$u}else Zu=!1;Ep=Zu&&(!document.documentMode||9<document.documentMode)}function bp(){Mr&&(Mr.detachEvent("onpropertychange",Tp),kr=Mr=null)}function Tp(t){if(t.propertyName==="value"&&Cl(kr)){var n=[];vp(n,kr,t,qu(t)),ap(PS,n)}}function zS(t,n,r){t==="focusin"?(bp(),Mr=n,kr=r,Mr.attachEvent("onpropertychange",Tp)):t==="focusout"&&bp()}function HS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cl(kr)}function BS(t,n){if(t==="click")return Cl(n)}function qS(t,n){if(t==="input"||t==="change")return Cl(n)}function VS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var At=typeof Object.is=="function"?Object.is:VS;function Lr(t,n){if(At(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Au.call(n,c)||!At(t[c],n[c]))return!1}return!0}function Cp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wp(t,n){var r=Cp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cp(r)}}function Rp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Rp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ap(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=_l(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=_l(t.document)}return n}function Ju(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var GS=gn&&"documentMode"in document&&11>=document.documentMode,Rs=null,ec=null,Ur=null,tc=!1;function Np(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;tc||Rs==null||Rs!==_l(l)||(l=Rs,"selectionStart"in l&&Ju(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ur&&Lr(Ur,l)||(Ur=l,l=uo(ec,"onSelect"),0<l.length&&(n=new bl("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Rs)))}function zi(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var As={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionrun:zi("Transition","TransitionRun"),transitionstart:zi("Transition","TransitionStart"),transitioncancel:zi("Transition","TransitionCancel"),transitionend:zi("Transition","TransitionEnd")},nc={},xp={};gn&&(xp=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Hi(t){if(nc[t])return nc[t];if(!As[t])return t;var n=As[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in xp)return nc[t]=n[r];return t}var Op=Hi("animationend"),Dp=Hi("animationiteration"),Ip=Hi("animationstart"),YS=Hi("transitionrun"),FS=Hi("transitionstart"),KS=Hi("transitioncancel"),Mp=Hi("transitionend"),kp=new Map,ic="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ic.push("scrollEnd");function Kt(t,n){kp.set(t,n),ji(n,[t])}var Lp=new WeakMap;function Pt(t,n){if(typeof t=="object"&&t!==null){var r=Lp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Zd(n)},Lp.set(t,n),n)}return{value:t,source:n,stack:Zd(n)}}var zt=[],Ns=0,sc=0;function wl(){for(var t=Ns,n=sc=Ns=0;n<t;){var r=zt[n];zt[n++]=null;var l=zt[n];zt[n++]=null;var c=zt[n];zt[n++]=null;var h=zt[n];if(zt[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}h!==0&&Up(r,c,h)}}function Rl(t,n,r,l){zt[Ns++]=t,zt[Ns++]=n,zt[Ns++]=r,zt[Ns++]=l,sc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function rc(t,n,r,l){return Rl(t,n,r,l),Al(t)}function xs(t,n){return Rl(t,null,null,n),Al(t)}function Up(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,h=t.return;h!==null;)h.childLanes|=r,l=h.alternate,l!==null&&(l.childLanes|=r),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-Rt(r),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),h):null}function Al(t){if(50<la)throw la=0,hf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Os={};function QS(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(t,n,r,l){return new QS(t,n,r,l)}function ac(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _n(t,n){var r=t.alternate;return r===null?(r=Nt(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function jp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Nl(t,n,r,l,c,h){var g=0;if(l=t,typeof t=="function")ac(t)&&(g=1);else if(typeof t=="string")g=Wb(t,r,Z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case be:return t=Nt(31,r,n,c),t.elementType=be,t.lanes=h,t;case A:return Bi(r.children,c,h,n);case k:g=8,c|=24;break;case j:return t=Nt(12,r,n,c|2),t.elementType=j,t.lanes=h,t;case K:return t=Nt(13,r,n,c),t.elementType=K,t.lanes=h,t;case ae:return t=Nt(19,r,n,c),t.elementType=ae,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:case M:g=10;break e;case V:g=9;break e;case F:g=11;break e;case ye:g=14;break e;case Ie:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Nt(g,r,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function Bi(t,n,r,l){return t=Nt(7,t,l,n),t.lanes=r,t}function lc(t,n,r){return t=Nt(6,t,null,n),t.lanes=r,t}function oc(t,n,r){return n=Nt(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ds=[],Is=0,xl=null,Ol=0,Ht=[],Bt=0,qi=null,vn=1,yn="";function Vi(t,n){Ds[Is++]=Ol,Ds[Is++]=xl,xl=t,Ol=n}function Pp(t,n,r){Ht[Bt++]=vn,Ht[Bt++]=yn,Ht[Bt++]=qi,qi=t;var l=vn;t=yn;var c=32-Rt(l)-1;l&=~(1<<c),r+=1;var h=32-Rt(n)+c;if(30<h){var g=c-c%5;h=(l&(1<<g)-1).toString(32),l>>=g,c-=g,vn=1<<32-Rt(n)+c|r<<c|l,yn=h+t}else vn=1<<h|r<<c|l,yn=t}function uc(t){t.return!==null&&(Vi(t,1),Pp(t,1,0))}function cc(t){for(;t===xl;)xl=Ds[--Is],Ds[Is]=null,Ol=Ds[--Is],Ds[Is]=null;for(;t===qi;)qi=Ht[--Bt],Ht[Bt]=null,yn=Ht[--Bt],Ht[Bt]=null,vn=Ht[--Bt],Ht[Bt]=null}var dt=null,Pe=null,ve=!1,Gi=null,an=!1,fc=Error(a(519));function Yi(t){var n=Error(a(418,""));throw zr(Pt(n,t)),fc}function zp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ot]=t,n[gt]=l,r){case"dialog":he("cancel",n),he("close",n);break;case"iframe":case"object":case"embed":he("load",n);break;case"video":case"audio":for(r=0;r<ua.length;r++)he(ua[r],n);break;case"source":he("error",n);break;case"img":case"image":case"link":he("error",n),he("load",n);break;case"details":he("toggle",n);break;case"input":he("invalid",n),ep(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),gl(n);break;case"select":he("invalid",n);break;case"textarea":he("invalid",n),np(n,l.value,l.defaultValue,l.children),gl(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||n_(n.textContent,r)?(l.popover!=null&&(he("beforetoggle",n),he("toggle",n)),l.onScroll!=null&&he("scroll",n),l.onScrollEnd!=null&&he("scrollend",n),l.onClick!=null&&(n.onclick=co),n=!0):n=!1,n||Yi(t)}function Hp(t){for(dt=t.return;dt;)switch(dt.tag){case 5:case 13:an=!1;return;case 27:case 3:an=!0;return;default:dt=dt.return}}function jr(t){if(t!==dt)return!1;if(!ve)return Hp(t),ve=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Nf(t.type,t.memoizedProps)),r=!r),r&&Pe&&Yi(t),Hp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Pe=Xt(t.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Pe=null}}else n===27?(n=Pe,oi(t.type)?(t=If,If=null,Pe=t):Pe=n):Pe=dt?Xt(t.stateNode.nextSibling):null;return!0}function Pr(){Pe=dt=null,ve=!1}function Bp(){var t=Gi;return t!==null&&(Et===null?Et=t:Et.push.apply(Et,t),Gi=null),t}function zr(t){Gi===null?Gi=[t]:Gi.push(t)}var hc=B(null),Fi=null,En=null;function Kn(t,n,r){G(hc,n._currentValue),n._currentValue=r}function Sn(t){t._currentValue=hc.current,Q(hc)}function dc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function pc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;e:for(;h!==null;){var _=h;h=c;for(var b=0;b<n.length;b++)if(_.context===n[b]){h.lanes|=r,_=h.alternate,_!==null&&(_.lanes|=r),dc(h.return,r,t),l||(g=null);break e}h=_.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=r,h=g.alternate,h!==null&&(h.lanes|=r),dc(g,r,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Hr(t,n,r,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var _=c.type;At(c.pendingProps.value,g.value)||(t!==null?t.push(_):t=[_])}}else if(c===Ct.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(ma):t=[ma])}c=c.return}t!==null&&pc(n,t,r,l),n.flags|=262144}function Dl(t){for(t=t.firstContext;t!==null;){if(!At(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ki(t){Fi=t,En=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ut(t){return qp(Fi,t)}function Il(t,n){return Fi===null&&Ki(t),qp(t,n)}function qp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},En===null){if(t===null)throw Error(a(308));En=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else En=En.next=n;return r}var XS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},WS=s.unstable_scheduleCallback,ZS=s.unstable_NormalPriority,Ye={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mc(){return{controller:new XS,data:new Map,refCount:0}}function Br(t){t.refCount--,t.refCount===0&&WS(ZS,function(){t.controller.abort()})}var qr=null,gc=0,Ms=0,ks=null;function $S(t,n){if(qr===null){var r=qr=[];gc=0,Ms=yf(),ks={status:"pending",value:void 0,then:function(l){r.push(l)}}}return gc++,n.then(Vp,Vp),n}function Vp(){if(--gc===0&&qr!==null){ks!==null&&(ks.status="fulfilled");var t=qr;qr=null,Ms=0,ks=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function JS(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Gp=U.S;U.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&$S(t,n),Gp!==null&&Gp(t,n)};var Qi=B(null);function _c(){var t=Qi.current;return t!==null?t:Oe.pooledCache}function Ml(t,n){n===null?G(Qi,Qi.current):G(Qi,n.pool)}function Yp(){var t=_c();return t===null?null:{parent:Ye._currentValue,pool:t}}var Vr=Error(a(460)),Fp=Error(a(474)),kl=Error(a(542)),vc={then:function(){}};function Kp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ll(){}function Qp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Ll,Ll),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Wp(t),t;default:if(typeof n.status=="string")n.then(Ll,Ll);else{if(t=Oe,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Wp(t),t}throw Gr=n,Vr}}var Gr=null;function Xp(){if(Gr===null)throw Error(a(459));var t=Gr;return Gr=null,t}function Wp(t){if(t===Vr||t===kl)throw Error(a(483))}var Qn=!1;function yc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ec(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wn(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ee&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Al(t),Up(t,null,r),n}return Rl(t,l,n,r),Al(t)}function Yr(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Vd(t,r)}}function Sc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,r=r.next}while(r!==null);h===null?c=h=n:h=h.next=n}else c=h=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var bc=!1;function Fr(){if(bc){var t=ks;if(t!==null)throw t}}function Kr(t,n,r,l){bc=!1;var c=t.updateQueue;Qn=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var b=_,x=b.next;b.next=null,g===null?h=x:g.next=x,g=b;var L=t.alternate;L!==null&&(L=L.updateQueue,_=L.lastBaseUpdate,_!==g&&(_===null?L.firstBaseUpdate=x:_.next=x,L.lastBaseUpdate=b))}if(h!==null){var H=c.baseState;g=0,L=x=b=null,_=h;do{var O=_.lane&-536870913,I=O!==_.lane;if(I?(pe&O)===O:(l&O)===O){O!==0&&O===Ms&&(bc=!0),L!==null&&(L=L.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ie=t,$=_;O=n;var we=r;switch($.tag){case 1:if(ie=$.payload,typeof ie=="function"){H=ie.call(we,H,O);break e}H=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=$.payload,O=typeof ie=="function"?ie.call(we,H,O):ie,O==null)break e;H=v({},H,O);break e;case 2:Qn=!0}}O=_.callback,O!==null&&(t.flags|=64,I&&(t.flags|=8192),I=c.callbacks,I===null?c.callbacks=[O]:I.push(O))}else I={lane:O,tag:_.tag,payload:_.payload,callback:_.callback,next:null},L===null?(x=L=I,b=H):L=L.next=I,g|=O;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;I=_,_=I.next,I.next=null,c.lastBaseUpdate=I,c.shared.pending=null}}while(!0);L===null&&(b=H),c.baseState=b,c.firstBaseUpdate=x,c.lastBaseUpdate=L,h===null&&(c.shared.lanes=0),si|=g,t.lanes=g,t.memoizedState=H}}function Zp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function $p(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Zp(r[t],n)}var Ls=B(null),Ul=B(0);function Jp(t,n){t=Nn,G(Ul,t),G(Ls,n),Nn=t|n.baseLanes}function Tc(){G(Ul,Nn),G(Ls,Ls.current)}function Cc(){Nn=Ul.current,Q(Ls),Q(Ul)}var Zn=0,le=null,Te=null,Ve=null,jl=!1,Us=!1,Xi=!1,Pl=0,Qr=0,js=null,eb=0;function Be(){throw Error(a(321))}function wc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!At(t[r],n[r]))return!1;return!0}function Rc(t,n,r,l,c,h){return Zn=h,le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=t===null||t.memoizedState===null?Um:jm,Xi=!1,h=r(l,c),Xi=!1,Us&&(h=tm(n,r,l,c)),em(t),h}function em(t){U.H=Gl;var n=Te!==null&&Te.next!==null;if(Zn=0,Ve=Te=le=null,jl=!1,Qr=0,js=null,n)throw Error(a(300));t===null||We||(t=t.dependencies,t!==null&&Dl(t)&&(We=!0))}function tm(t,n,r,l){le=t;var c=0;do{if(Us&&(js=null),Qr=0,Us=!1,25<=c)throw Error(a(301));if(c+=1,Ve=Te=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}U.H=lb,h=n(r,l)}while(Us);return h}function tb(){var t=U.H,n=t.useState()[0];return n=typeof n.then=="function"?Xr(n):n,t=t.useState()[0],(Te!==null?Te.memoizedState:null)!==t&&(le.flags|=1024),n}function Ac(){var t=Pl!==0;return Pl=0,t}function Nc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function xc(t){if(jl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}jl=!1}Zn=0,Ve=Te=le=null,Us=!1,Qr=Pl=0,js=null}function vt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?le.memoizedState=Ve=t:Ve=Ve.next=t,Ve}function Ge(){if(Te===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var n=Ve===null?le.memoizedState:Ve.next;if(n!==null)Ve=n,Te=t;else{if(t===null)throw le.alternate===null?Error(a(467)):Error(a(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ve===null?le.memoizedState=Ve=t:Ve=Ve.next=t}return Ve}function Oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xr(t){var n=Qr;return Qr+=1,js===null&&(js=[]),t=Qp(js,t,n),n=le,(Ve===null?n.memoizedState:Ve.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?Um:jm),t}function zl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Xr(t);if(t.$$typeof===M)return ut(t)}throw Error(a(438,String(t)))}function Dc(t){var n=null,r=le.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Oc(),le.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=nt;return n.index++,r}function bn(t,n){return typeof n=="function"?n(t):n}function Hl(t){var n=Ge();return Ic(n,Te,t)}function Ic(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var _=g=null,b=null,x=n,L=!1;do{var H=x.lane&-536870913;if(H!==x.lane?(pe&H)===H:(Zn&H)===H){var O=x.revertLane;if(O===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),H===Ms&&(L=!0);else if((Zn&O)===O){x=x.next,O===Ms&&(L=!0);continue}else H={lane:0,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},b===null?(_=b=H,g=h):b=b.next=H,le.lanes|=O,si|=O;H=x.action,Xi&&r(h,H),h=x.hasEagerState?x.eagerState:r(h,H)}else O={lane:H,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},b===null?(_=b=O,g=h):b=b.next=O,le.lanes|=H,si|=H;x=x.next}while(x!==null&&x!==n);if(b===null?g=h:b.next=_,!At(h,t.memoizedState)&&(We=!0,L&&(r=ks,r!==null)))throw r;t.memoizedState=h,t.baseState=g,t.baseQueue=b,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Mc(t){var n=Ge(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,h=n.memoizedState;if(c!==null){r.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);At(h,n.memoizedState)||(We=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),r.lastRenderedState=h}return[h,l]}function nm(t,n,r){var l=le,c=Ge(),h=ve;if(h){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!At((Te||c).memoizedState,r);g&&(c.memoizedState=r,We=!0),c=c.queue;var _=rm.bind(null,l,c,t);if(Wr(2048,8,_,[t]),c.getSnapshot!==n||g||Ve!==null&&Ve.memoizedState.tag&1){if(l.flags|=2048,Ps(9,Bl(),sm.bind(null,l,c,r,n),null),Oe===null)throw Error(a(349));h||(Zn&124)!==0||im(l,n,r)}return r}function im(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=le.updateQueue,n===null?(n=Oc(),le.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function sm(t,n,r,l){n.value=r,n.getSnapshot=l,am(n)&&lm(t)}function rm(t,n,r){return r(function(){am(n)&&lm(t)})}function am(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!At(t,r)}catch{return!0}}function lm(t){var n=xs(t,2);n!==null&&Mt(n,t,2)}function kc(t){var n=vt();if(typeof t=="function"){var r=t;if(t=r(),Xi){Gn(!0);try{r()}finally{Gn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:t},n}function om(t,n,r,l){return t.baseState=r,Ic(t,Te,typeof l=="function"?l:bn)}function nb(t,n,r,l,c){if(Vl(t))throw Error(a(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};U.T!==null?r(!0):h.isTransition=!1,l(h),r=n.pending,r===null?(h.next=n.pending=h,um(n,h)):(h.next=r.next,n.pending=r.next=h)}}function um(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=U.T,g={};U.T=g;try{var _=r(c,l),b=U.S;b!==null&&b(g,_),cm(t,n,_)}catch(x){Lc(t,n,x)}finally{U.T=h}}else try{h=r(c,l),cm(t,n,h)}catch(x){Lc(t,n,x)}}function cm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){fm(t,n,l)},function(l){return Lc(t,n,l)}):fm(t,n,r)}function fm(t,n,r){n.status="fulfilled",n.value=r,hm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,um(t,r)))}function Lc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,hm(n),n=n.next;while(n!==l)}t.action=null}function hm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function dm(t,n){return n}function pm(t,n){if(ve){var r=Oe.formState;if(r!==null){e:{var l=le;if(ve){if(Pe){t:{for(var c=Pe,h=an;c.nodeType!==8;){if(!h){c=null;break t}if(c=Xt(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Pe=Xt(c.nextSibling),l=c.data==="F!";break e}}Yi(l)}l=!1}l&&(n=r[0])}}return r=vt(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dm,lastRenderedState:n},r.queue=l,r=Mm.bind(null,le,l),l.dispatch=r,l=kc(!1),h=Hc.bind(null,le,!1,l.queue),l=vt(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=nb.bind(null,le,c,h,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function mm(t){var n=Ge();return gm(n,Te,t)}function gm(t,n,r){if(n=Ic(t,n,dm)[0],t=Hl(bn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Xr(n)}catch(g){throw g===Vr?kl:g}else l=n;n=Ge();var c=n.queue,h=c.dispatch;return r!==n.memoizedState&&(le.flags|=2048,Ps(9,Bl(),ib.bind(null,c,r),null)),[l,h,t]}function ib(t,n){t.action=n}function _m(t){var n=Ge(),r=Te;if(r!==null)return gm(n,r,t);Ge(),n=n.memoizedState,r=Ge();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ps(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=le.updateQueue,n===null&&(n=Oc(),le.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Bl(){return{destroy:void 0,resource:void 0}}function vm(){return Ge().memoizedState}function ql(t,n,r,l){var c=vt();l=l===void 0?null:l,le.flags|=t,c.memoizedState=Ps(1|n,Bl(),r,l)}function Wr(t,n,r,l){var c=Ge();l=l===void 0?null:l;var h=c.memoizedState.inst;Te!==null&&l!==null&&wc(l,Te.memoizedState.deps)?c.memoizedState=Ps(n,h,r,l):(le.flags|=t,c.memoizedState=Ps(1|n,h,r,l))}function ym(t,n){ql(8390656,8,t,n)}function Em(t,n){Wr(2048,8,t,n)}function Sm(t,n){return Wr(4,2,t,n)}function bm(t,n){return Wr(4,4,t,n)}function Tm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Cm(t,n,r){r=r!=null?r.concat([t]):null,Wr(4,4,Tm.bind(null,n,t),r)}function Uc(){}function wm(t,n){var r=Ge();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&wc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Rm(t,n){var r=Ge();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&wc(n,l[1]))return l[0];if(l=t(),Xi){Gn(!0);try{t()}finally{Gn(!1)}}return r.memoizedState=[l,n],l}function jc(t,n,r){return r===void 0||(Zn&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=xg(),le.lanes|=t,si|=t,r)}function Am(t,n,r,l){return At(r,n)?r:Ls.current!==null?(t=jc(t,r,l),At(t,n)||(We=!0),t):(Zn&42)===0?(We=!0,t.memoizedState=r):(t=xg(),le.lanes|=t,si|=t,n)}function Nm(t,n,r,l,c){var h=Y.p;Y.p=h!==0&&8>h?h:8;var g=U.T,_={};U.T=_,Hc(t,!1,n,r);try{var b=c(),x=U.S;if(x!==null&&x(_,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var L=JS(b,l);Zr(t,n,L,It(t))}else Zr(t,n,l,It(t))}catch(H){Zr(t,n,{then:function(){},status:"rejected",reason:H},It())}finally{Y.p=h,U.T=g}}function sb(){}function Pc(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=xm(t).queue;Nm(t,c,n,ee,r===null?sb:function(){return Om(t),r(l)})}function xm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:ee},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Om(t){var n=xm(t).next.queue;Zr(t,n,{},It())}function zc(){return ut(ma)}function Dm(){return Ge().memoizedState}function Im(){return Ge().memoizedState}function rb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=It();t=Xn(r);var l=Wn(n,t,r);l!==null&&(Mt(l,n,r),Yr(l,n,r)),n={cache:mc()},t.payload=n;return}n=n.return}}function ab(t,n,r){var l=It();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Vl(t)?km(n,r):(r=rc(t,n,r,l),r!==null&&(Mt(r,t,l),Lm(r,n,l)))}function Mm(t,n,r){var l=It();Zr(t,n,r,l)}function Zr(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Vl(t))km(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,_=h(g,r);if(c.hasEagerState=!0,c.eagerState=_,At(_,g))return Rl(t,n,c,0),Oe===null&&wl(),!1}catch{}finally{}if(r=rc(t,n,c,l),r!==null)return Mt(r,t,l),Lm(r,n,l),!0}return!1}function Hc(t,n,r,l){if(l={lane:2,revertLane:yf(),action:l,hasEagerState:!1,eagerState:null,next:null},Vl(t)){if(n)throw Error(a(479))}else n=rc(t,r,l,2),n!==null&&Mt(n,t,2)}function Vl(t){var n=t.alternate;return t===le||n!==null&&n===le}function km(t,n){Us=jl=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Lm(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Vd(t,r)}}var Gl={readContext:ut,use:zl,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be},Um={readContext:ut,use:zl,useCallback:function(t,n){return vt().memoizedState=[t,n===void 0?null:n],t},useContext:ut,useEffect:ym,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ql(4194308,4,Tm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ql(4194308,4,t,n)},useInsertionEffect:function(t,n){ql(4,2,t,n)},useMemo:function(t,n){var r=vt();n=n===void 0?null:n;var l=t();if(Xi){Gn(!0);try{t()}finally{Gn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=vt();if(r!==void 0){var c=r(n);if(Xi){Gn(!0);try{r(n)}finally{Gn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=ab.bind(null,le,t),[l.memoizedState,t]},useRef:function(t){var n=vt();return t={current:t},n.memoizedState=t},useState:function(t){t=kc(t);var n=t.queue,r=Mm.bind(null,le,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Uc,useDeferredValue:function(t,n){var r=vt();return jc(r,t,n)},useTransition:function(){var t=kc(!1);return t=Nm.bind(null,le,t.queue,!0,!1),vt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=le,c=vt();if(ve){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Oe===null)throw Error(a(349));(pe&124)!==0||im(l,n,r)}c.memoizedState=r;var h={value:r,getSnapshot:n};return c.queue=h,ym(rm.bind(null,l,h,t),[t]),l.flags|=2048,Ps(9,Bl(),sm.bind(null,l,h,r,n),null),r},useId:function(){var t=vt(),n=Oe.identifierPrefix;if(ve){var r=yn,l=vn;r=(l&~(1<<32-Rt(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=Pl++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=eb++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:zc,useFormState:pm,useActionState:pm,useOptimistic:function(t){var n=vt();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Hc.bind(null,le,!0,r),r.dispatch=n,[t,n]},useMemoCache:Dc,useCacheRefresh:function(){return vt().memoizedState=rb.bind(null,le)}},jm={readContext:ut,use:zl,useCallback:wm,useContext:ut,useEffect:Em,useImperativeHandle:Cm,useInsertionEffect:Sm,useLayoutEffect:bm,useMemo:Rm,useReducer:Hl,useRef:vm,useState:function(){return Hl(bn)},useDebugValue:Uc,useDeferredValue:function(t,n){var r=Ge();return Am(r,Te.memoizedState,t,n)},useTransition:function(){var t=Hl(bn)[0],n=Ge().memoizedState;return[typeof t=="boolean"?t:Xr(t),n]},useSyncExternalStore:nm,useId:Dm,useHostTransitionStatus:zc,useFormState:mm,useActionState:mm,useOptimistic:function(t,n){var r=Ge();return om(r,Te,t,n)},useMemoCache:Dc,useCacheRefresh:Im},lb={readContext:ut,use:zl,useCallback:wm,useContext:ut,useEffect:Em,useImperativeHandle:Cm,useInsertionEffect:Sm,useLayoutEffect:bm,useMemo:Rm,useReducer:Mc,useRef:vm,useState:function(){return Mc(bn)},useDebugValue:Uc,useDeferredValue:function(t,n){var r=Ge();return Te===null?jc(r,t,n):Am(r,Te.memoizedState,t,n)},useTransition:function(){var t=Mc(bn)[0],n=Ge().memoizedState;return[typeof t=="boolean"?t:Xr(t),n]},useSyncExternalStore:nm,useId:Dm,useHostTransitionStatus:zc,useFormState:_m,useActionState:_m,useOptimistic:function(t,n){var r=Ge();return Te!==null?om(r,Te,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Dc,useCacheRefresh:Im},zs=null,$r=0;function Yl(t){var n=$r;return $r+=1,zs===null&&(zs=[]),Qp(zs,t,n)}function Jr(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Fl(t,n){throw n.$$typeof===E?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Pm(t){var n=t._init;return n(t._payload)}function zm(t){function n(w,C){if(t){var N=w.deletions;N===null?(w.deletions=[C],w.flags|=16):N.push(C)}}function r(w,C){if(!t)return null;for(;C!==null;)n(w,C),C=C.sibling;return null}function l(w){for(var C=new Map;w!==null;)w.key!==null?C.set(w.key,w):C.set(w.index,w),w=w.sibling;return C}function c(w,C){return w=_n(w,C),w.index=0,w.sibling=null,w}function h(w,C,N){return w.index=N,t?(N=w.alternate,N!==null?(N=N.index,N<C?(w.flags|=67108866,C):N):(w.flags|=67108866,C)):(w.flags|=1048576,C)}function g(w){return t&&w.alternate===null&&(w.flags|=67108866),w}function _(w,C,N,z){return C===null||C.tag!==6?(C=lc(N,w.mode,z),C.return=w,C):(C=c(C,N),C.return=w,C)}function b(w,C,N,z){var X=N.type;return X===A?L(w,C,N.props.children,z,N.key):C!==null&&(C.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Ie&&Pm(X)===C.type)?(C=c(C,N.props),Jr(C,N),C.return=w,C):(C=Nl(N.type,N.key,N.props,null,w.mode,z),Jr(C,N),C.return=w,C)}function x(w,C,N,z){return C===null||C.tag!==4||C.stateNode.containerInfo!==N.containerInfo||C.stateNode.implementation!==N.implementation?(C=oc(N,w.mode,z),C.return=w,C):(C=c(C,N.children||[]),C.return=w,C)}function L(w,C,N,z,X){return C===null||C.tag!==7?(C=Bi(N,w.mode,z,X),C.return=w,C):(C=c(C,N),C.return=w,C)}function H(w,C,N){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=lc(""+C,w.mode,N),C.return=w,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case S:return N=Nl(C.type,C.key,C.props,null,w.mode,N),Jr(N,C),N.return=w,N;case R:return C=oc(C,w.mode,N),C.return=w,C;case Ie:var z=C._init;return C=z(C._payload),H(w,C,N)}if(lt(C)||at(C))return C=Bi(C,w.mode,N,null),C.return=w,C;if(typeof C.then=="function")return H(w,Yl(C),N);if(C.$$typeof===M)return H(w,Il(w,C),N);Fl(w,C)}return null}function O(w,C,N,z){var X=C!==null?C.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return X!==null?null:_(w,C,""+N,z);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return N.key===X?b(w,C,N,z):null;case R:return N.key===X?x(w,C,N,z):null;case Ie:return X=N._init,N=X(N._payload),O(w,C,N,z)}if(lt(N)||at(N))return X!==null?null:L(w,C,N,z,null);if(typeof N.then=="function")return O(w,C,Yl(N),z);if(N.$$typeof===M)return O(w,C,Il(w,N),z);Fl(w,N)}return null}function I(w,C,N,z,X){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return w=w.get(N)||null,_(C,w,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return w=w.get(z.key===null?N:z.key)||null,b(C,w,z,X);case R:return w=w.get(z.key===null?N:z.key)||null,x(C,w,z,X);case Ie:var oe=z._init;return z=oe(z._payload),I(w,C,N,z,X)}if(lt(z)||at(z))return w=w.get(N)||null,L(C,w,z,X,null);if(typeof z.then=="function")return I(w,C,N,Yl(z),X);if(z.$$typeof===M)return I(w,C,N,Il(C,z),X);Fl(C,z)}return null}function ie(w,C,N,z){for(var X=null,oe=null,W=C,J=C=0,$e=null;W!==null&&J<N.length;J++){W.index>J?($e=W,W=null):$e=W.sibling;var ge=O(w,W,N[J],z);if(ge===null){W===null&&(W=$e);break}t&&W&&ge.alternate===null&&n(w,W),C=h(ge,C,J),oe===null?X=ge:oe.sibling=ge,oe=ge,W=$e}if(J===N.length)return r(w,W),ve&&Vi(w,J),X;if(W===null){for(;J<N.length;J++)W=H(w,N[J],z),W!==null&&(C=h(W,C,J),oe===null?X=W:oe.sibling=W,oe=W);return ve&&Vi(w,J),X}for(W=l(W);J<N.length;J++)$e=I(W,w,J,N[J],z),$e!==null&&(t&&$e.alternate!==null&&W.delete($e.key===null?J:$e.key),C=h($e,C,J),oe===null?X=$e:oe.sibling=$e,oe=$e);return t&&W.forEach(function(di){return n(w,di)}),ve&&Vi(w,J),X}function $(w,C,N,z){if(N==null)throw Error(a(151));for(var X=null,oe=null,W=C,J=C=0,$e=null,ge=N.next();W!==null&&!ge.done;J++,ge=N.next()){W.index>J?($e=W,W=null):$e=W.sibling;var di=O(w,W,ge.value,z);if(di===null){W===null&&(W=$e);break}t&&W&&di.alternate===null&&n(w,W),C=h(di,C,J),oe===null?X=di:oe.sibling=di,oe=di,W=$e}if(ge.done)return r(w,W),ve&&Vi(w,J),X;if(W===null){for(;!ge.done;J++,ge=N.next())ge=H(w,ge.value,z),ge!==null&&(C=h(ge,C,J),oe===null?X=ge:oe.sibling=ge,oe=ge);return ve&&Vi(w,J),X}for(W=l(W);!ge.done;J++,ge=N.next())ge=I(W,w,J,ge.value,z),ge!==null&&(t&&ge.alternate!==null&&W.delete(ge.key===null?J:ge.key),C=h(ge,C,J),oe===null?X=ge:oe.sibling=ge,oe=ge);return t&&W.forEach(function(oT){return n(w,oT)}),ve&&Vi(w,J),X}function we(w,C,N,z){if(typeof N=="object"&&N!==null&&N.type===A&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case S:e:{for(var X=N.key;C!==null;){if(C.key===X){if(X=N.type,X===A){if(C.tag===7){r(w,C.sibling),z=c(C,N.props.children),z.return=w,w=z;break e}}else if(C.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Ie&&Pm(X)===C.type){r(w,C.sibling),z=c(C,N.props),Jr(z,N),z.return=w,w=z;break e}r(w,C);break}else n(w,C);C=C.sibling}N.type===A?(z=Bi(N.props.children,w.mode,z,N.key),z.return=w,w=z):(z=Nl(N.type,N.key,N.props,null,w.mode,z),Jr(z,N),z.return=w,w=z)}return g(w);case R:e:{for(X=N.key;C!==null;){if(C.key===X)if(C.tag===4&&C.stateNode.containerInfo===N.containerInfo&&C.stateNode.implementation===N.implementation){r(w,C.sibling),z=c(C,N.children||[]),z.return=w,w=z;break e}else{r(w,C);break}else n(w,C);C=C.sibling}z=oc(N,w.mode,z),z.return=w,w=z}return g(w);case Ie:return X=N._init,N=X(N._payload),we(w,C,N,z)}if(lt(N))return ie(w,C,N,z);if(at(N)){if(X=at(N),typeof X!="function")throw Error(a(150));return N=X.call(N),$(w,C,N,z)}if(typeof N.then=="function")return we(w,C,Yl(N),z);if(N.$$typeof===M)return we(w,C,Il(w,N),z);Fl(w,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,C!==null&&C.tag===6?(r(w,C.sibling),z=c(C,N),z.return=w,w=z):(r(w,C),z=lc(N,w.mode,z),z.return=w,w=z),g(w)):r(w,C)}return function(w,C,N,z){try{$r=0;var X=we(w,C,N,z);return zs=null,X}catch(W){if(W===Vr||W===kl)throw W;var oe=Nt(29,W,null,w.mode);return oe.lanes=z,oe.return=w,oe}finally{}}}var Hs=zm(!0),Hm=zm(!1),qt=B(null),ln=null;function $n(t){var n=t.alternate;G(Fe,Fe.current&1),G(qt,t),ln===null&&(n===null||Ls.current!==null||n.memoizedState!==null)&&(ln=t)}function Bm(t){if(t.tag===22){if(G(Fe,Fe.current),G(qt,t),ln===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ln=t)}}else Jn()}function Jn(){G(Fe,Fe.current),G(qt,qt.current)}function Tn(t){Q(qt),ln===t&&(ln=null),Q(Fe)}var Fe=B(0);function Kl(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Df(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Bc(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:v({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var qc={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=It(),c=Xn(l);c.payload=n,r!=null&&(c.callback=r),n=Wn(t,c,l),n!==null&&(Mt(n,t,l),Yr(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=It(),c=Xn(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Wn(t,c,l),n!==null&&(Mt(n,t,l),Yr(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=It(),l=Xn(r);l.tag=2,n!=null&&(l.callback=n),n=Wn(t,l,r),n!==null&&(Mt(n,t,r),Yr(n,t,r))}};function qm(t,n,r,l,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,g):n.prototype&&n.prototype.isPureReactComponent?!Lr(r,l)||!Lr(c,h):!0}function Vm(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&qc.enqueueReplaceState(n,n.state,null)}function Wi(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=v({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Ql=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Gm(t){Ql(t)}function Ym(t){console.error(t)}function Fm(t){Ql(t)}function Xl(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Km(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Vc(t,n,r){return r=Xn(r),r.tag=3,r.payload={element:null},r.callback=function(){Xl(t,n)},r}function Qm(t){return t=Xn(t),t.tag=3,t}function Xm(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){Km(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Km(n,r,l),typeof c!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function ob(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Hr(n,r,c,!0),r=qt.current,r!==null){switch(r.tag){case 13:return ln===null?pf():r.alternate===null&&ze===0&&(ze=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===vc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),gf(t,l,c)),!1;case 22:return r.flags|=65536,l===vc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),gf(t,l,c)),!1}throw Error(a(435,r.tag))}return gf(t,l,c),pf(),!1}if(ve)return n=qt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==fc&&(t=Error(a(422),{cause:l}),zr(Pt(t,r)))):(l!==fc&&(n=Error(a(423),{cause:l}),zr(Pt(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Pt(l,r),c=Vc(t.stateNode,l,c),Sc(t,c),ze!==4&&(ze=2)),!1;var h=Error(a(520),{cause:l});if(h=Pt(h,r),aa===null?aa=[h]:aa.push(h),ze!==4&&(ze=2),n===null)return!0;l=Pt(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Vc(r.stateNode,l,t),Sc(r,t),!1;case 1:if(n=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ri===null||!ri.has(h))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Qm(c),Xm(c,t,r,l),Sc(r,c),!1}r=r.return}while(r!==null);return!1}var Wm=Error(a(461)),We=!1;function it(t,n,r,l){n.child=t===null?Hm(n,null,r,l):Hs(n,t.child,r,l)}function Zm(t,n,r,l,c){r=r.render;var h=n.ref;if("ref"in l){var g={};for(var _ in l)_!=="ref"&&(g[_]=l[_])}else g=l;return Ki(n),l=Rc(t,n,r,g,h,c),_=Ac(),t!==null&&!We?(Nc(t,n,c),Cn(t,n,c)):(ve&&_&&uc(n),n.flags|=1,it(t,n,l,c),n.child)}function $m(t,n,r,l,c){if(t===null){var h=r.type;return typeof h=="function"&&!ac(h)&&h.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=h,Jm(t,n,h,l,c)):(t=Nl(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Zc(t,c)){var g=h.memoizedProps;if(r=r.compare,r=r!==null?r:Lr,r(g,l)&&t.ref===n.ref)return Cn(t,n,c)}return n.flags|=1,t=_n(h,l),t.ref=n.ref,t.return=n,n.child=t}function Jm(t,n,r,l,c){if(t!==null){var h=t.memoizedProps;if(Lr(h,l)&&t.ref===n.ref)if(We=!1,n.pendingProps=l=h,Zc(t,c))(t.flags&131072)!==0&&(We=!0);else return n.lanes=t.lanes,Cn(t,n,c)}return Gc(t,n,r,l,c)}function eg(t,n,r){var l=n.pendingProps,c=l.children,h=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=h!==null?h.baseLanes|r:r,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return tg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ml(n,h!==null?h.cachePool:null),h!==null?Jp(n,h):Tc(),Bm(n);else return n.lanes=n.childLanes=536870912,tg(t,n,h!==null?h.baseLanes|r:r,r)}else h!==null?(Ml(n,h.cachePool),Jp(n,h),Jn(),n.memoizedState=null):(t!==null&&Ml(n,null),Tc(),Jn());return it(t,n,c,r),n.child}function tg(t,n,r,l){var c=_c();return c=c===null?null:{parent:Ye._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Ml(n,null),Tc(),Bm(n),t!==null&&Hr(t,n,l,!0),null}function Wl(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Gc(t,n,r,l,c){return Ki(n),r=Rc(t,n,r,l,void 0,c),l=Ac(),t!==null&&!We?(Nc(t,n,c),Cn(t,n,c)):(ve&&l&&uc(n),n.flags|=1,it(t,n,r,c),n.child)}function ng(t,n,r,l,c,h){return Ki(n),n.updateQueue=null,r=tm(n,l,r,c),em(t),l=Ac(),t!==null&&!We?(Nc(t,n,h),Cn(t,n,h)):(ve&&l&&uc(n),n.flags|=1,it(t,n,r,h),n.child)}function ig(t,n,r,l,c){if(Ki(n),n.stateNode===null){var h=Os,g=r.contextType;typeof g=="object"&&g!==null&&(h=ut(g)),h=new r(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=qc,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},yc(n),g=r.contextType,h.context=typeof g=="object"&&g!==null?ut(g):Os,h.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Bc(n,r,g,l),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&qc.enqueueReplaceState(h,h.state,null),Kr(n,l,h,c),Fr(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var _=n.memoizedProps,b=Wi(r,_);h.props=b;var x=h.context,L=r.contextType;g=Os,typeof L=="object"&&L!==null&&(g=ut(L));var H=r.getDerivedStateFromProps;L=typeof H=="function"||typeof h.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,L||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_||x!==g)&&Vm(n,h,l,g),Qn=!1;var O=n.memoizedState;h.state=O,Kr(n,l,h,c),Fr(),x=n.memoizedState,_||O!==x||Qn?(typeof H=="function"&&(Bc(n,r,H,l),x=n.memoizedState),(b=Qn||qm(n,r,b,l,O,x,g))?(L||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=x),h.props=l,h.state=x,h.context=g,l=b):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Ec(t,n),g=n.memoizedProps,L=Wi(r,g),h.props=L,H=n.pendingProps,O=h.context,x=r.contextType,b=Os,typeof x=="object"&&x!==null&&(b=ut(x)),_=r.getDerivedStateFromProps,(x=typeof _=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==H||O!==b)&&Vm(n,h,l,b),Qn=!1,O=n.memoizedState,h.state=O,Kr(n,l,h,c),Fr();var I=n.memoizedState;g!==H||O!==I||Qn||t!==null&&t.dependencies!==null&&Dl(t.dependencies)?(typeof _=="function"&&(Bc(n,r,_,l),I=n.memoizedState),(L=Qn||qm(n,r,L,l,O,I,b)||t!==null&&t.dependencies!==null&&Dl(t.dependencies))?(x||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,I,b),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,I,b)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=I),h.props=l,h.state=I,h.context=b,l=L):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,Wl(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=Hs(n,t.child,null,c),n.child=Hs(n,null,r,c)):it(t,n,r,c),n.memoizedState=h.state,t=n.child):t=Cn(t,n,c),t}function sg(t,n,r,l){return Pr(),n.flags|=256,it(t,n,r,l),n.child}var Yc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fc(t){return{baseLanes:t,cachePool:Yp()}}function Kc(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Vt),t}function rg(t,n,r){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(Fe.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(ve){if(c?$n(n):Jn(),ve){var _=Pe,b;if(b=_){e:{for(b=_,_=an;b.nodeType!==8;){if(!_){_=null;break e}if(b=Xt(b.nextSibling),b===null){_=null;break e}}_=b}_!==null?(n.memoizedState={dehydrated:_,treeContext:qi!==null?{id:vn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},b=Nt(18,null,null,0),b.stateNode=_,b.return=n,n.child=b,dt=n,Pe=null,b=!0):b=!1}b||Yi(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Df(_)?n.lanes=32:n.lanes=536870912,null;Tn(n)}return _=l.children,l=l.fallback,c?(Jn(),c=n.mode,_=Zl({mode:"hidden",children:_},c),l=Bi(l,c,r,null),_.return=n,l.return=n,_.sibling=l,n.child=_,c=n.child,c.memoizedState=Fc(r),c.childLanes=Kc(t,g,r),n.memoizedState=Yc,l):($n(n),Qc(n,_))}if(b=t.memoizedState,b!==null&&(_=b.dehydrated,_!==null)){if(h)n.flags&256?($n(n),n.flags&=-257,n=Xc(t,n,r)):n.memoizedState!==null?(Jn(),n.child=t.child,n.flags|=128,n=null):(Jn(),c=l.fallback,_=n.mode,l=Zl({mode:"visible",children:l.children},_),c=Bi(c,_,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Hs(n,t.child,null,r),l=n.child,l.memoizedState=Fc(r),l.childLanes=Kc(t,g,r),n.memoizedState=Yc,n=c);else if($n(n),Df(_)){if(g=_.nextSibling&&_.nextSibling.dataset,g)var x=g.dgst;g=x,l=Error(a(419)),l.stack="",l.digest=g,zr({value:l,source:null,stack:null}),n=Xc(t,n,r)}else if(We||Hr(t,n,r,!1),g=(r&t.childLanes)!==0,We||g){if(g=Oe,g!==null&&(l=r&-r,l=(l&42)!==0?1:Du(l),l=(l&(g.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,xs(t,l),Mt(g,t,l),Wm;_.data==="$?"||pf(),n=Xc(t,n,r)}else _.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,Pe=Xt(_.nextSibling),dt=n,ve=!0,Gi=null,an=!1,t!==null&&(Ht[Bt++]=vn,Ht[Bt++]=yn,Ht[Bt++]=qi,vn=t.id,yn=t.overflow,qi=n),n=Qc(n,l.children),n.flags|=4096);return n}return c?(Jn(),c=l.fallback,_=n.mode,b=t.child,x=b.sibling,l=_n(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,x!==null?c=_n(x,c):(c=Bi(c,_,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,_=t.child.memoizedState,_===null?_=Fc(r):(b=_.cachePool,b!==null?(x=Ye._currentValue,b=b.parent!==x?{parent:x,pool:x}:b):b=Yp(),_={baseLanes:_.baseLanes|r,cachePool:b}),c.memoizedState=_,c.childLanes=Kc(t,g,r),n.memoizedState=Yc,l):($n(n),r=t.child,t=r.sibling,r=_n(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Qc(t,n){return n=Zl({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zl(t,n){return t=Nt(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Xc(t,n,r){return Hs(n,t.child,null,r),t=Qc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ag(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),dc(t.return,n,r)}function Wc(t,n,r,l,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=r,h.tailMode=c)}function lg(t,n,r){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(it(t,n,l.children,r),l=Fe.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ag(t,r,n);else if(t.tag===19)ag(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(G(Fe,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Kl(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Wc(n,!1,c,r,h);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Kl(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Wc(n,!0,r,null,h);break;case"together":Wc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Cn(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),si|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Hr(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=_n(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=_n(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Zc(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Dl(t)))}function ub(t,n,r){switch(n.tag){case 3:ke(n,n.stateNode.containerInfo),Kn(n,Ye,t.memoizedState.cache),Pr();break;case 27:case 5:Ru(n);break;case 4:ke(n,n.stateNode.containerInfo);break;case 10:Kn(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?($n(n),n.flags|=128,null):(r&n.child.childLanes)!==0?rg(t,n,r):($n(n),t=Cn(t,n,r),t!==null?t.sibling:null);$n(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Hr(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return lg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(Fe,Fe.current),l)break;return null;case 22:case 23:return n.lanes=0,eg(t,n,r);case 24:Kn(n,Ye,t.memoizedState.cache)}return Cn(t,n,r)}function og(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)We=!0;else{if(!Zc(t,r)&&(n.flags&128)===0)return We=!1,ub(t,n,r);We=(t.flags&131072)!==0}else We=!1,ve&&(n.flags&1048576)!==0&&Pp(n,Ol,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")ac(l)?(t=Wi(l,t),n.tag=1,n=ig(null,n,l,t,r)):(n.tag=0,n=Gc(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===F){n.tag=11,n=Zm(null,n,l,t,r);break e}else if(c===ye){n.tag=14,n=$m(null,n,l,t,r);break e}}throw n=Li(l)||l,Error(a(306,n,""))}}return n;case 0:return Gc(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Wi(l,n.pendingProps),ig(t,n,l,c,r);case 3:e:{if(ke(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,Ec(t,n),Kr(n,l,null,r);var g=n.memoizedState;if(l=g.cache,Kn(n,Ye,l),l!==h.cache&&pc(n,[Ye],r,!0),Fr(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=sg(t,n,l,r);break e}else if(l!==c){c=Pt(Error(a(424)),n),zr(c),n=sg(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Pe=Xt(t.firstChild),dt=n,ve=!0,Gi=null,an=!0,r=Hm(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Pr(),l===c){n=Cn(t,n,r);break e}it(t,n,l,r)}n=n.child}return n;case 26:return Wl(t,n),t===null?(r=h_(n.type,null,n.pendingProps,null))?n.memoizedState=r:ve||(r=n.type,t=n.pendingProps,l=fo(se.current).createElement(r),l[ot]=n,l[gt]=t,rt(l,r,t),Xe(l),n.stateNode=l):n.memoizedState=h_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ru(n),t===null&&ve&&(l=n.stateNode=u_(n.type,n.pendingProps,se.current),dt=n,an=!0,c=Pe,oi(n.type)?(If=c,Pe=Xt(l.firstChild)):Pe=c),it(t,n,n.pendingProps.children,r),Wl(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ve&&((c=l=Pe)&&(l=jb(l,n.type,n.pendingProps,an),l!==null?(n.stateNode=l,dt=n,Pe=Xt(l.firstChild),an=!1,c=!0):c=!1),c||Yi(n)),Ru(n),c=n.type,h=n.pendingProps,g=t!==null?t.memoizedProps:null,l=h.children,Nf(c,h)?l=null:g!==null&&Nf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Rc(t,n,tb,null,null,r),ma._currentValue=c),Wl(t,n),it(t,n,l,r),n.child;case 6:return t===null&&ve&&((t=r=Pe)&&(r=Pb(r,n.pendingProps,an),r!==null?(n.stateNode=r,dt=n,Pe=null,t=!0):t=!1),t||Yi(n)),null;case 13:return rg(t,n,r);case 4:return ke(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Hs(n,null,l,r):it(t,n,l,r),n.child;case 11:return Zm(t,n,n.type,n.pendingProps,r);case 7:return it(t,n,n.pendingProps,r),n.child;case 8:return it(t,n,n.pendingProps.children,r),n.child;case 12:return it(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Kn(n,n.type,l.value),it(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Ki(n),c=ut(c),l=l(c),n.flags|=1,it(t,n,l,r),n.child;case 14:return $m(t,n,n.type,n.pendingProps,r);case 15:return Jm(t,n,n.type,n.pendingProps,r);case 19:return lg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=Zl(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=_n(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return eg(t,n,r);case 24:return Ki(n),l=ut(Ye),t===null?(c=_c(),c===null&&(c=Oe,h=mc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=r),c=h),n.memoizedState={parent:l,cache:c},yc(n),Kn(n,Ye,c)):((t.lanes&r)!==0&&(Ec(t,n),Kr(n,null,null,r),Fr()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Kn(n,Ye,l)):(l=h.cache,Kn(n,Ye,l),l!==c.cache&&pc(n,[Ye],r,!0))),it(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function wn(t){t.flags|=4}function ug(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!__(n)){if(n=qt.current,n!==null&&((pe&4194048)===pe?ln!==null:(pe&62914560)!==pe&&(pe&536870912)===0||n!==ln))throw Gr=vc,Fp;t.flags|=8192}}function $l(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Bd():536870912,t.lanes|=n,Gs|=n)}function ea(t,n){if(!ve)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function je(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function cb(t,n,r){var l=n.pendingProps;switch(cc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(n),null;case 1:return je(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Sn(Ye),Vn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(jr(n)?wn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bp())),je(n),null;case 26:return r=n.memoizedState,t===null?(wn(n),r!==null?(je(n),ug(n,r)):(je(n),n.flags&=-16777217)):r?r!==t.memoizedState?(wn(n),je(n),ug(n,r)):(je(n),n.flags&=-16777217):(t.memoizedProps!==l&&wn(n),je(n),n.flags&=-16777217),null;case 27:ul(n),r=se.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return je(n),null}t=Z.current,jr(n)?zp(n):(t=u_(c,l,r),n.stateNode=t,wn(n))}return je(n),null;case 5:if(ul(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return je(n),null}if(t=Z.current,jr(n))zp(n);else{switch(c=fo(se.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[ot]=n,t[gt]=l;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;e:switch(rt(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&wn(n)}}return je(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&wn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=se.current,jr(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=dt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ot]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||n_(t.nodeValue,r)),t||Yi(n)}else t=fo(t).createTextNode(l),t[ot]=n,n.stateNode=t}return je(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=jr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[ot]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;je(n),c=!1}else c=Bp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Tn(n),n):(Tn(n),null)}if(Tn(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),$l(n,n.updateQueue),je(n),null;case 4:return Vn(),t===null&&Tf(n.stateNode.containerInfo),je(n),null;case 10:return Sn(n.type),je(n),null;case 19:if(Q(Fe),c=n.memoizedState,c===null)return je(n),null;if(l=(n.flags&128)!==0,h=c.rendering,h===null)if(l)ea(c,!1);else{if(ze!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=Kl(t),h!==null){for(n.flags|=128,ea(c,!1),t=h.updateQueue,n.updateQueue=t,$l(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)jp(r,t),r=r.sibling;return G(Fe,Fe.current&1|2),n.child}t=t.sibling}c.tail!==null&&rn()>to&&(n.flags|=128,l=!0,ea(c,!1),n.lanes=4194304)}else{if(!l)if(t=Kl(h),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,$l(n,t),ea(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!ve)return je(n),null}else 2*rn()-c.renderingStartTime>to&&r!==536870912&&(n.flags|=128,l=!0,ea(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(t=c.last,t!==null?t.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=rn(),n.sibling=null,t=Fe.current,G(Fe,l?t&1|2:t&1),n):(je(n),null);case 22:case 23:return Tn(n),Cc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(je(n),n.subtreeFlags&6&&(n.flags|=8192)):je(n),r=n.updateQueue,r!==null&&$l(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Q(Qi),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Sn(Ye),je(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function fb(t,n){switch(cc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Sn(Ye),Vn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ul(n),null;case 13:if(Tn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(Fe),null;case 4:return Vn(),null;case 10:return Sn(n.type),null;case 22:case 23:return Tn(n),Cc(),t!==null&&Q(Qi),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Sn(Ye),null;case 25:return null;default:return null}}function cg(t,n){switch(cc(n),n.tag){case 3:Sn(Ye),Vn();break;case 26:case 27:case 5:ul(n);break;case 4:Vn();break;case 13:Tn(n);break;case 19:Q(Fe);break;case 10:Sn(n.type);break;case 22:case 23:Tn(n),Cc(),t!==null&&Q(Qi);break;case 24:Sn(Ye)}}function ta(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var h=r.create,g=r.inst;l=h(),g.destroy=l}r=r.next}while(r!==c)}}catch(_){Ne(n,n.return,_)}}function ei(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var g=l.inst,_=g.destroy;if(_!==void 0){g.destroy=void 0,c=n;var b=r,x=_;try{x()}catch(L){Ne(c,b,L)}}}l=l.next}while(l!==h)}}catch(L){Ne(n,n.return,L)}}function fg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{$p(n,r)}catch(l){Ne(t,t.return,l)}}}function hg(t,n,r){r.props=Wi(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ne(t,n,l)}}function na(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Ne(t,n,c)}}function on(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Ne(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Ne(t,n,c)}else r.current=null}function dg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Ne(t,t.return,c)}}function $c(t,n,r){try{var l=t.stateNode;Ib(l,t.type,r,n),l[gt]=n}catch(c){Ne(t,t.return,c)}}function pg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&oi(t.type)||t.tag===4}function Jc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&oi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ef(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=co));else if(l!==4&&(l===27&&oi(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(ef(t,n,r),t=t.sibling;t!==null;)ef(t,n,r),t=t.sibling}function Jl(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&oi(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Jl(t,n,r),t=t.sibling;t!==null;)Jl(t,n,r),t=t.sibling}function mg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);rt(n,l,r),n[ot]=t,n[gt]=r}catch(h){Ne(t,t.return,h)}}var Rn=!1,qe=!1,tf=!1,gg=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function hb(t,n){if(t=t.containerInfo,Rf=vo,t=Ap(t),Ju(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var g=0,_=-1,b=-1,x=0,L=0,H=t,O=null;t:for(;;){for(var I;H!==r||c!==0&&H.nodeType!==3||(_=g+c),H!==h||l!==0&&H.nodeType!==3||(b=g+l),H.nodeType===3&&(g+=H.nodeValue.length),(I=H.firstChild)!==null;)O=H,H=I;for(;;){if(H===t)break t;if(O===r&&++x===c&&(_=g),O===h&&++L===l&&(b=g),(I=H.nextSibling)!==null)break;H=O,O=H.parentNode}H=I}r=_===-1||b===-1?null:{start:_,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Af={focusedElem:t,selectionRange:r},vo=!1,Ze=n;Ze!==null;)if(n=Ze,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ze=t;else for(;Ze!==null;){switch(n=Ze,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,r=n,c=h.memoizedProps,h=h.memoizedState,l=r.stateNode;try{var ie=Wi(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(ie,h),l.__reactInternalSnapshotBeforeUpdate=t}catch($){Ne(r,r.return,$)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Of(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Of(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ze=t;break}Ze=n.return}}function _g(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ti(t,r),l&4&&ta(5,r);break;case 1:if(ti(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){Ne(r,r.return,g)}else{var c=Wi(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ne(r,r.return,g)}}l&64&&fg(r),l&512&&na(r,r.return);break;case 3:if(ti(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{$p(t,n)}catch(g){Ne(r,r.return,g)}}break;case 27:n===null&&l&4&&mg(r);case 26:case 5:ti(t,r),n===null&&l&4&&dg(r),l&512&&na(r,r.return);break;case 12:ti(t,r);break;case 13:ti(t,r),l&4&&Eg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Sb.bind(null,r),zb(t,r))));break;case 22:if(l=r.memoizedState!==null||Rn,!l){n=n!==null&&n.memoizedState!==null||qe,c=Rn;var h=qe;Rn=l,(qe=n)&&!h?ni(t,r,(r.subtreeFlags&8772)!==0):ti(t,r),Rn=c,qe=h}break;case 30:break;default:ti(t,r)}}function vg(t){var n=t.alternate;n!==null&&(t.alternate=null,vg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ku(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Le=null,yt=!1;function An(t,n,r){for(r=r.child;r!==null;)yg(t,n,r),r=r.sibling}function yg(t,n,r){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Tr,r)}catch{}switch(r.tag){case 26:qe||on(r,n),An(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:qe||on(r,n);var l=Le,c=yt;oi(r.type)&&(Le=r.stateNode,yt=!1),An(t,n,r),fa(r.stateNode),Le=l,yt=c;break;case 5:qe||on(r,n);case 6:if(l=Le,c=yt,Le=null,An(t,n,r),Le=l,yt=c,Le!==null)if(yt)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(r.stateNode)}catch(h){Ne(r,n,h)}else try{Le.removeChild(r.stateNode)}catch(h){Ne(r,n,h)}break;case 18:Le!==null&&(yt?(t=Le,l_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ya(t)):l_(Le,r.stateNode));break;case 4:l=Le,c=yt,Le=r.stateNode.containerInfo,yt=!0,An(t,n,r),Le=l,yt=c;break;case 0:case 11:case 14:case 15:qe||ei(2,r,n),qe||ei(4,r,n),An(t,n,r);break;case 1:qe||(on(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&hg(r,n,l)),An(t,n,r);break;case 21:An(t,n,r);break;case 22:qe=(l=qe)||r.memoizedState!==null,An(t,n,r),qe=l;break;default:An(t,n,r)}}function Eg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ya(t)}catch(r){Ne(n,n.return,r)}}function db(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new gg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new gg),n;default:throw Error(a(435,t.tag))}}function nf(t,n){var r=db(t);n.forEach(function(l){var c=bb.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function xt(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],h=t,g=n,_=g;e:for(;_!==null;){switch(_.tag){case 27:if(oi(_.type)){Le=_.stateNode,yt=!1;break e}break;case 5:Le=_.stateNode,yt=!1;break e;case 3:case 4:Le=_.stateNode.containerInfo,yt=!0;break e}_=_.return}if(Le===null)throw Error(a(160));yg(h,g,c),Le=null,yt=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Sg(n,t),n=n.sibling}var Qt=null;function Sg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xt(n,t),Ot(t),l&4&&(ei(3,t,t.return),ta(3,t),ei(5,t,t.return));break;case 1:xt(n,t),Ot(t),l&512&&(qe||r===null||on(r,r.return)),l&64&&Rn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Qt;if(xt(n,t),Ot(t),l&512&&(qe||r===null||on(r,r.return)),l&4){var h=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Rr]||h[ot]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),rt(h,l,r),h[ot]=t,Xe(h),l=h;break e;case"link":var g=m_("link","href",c).get(l+(r.href||""));if(g){for(var _=0;_<g.length;_++)if(h=g[_],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(_,1);break t}}h=c.createElement(l),rt(h,l,r),c.head.appendChild(h);break;case"meta":if(g=m_("meta","content",c).get(l+(r.content||""))){for(_=0;_<g.length;_++)if(h=g[_],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(_,1);break t}}h=c.createElement(l),rt(h,l,r),c.head.appendChild(h);break;default:throw Error(a(468,l))}h[ot]=t,Xe(h),l=h}t.stateNode=l}else g_(c,t.type,t.stateNode);else t.stateNode=p_(c,l,t.memoizedProps);else h!==l?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,l===null?g_(c,t.type,t.stateNode):p_(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&$c(t,t.memoizedProps,r.memoizedProps)}break;case 27:xt(n,t),Ot(t),l&512&&(qe||r===null||on(r,r.return)),r!==null&&l&4&&$c(t,t.memoizedProps,r.memoizedProps);break;case 5:if(xt(n,t),Ot(t),l&512&&(qe||r===null||on(r,r.return)),t.flags&32){c=t.stateNode;try{bs(c,"")}catch(I){Ne(t,t.return,I)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,$c(t,c,r!==null?r.memoizedProps:c)),l&1024&&(tf=!0);break;case 6:if(xt(n,t),Ot(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(I){Ne(t,t.return,I)}}break;case 3:if(mo=null,c=Qt,Qt=ho(n.containerInfo),xt(n,t),Qt=c,Ot(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ya(n.containerInfo)}catch(I){Ne(t,t.return,I)}tf&&(tf=!1,bg(t));break;case 4:l=Qt,Qt=ho(t.stateNode.containerInfo),xt(n,t),Ot(t),Qt=l;break;case 12:xt(n,t),Ot(t);break;case 13:xt(n,t),Ot(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(uf=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nf(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,x=Rn,L=qe;if(Rn=x||c,qe=L||b,xt(n,t),qe=L,Rn=x,Ot(t),l&8192)e:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Rn||qe||Zi(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(h=b.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{_=b.stateNode;var H=b.memoizedProps.style,O=H!=null&&H.hasOwnProperty("display")?H.display:null;_.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(I){Ne(b,b.return,I)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(I){Ne(b,b.return,I)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,nf(t,r))));break;case 19:xt(n,t),Ot(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nf(t,l)));break;case 30:break;case 21:break;default:xt(n,t),Ot(t)}}function Ot(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(pg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,h=Jc(t);Jl(t,h,c);break;case 5:var g=r.stateNode;r.flags&32&&(bs(g,""),r.flags&=-33);var _=Jc(t);Jl(t,_,g);break;case 3:case 4:var b=r.stateNode.containerInfo,x=Jc(t);ef(t,x,b);break;default:throw Error(a(161))}}catch(L){Ne(t,t.return,L)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function bg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;bg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ti(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_g(t,n.alternate,n),n=n.sibling}function Zi(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ei(4,n,n.return),Zi(n);break;case 1:on(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&hg(n,n.return,r),Zi(n);break;case 27:fa(n.stateNode);case 26:case 5:on(n,n.return),Zi(n);break;case 22:n.memoizedState===null&&Zi(n);break;case 30:Zi(n);break;default:Zi(n)}t=t.sibling}}function ni(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:ni(c,h,r),ta(4,h);break;case 1:if(ni(c,h,r),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(x){Ne(l,l.return,x)}if(l=h,c=l.updateQueue,c!==null){var _=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Zp(b[c],_)}catch(x){Ne(l,l.return,x)}}r&&g&64&&fg(h),na(h,h.return);break;case 27:mg(h);case 26:case 5:ni(c,h,r),r&&l===null&&g&4&&dg(h),na(h,h.return);break;case 12:ni(c,h,r);break;case 13:ni(c,h,r),r&&g&4&&Eg(c,h);break;case 22:h.memoizedState===null&&ni(c,h,r),na(h,h.return);break;case 30:break;default:ni(c,h,r)}n=n.sibling}}function sf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Br(r))}function rf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Br(t))}function un(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Tg(t,n,r,l),n=n.sibling}function Tg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:un(t,n,r,l),c&2048&&ta(9,n);break;case 1:un(t,n,r,l);break;case 3:un(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Br(t)));break;case 12:if(c&2048){un(t,n,r,l),t=n.stateNode;try{var h=n.memoizedProps,g=h.id,_=h.onPostCommit;typeof _=="function"&&_(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Ne(n,n.return,b)}}else un(t,n,r,l);break;case 13:un(t,n,r,l);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?un(t,n,r,l):ia(t,n):h._visibility&2?un(t,n,r,l):(h._visibility|=2,Bs(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&sf(g,n);break;case 24:un(t,n,r,l),c&2048&&rf(n.alternate,n);break;default:un(t,n,r,l)}}function Bs(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,g=n,_=r,b=l,x=g.flags;switch(g.tag){case 0:case 11:case 15:Bs(h,g,_,b,c),ta(8,g);break;case 23:break;case 22:var L=g.stateNode;g.memoizedState!==null?L._visibility&2?Bs(h,g,_,b,c):ia(h,g):(L._visibility|=2,Bs(h,g,_,b,c)),c&&x&2048&&sf(g.alternate,g);break;case 24:Bs(h,g,_,b,c),c&&x&2048&&rf(g.alternate,g);break;default:Bs(h,g,_,b,c)}n=n.sibling}}function ia(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:ia(r,l),c&2048&&sf(l.alternate,l);break;case 24:ia(r,l),c&2048&&rf(l.alternate,l);break;default:ia(r,l)}n=n.sibling}}var sa=8192;function qs(t){if(t.subtreeFlags&sa)for(t=t.child;t!==null;)Cg(t),t=t.sibling}function Cg(t){switch(t.tag){case 26:qs(t),t.flags&sa&&t.memoizedState!==null&&$b(Qt,t.memoizedState,t.memoizedProps);break;case 5:qs(t);break;case 3:case 4:var n=Qt;Qt=ho(t.stateNode.containerInfo),qs(t),Qt=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=sa,sa=16777216,qs(t),sa=n):qs(t));break;default:qs(t)}}function wg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ra(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ze=l,Ag(l,t)}wg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rg(t),t=t.sibling}function Rg(t){switch(t.tag){case 0:case 11:case 15:ra(t),t.flags&2048&&ei(9,t,t.return);break;case 3:ra(t);break;case 12:ra(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,eo(t)):ra(t);break;default:ra(t)}}function eo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ze=l,Ag(l,t)}wg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ei(8,n,n.return),eo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,eo(n));break;default:eo(n)}t=t.sibling}}function Ag(t,n){for(;Ze!==null;){var r=Ze;switch(r.tag){case 0:case 11:case 15:ei(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Br(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ze=l;else e:for(r=t;Ze!==null;){l=Ze;var c=l.sibling,h=l.return;if(vg(l),l===r){Ze=null;break e}if(c!==null){c.return=h,Ze=c;break e}Ze=h}}}var pb={getCacheForType:function(t){var n=ut(Ye),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},mb=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Oe=null,fe=null,pe=0,Se=0,Dt=null,ii=!1,Vs=!1,af=!1,Nn=0,ze=0,si=0,$i=0,lf=0,Vt=0,Gs=0,aa=null,Et=null,of=!1,uf=0,to=1/0,no=null,ri=null,st=0,ai=null,Ys=null,Fs=0,cf=0,ff=null,Ng=null,la=0,hf=null;function It(){if((Ee&2)!==0&&pe!==0)return pe&-pe;if(U.T!==null){var t=Ms;return t!==0?t:yf()}return Gd()}function xg(){Vt===0&&(Vt=(pe&536870912)===0||ve?Hd():536870912);var t=qt.current;return t!==null&&(t.flags|=32),Vt}function Mt(t,n,r){(t===Oe&&(Se===2||Se===9)||t.cancelPendingCommit!==null)&&(Ks(t,0),li(t,pe,Vt,!1)),wr(t,r),((Ee&2)===0||t!==Oe)&&(t===Oe&&((Ee&2)===0&&($i|=r),ze===4&&li(t,pe,Vt,!1)),cn(t))}function Og(t,n,r){if((Ee&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Cr(t,n),c=l?vb(t,n):mf(t,n,!0),h=l;do{if(c===0){Vs&&!l&&li(t,n,0,!1);break}else{if(r=t.current.alternate,h&&!gb(r)){c=mf(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var _=t;c=aa;var b=_.current.memoizedState.isDehydrated;if(b&&(Ks(_,g).flags|=256),g=mf(_,g,!1),g!==2){if(af&&!b){_.errorRecoveryDisabledLanes|=h,$i|=h,c=4;break e}h=Et,Et=c,h!==null&&(Et===null?Et=h:Et.push.apply(Et,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){Ks(t,0),li(t,n,0,!0);break}e:{switch(l=t,h=c,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:li(l,n,Vt,!ii);break e;case 2:Et=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=uf+300-rn(),10<c)){if(li(l,n,Vt,!ii),dl(l,0,!0)!==0)break e;l.timeoutHandle=r_(Dg.bind(null,l,r,Et,no,of,n,Vt,$i,Gs,ii,h,2,-0,0),c);break e}Dg(l,r,Et,no,of,n,Vt,$i,Gs,ii,h,0,-0,0)}}break}while(!0);cn(t)}function Dg(t,n,r,l,c,h,g,_,b,x,L,H,O,I){if(t.timeoutHandle=-1,H=n.subtreeFlags,(H&8192||(H&16785408)===16785408)&&(pa={stylesheets:null,count:0,unsuspend:Zb},Cg(n),H=Jb(),H!==null)){t.cancelPendingCommit=H(Pg.bind(null,t,n,h,r,l,c,g,_,b,L,1,O,I)),li(t,h,g,!x);return}Pg(t,n,h,r,l,c,g,_,b)}function gb(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],h=c.getSnapshot;c=c.value;try{if(!At(h(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function li(t,n,r,l){n&=~lf,n&=~$i,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-Rt(c),g=1<<h;l[h]=-1,c&=~g}r!==0&&qd(t,r,n)}function io(){return(Ee&6)===0?(oa(0),!1):!0}function df(){if(fe!==null){if(Se===0)var t=fe.return;else t=fe,En=Fi=null,xc(t),zs=null,$r=0,t=fe;for(;t!==null;)cg(t.alternate,t),t=t.return;fe=null}}function Ks(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,kb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),df(),Oe=t,fe=r=_n(t.current,null),pe=n,Se=0,Dt=null,ii=!1,Vs=Cr(t,n),af=!1,Gs=Vt=lf=$i=si=ze=0,Et=aa=null,of=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Rt(l),h=1<<c;n|=t[c],l&=~h}return Nn=n,wl(),r}function Ig(t,n){le=null,U.H=Gl,n===Vr||n===kl?(n=Xp(),Se=3):n===Fp?(n=Xp(),Se=4):Se=n===Wm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dt=n,fe===null&&(ze=1,Xl(t,Pt(n,t.current)))}function Mg(){var t=U.H;return U.H=Gl,t===null?Gl:t}function kg(){var t=U.A;return U.A=pb,t}function pf(){ze=4,ii||(pe&4194048)!==pe&&qt.current!==null||(Vs=!0),(si&134217727)===0&&($i&134217727)===0||Oe===null||li(Oe,pe,Vt,!1)}function mf(t,n,r){var l=Ee;Ee|=2;var c=Mg(),h=kg();(Oe!==t||pe!==n)&&(no=null,Ks(t,n)),n=!1;var g=ze;e:do try{if(Se!==0&&fe!==null){var _=fe,b=Dt;switch(Se){case 8:df(),g=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(n=!0);var x=Se;if(Se=0,Dt=null,Qs(t,_,b,x),r&&Vs){g=0;break e}break;default:x=Se,Se=0,Dt=null,Qs(t,_,b,x)}}_b(),g=ze;break}catch(L){Ig(t,L)}while(!0);return n&&t.shellSuspendCounter++,En=Fi=null,Ee=l,U.H=c,U.A=h,fe===null&&(Oe=null,pe=0,wl()),g}function _b(){for(;fe!==null;)Lg(fe)}function vb(t,n){var r=Ee;Ee|=2;var l=Mg(),c=kg();Oe!==t||pe!==n?(no=null,to=rn()+500,Ks(t,n)):Vs=Cr(t,n);e:do try{if(Se!==0&&fe!==null){n=fe;var h=Dt;t:switch(Se){case 1:Se=0,Dt=null,Qs(t,n,h,1);break;case 2:case 9:if(Kp(h)){Se=0,Dt=null,Ug(n);break}n=function(){Se!==2&&Se!==9||Oe!==t||(Se=7),cn(t)},h.then(n,n);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:Kp(h)?(Se=0,Dt=null,Ug(n)):(Se=0,Dt=null,Qs(t,n,h,7));break;case 5:var g=null;switch(fe.tag){case 26:g=fe.memoizedState;case 5:case 27:var _=fe;if(!g||__(g)){Se=0,Dt=null;var b=_.sibling;if(b!==null)fe=b;else{var x=_.return;x!==null?(fe=x,so(x)):fe=null}break t}}Se=0,Dt=null,Qs(t,n,h,5);break;case 6:Se=0,Dt=null,Qs(t,n,h,6);break;case 8:df(),ze=6;break e;default:throw Error(a(462))}}yb();break}catch(L){Ig(t,L)}while(!0);return En=Fi=null,U.H=l,U.A=c,Ee=r,fe!==null?0:(Oe=null,pe=0,wl(),ze)}function yb(){for(;fe!==null&&!B0();)Lg(fe)}function Lg(t){var n=og(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,n===null?so(t):fe=n}function Ug(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ng(r,n,n.pendingProps,n.type,void 0,pe);break;case 11:n=ng(r,n,n.pendingProps,n.type.render,n.ref,pe);break;case 5:xc(n);default:cg(r,n),n=fe=jp(n,Nn),n=og(r,n,Nn)}t.memoizedProps=t.pendingProps,n===null?so(t):fe=n}function Qs(t,n,r,l){En=Fi=null,xc(n),zs=null,$r=0;var c=n.return;try{if(ob(t,c,n,r,pe)){ze=1,Xl(t,Pt(r,t.current)),fe=null;return}}catch(h){if(c!==null)throw fe=c,h;ze=1,Xl(t,Pt(r,t.current)),fe=null;return}n.flags&32768?(ve||l===1?t=!0:Vs||(pe&536870912)!==0?t=!1:(ii=t=!0,(l===2||l===9||l===3||l===6)&&(l=qt.current,l!==null&&l.tag===13&&(l.flags|=16384))),jg(n,t)):so(n)}function so(t){var n=t;do{if((n.flags&32768)!==0){jg(n,ii);return}t=n.return;var r=cb(n.alternate,n,Nn);if(r!==null){fe=r;return}if(n=n.sibling,n!==null){fe=n;return}fe=n=t}while(n!==null);ze===0&&(ze=5)}function jg(t,n){do{var r=fb(t.alternate,t);if(r!==null){r.flags&=32767,fe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){fe=t;return}fe=t=r}while(t!==null);ze=6,fe=null}function Pg(t,n,r,l,c,h,g,_,b){t.cancelPendingCommit=null;do ro();while(st!==0);if((Ee&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=sc,Z0(t,r,h,g,_,b),t===Oe&&(fe=Oe=null,pe=0),Ys=n,ai=t,Fs=r,cf=h,ff=c,Ng=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Tb(cl,function(){return Vg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,c=Y.p,Y.p=2,g=Ee,Ee|=4;try{hb(t,n,r)}finally{Ee=g,Y.p=c,U.T=l}}st=1,zg(),Hg(),Bg()}}function zg(){if(st===1){st=0;var t=ai,n=Ys,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=U.T,U.T=null;var l=Y.p;Y.p=2;var c=Ee;Ee|=4;try{Sg(n,t);var h=Af,g=Ap(t.containerInfo),_=h.focusedElem,b=h.selectionRange;if(g!==_&&_&&_.ownerDocument&&Rp(_.ownerDocument.documentElement,_)){if(b!==null&&Ju(_)){var x=b.start,L=b.end;if(L===void 0&&(L=x),"selectionStart"in _)_.selectionStart=x,_.selectionEnd=Math.min(L,_.value.length);else{var H=_.ownerDocument||document,O=H&&H.defaultView||window;if(O.getSelection){var I=O.getSelection(),ie=_.textContent.length,$=Math.min(b.start,ie),we=b.end===void 0?$:Math.min(b.end,ie);!I.extend&&$>we&&(g=we,we=$,$=g);var w=wp(_,$),C=wp(_,we);if(w&&C&&(I.rangeCount!==1||I.anchorNode!==w.node||I.anchorOffset!==w.offset||I.focusNode!==C.node||I.focusOffset!==C.offset)){var N=H.createRange();N.setStart(w.node,w.offset),I.removeAllRanges(),$>we?(I.addRange(N),I.extend(C.node,C.offset)):(N.setEnd(C.node,C.offset),I.addRange(N))}}}}for(H=[],I=_;I=I.parentNode;)I.nodeType===1&&H.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<H.length;_++){var z=H[_];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}vo=!!Rf,Af=Rf=null}finally{Ee=c,Y.p=l,U.T=r}}t.current=n,st=2}}function Hg(){if(st===2){st=0;var t=ai,n=Ys,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=U.T,U.T=null;var l=Y.p;Y.p=2;var c=Ee;Ee|=4;try{_g(t,n.alternate,n)}finally{Ee=c,Y.p=l,U.T=r}}st=3}}function Bg(){if(st===4||st===3){st=0,q0();var t=ai,n=Ys,r=Fs,l=Ng;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?st=5:(st=0,Ys=ai=null,qg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ri=null),Iu(r),n=n.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Tr,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=U.T,c=Y.p,Y.p=2,U.T=null;try{for(var h=t.onRecoverableError,g=0;g<l.length;g++){var _=l[g];h(_.value,{componentStack:_.stack})}}finally{U.T=n,Y.p=c}}(Fs&3)!==0&&ro(),cn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===hf?la++:(la=0,hf=t):la=0,oa(0)}}function qg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Br(n)))}function ro(t){return zg(),Hg(),Bg(),Vg()}function Vg(){if(st!==5)return!1;var t=ai,n=cf;cf=0;var r=Iu(Fs),l=U.T,c=Y.p;try{Y.p=32>r?32:r,U.T=null,r=ff,ff=null;var h=ai,g=Fs;if(st=0,Ys=ai=null,Fs=0,(Ee&6)!==0)throw Error(a(331));var _=Ee;if(Ee|=4,Rg(h.current),Tg(h,h.current,g,r),Ee=_,oa(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Tr,h)}catch{}return!0}finally{Y.p=c,U.T=l,qg(t,n)}}function Gg(t,n,r){n=Pt(r,n),n=Vc(t.stateNode,n,2),t=Wn(t,n,2),t!==null&&(wr(t,2),cn(t))}function Ne(t,n,r){if(t.tag===3)Gg(t,t,r);else for(;n!==null;){if(n.tag===3){Gg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ri===null||!ri.has(l))){t=Pt(r,t),r=Qm(2),l=Wn(n,r,2),l!==null&&(Xm(r,l,n,t),wr(l,2),cn(l));break}}n=n.return}}function gf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new mb;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(af=!0,c.add(r),t=Eb.bind(null,t,n,r),n.then(t,t))}function Eb(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Oe===t&&(pe&r)===r&&(ze===4||ze===3&&(pe&62914560)===pe&&300>rn()-uf?(Ee&2)===0&&Ks(t,0):lf|=r,Gs===pe&&(Gs=0)),cn(t)}function Yg(t,n){n===0&&(n=Bd()),t=xs(t,n),t!==null&&(wr(t,n),cn(t))}function Sb(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Yg(t,r)}function bb(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Yg(t,r)}function Tb(t,n){return Nu(t,n)}var ao=null,Xs=null,_f=!1,lo=!1,vf=!1,Ji=0;function cn(t){t!==Xs&&t.next===null&&(Xs===null?ao=Xs=t:Xs=Xs.next=t),lo=!0,_f||(_f=!0,wb())}function oa(t,n){if(!vf&&lo){vf=!0;do for(var r=!1,l=ao;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var g=l.suspendedLanes,_=l.pingedLanes;h=(1<<31-Rt(42|t)+1)-1,h&=c&~(g&~_),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,Xg(l,h))}else h=pe,h=dl(l,l===Oe?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Cr(l,h)||(r=!0,Xg(l,h));l=l.next}while(r);vf=!1}}function Cb(){Fg()}function Fg(){lo=_f=!1;var t=0;Ji!==0&&(Mb()&&(t=Ji),Ji=0);for(var n=rn(),r=null,l=ao;l!==null;){var c=l.next,h=Kg(l,n);h===0?(l.next=null,r===null?ao=c:r.next=c,c===null&&(Xs=r)):(r=l,(t!==0||(h&3)!==0)&&(lo=!0)),l=c}oa(t)}function Kg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-Rt(h),_=1<<g,b=c[g];b===-1?((_&r)===0||(_&l)!==0)&&(c[g]=W0(_,n)):b<=n&&(t.expiredLanes|=_),h&=~_}if(n=Oe,r=pe,r=dl(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Se===2||Se===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&xu(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Cr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&xu(l),Iu(r)){case 2:case 8:r=Pd;break;case 32:r=cl;break;case 268435456:r=zd;break;default:r=cl}return l=Qg.bind(null,t),r=Nu(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&xu(l),t.callbackPriority=2,t.callbackNode=null,2}function Qg(t,n){if(st!==0&&st!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(ro()&&t.callbackNode!==r)return null;var l=pe;return l=dl(t,t===Oe?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Og(t,l,n),Kg(t,rn()),t.callbackNode!=null&&t.callbackNode===r?Qg.bind(null,t):null)}function Xg(t,n){if(ro())return null;Og(t,n,!0)}function wb(){Lb(function(){(Ee&6)!==0?Nu(jd,Cb):Fg()})}function yf(){return Ji===0&&(Ji=Hd()),Ji}function Wg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:vl(""+t)}function Zg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function Rb(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var h=Wg((c[gt]||null).action),g=l.submitter;g&&(n=(n=g[gt]||null)?Wg(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var _=new bl("action","action",null,l,c);t.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ji!==0){var b=g?Zg(c,g):new FormData(c);Pc(r,{pending:!0,data:b,method:c.method,action:h},null,b)}}else typeof h=="function"&&(_.preventDefault(),b=g?Zg(c,g):new FormData(c),Pc(r,{pending:!0,data:b,method:c.method,action:h},h,b))},currentTarget:c}]})}}for(var Ef=0;Ef<ic.length;Ef++){var Sf=ic[Ef],Ab=Sf.toLowerCase(),Nb=Sf[0].toUpperCase()+Sf.slice(1);Kt(Ab,"on"+Nb)}Kt(Op,"onAnimationEnd"),Kt(Dp,"onAnimationIteration"),Kt(Ip,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(YS,"onTransitionRun"),Kt(FS,"onTransitionStart"),Kt(KS,"onTransitionCancel"),Kt(Mp,"onTransitionEnd"),ys("onMouseEnter",["mouseout","mouseover"]),ys("onMouseLeave",["mouseout","mouseover"]),ys("onPointerEnter",["pointerout","pointerover"]),ys("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ua));function $g(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var g=l.length-1;0<=g;g--){var _=l[g],b=_.instance,x=_.currentTarget;if(_=_.listener,b!==h&&c.isPropagationStopped())break e;h=_,c.currentTarget=x;try{h(c)}catch(L){Ql(L)}c.currentTarget=null,h=b}else for(g=0;g<l.length;g++){if(_=l[g],b=_.instance,x=_.currentTarget,_=_.listener,b!==h&&c.isPropagationStopped())break e;h=_,c.currentTarget=x;try{h(c)}catch(L){Ql(L)}c.currentTarget=null,h=b}}}}function he(t,n){var r=n[Mu];r===void 0&&(r=n[Mu]=new Set);var l=t+"__bubble";r.has(l)||(Jg(n,t,2,!1),r.add(l))}function bf(t,n,r){var l=0;n&&(l|=4),Jg(r,t,l,n)}var oo="_reactListening"+Math.random().toString(36).slice(2);function Tf(t){if(!t[oo]){t[oo]=!0,Fd.forEach(function(r){r!=="selectionchange"&&(xb.has(r)||bf(r,!1,t),bf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[oo]||(n[oo]=!0,bf("selectionchange",!1,n))}}function Jg(t,n,r,l){switch(T_(n)){case 2:var c=nT;break;case 8:c=iT;break;default:c=jf}r=c.bind(null,n,r,t),c=void 0,!Gu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Cf(t,n,r,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var _=l.stateNode.containerInfo;if(_===c)break;if(g===4)for(g=l.return;g!==null;){var b=g.tag;if((b===3||b===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;_!==null;){if(g=gs(_),g===null)return;if(b=g.tag,b===5||b===6||b===26||b===27){l=h=g;continue e}_=_.parentNode}}l=l.return}ap(function(){var x=h,L=qu(r),H=[];e:{var O=kp.get(t);if(O!==void 0){var I=bl,ie=t;switch(t){case"keypress":if(El(r)===0)break e;case"keydown":case"keyup":I=TS;break;case"focusin":ie="focus",I=Qu;break;case"focusout":ie="blur",I=Qu;break;case"beforeblur":case"afterblur":I=Qu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=up;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=fS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=RS;break;case Op:case Dp:case Ip:I=pS;break;case Mp:I=NS;break;case"scroll":case"scrollend":I=uS;break;case"wheel":I=OS;break;case"copy":case"cut":case"paste":I=gS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=fp;break;case"toggle":case"beforetoggle":I=IS}var $=(n&4)!==0,we=!$&&(t==="scroll"||t==="scrollend"),w=$?O!==null?O+"Capture":null:O;$=[];for(var C=x,N;C!==null;){var z=C;if(N=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||N===null||w===null||(z=Nr(C,w),z!=null&&$.push(ca(C,z,N))),we)break;C=C.return}0<$.length&&(O=new I(O,ie,null,r,L),H.push({event:O,listeners:$}))}}if((n&7)===0){e:{if(O=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",O&&r!==Bu&&(ie=r.relatedTarget||r.fromElement)&&(gs(ie)||ie[ms]))break e;if((I||O)&&(O=L.window===L?L:(O=L.ownerDocument)?O.defaultView||O.parentWindow:window,I?(ie=r.relatedTarget||r.toElement,I=x,ie=ie?gs(ie):null,ie!==null&&(we=u(ie),$=ie.tag,ie!==we||$!==5&&$!==27&&$!==6)&&(ie=null)):(I=null,ie=x),I!==ie)){if($=up,z="onMouseLeave",w="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&($=fp,z="onPointerLeave",w="onPointerEnter",C="pointer"),we=I==null?O:Ar(I),N=ie==null?O:Ar(ie),O=new $(z,C+"leave",I,r,L),O.target=we,O.relatedTarget=N,z=null,gs(L)===x&&($=new $(w,C+"enter",ie,r,L),$.target=N,$.relatedTarget=we,z=$),we=z,I&&ie)t:{for($=I,w=ie,C=0,N=$;N;N=Ws(N))C++;for(N=0,z=w;z;z=Ws(z))N++;for(;0<C-N;)$=Ws($),C--;for(;0<N-C;)w=Ws(w),N--;for(;C--;){if($===w||w!==null&&$===w.alternate)break t;$=Ws($),w=Ws(w)}$=null}else $=null;I!==null&&e_(H,O,I,$,!1),ie!==null&&we!==null&&e_(H,we,ie,$,!0)}}e:{if(O=x?Ar(x):window,I=O.nodeName&&O.nodeName.toLowerCase(),I==="select"||I==="input"&&O.type==="file")var X=yp;else if(_p(O))if(Ep)X=qS;else{X=HS;var oe=zS}else I=O.nodeName,!I||I.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?x&&Hu(x.elementType)&&(X=yp):X=BS;if(X&&(X=X(t,x))){vp(H,X,r,L);break e}oe&&oe(t,O,x),t==="focusout"&&x&&O.type==="number"&&x.memoizedProps.value!=null&&zu(O,"number",O.value)}switch(oe=x?Ar(x):window,t){case"focusin":(_p(oe)||oe.contentEditable==="true")&&(Rs=oe,ec=x,Ur=null);break;case"focusout":Ur=ec=Rs=null;break;case"mousedown":tc=!0;break;case"contextmenu":case"mouseup":case"dragend":tc=!1,Np(H,r,L);break;case"selectionchange":if(GS)break;case"keydown":case"keyup":Np(H,r,L)}var W;if(Wu)e:{switch(t){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else ws?mp(t,r)&&(J="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(J="onCompositionStart");J&&(hp&&r.locale!=="ko"&&(ws||J!=="onCompositionStart"?J==="onCompositionEnd"&&ws&&(W=lp()):(Fn=L,Yu="value"in Fn?Fn.value:Fn.textContent,ws=!0)),oe=uo(x,J),0<oe.length&&(J=new cp(J,t,null,r,L),H.push({event:J,listeners:oe}),W?J.data=W:(W=gp(r),W!==null&&(J.data=W)))),(W=kS?LS(t,r):US(t,r))&&(J=uo(x,"onBeforeInput"),0<J.length&&(oe=new cp("onBeforeInput","beforeinput",null,r,L),H.push({event:oe,listeners:J}),oe.data=W)),Rb(H,t,x,r,L)}$g(H,n)})}function ca(t,n,r){return{instance:t,listener:n,currentTarget:r}}function uo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Nr(t,r),c!=null&&l.unshift(ca(t,c,h)),c=Nr(t,n),c!=null&&l.push(ca(t,c,h))),t.tag===3)return l;t=t.return}return[]}function Ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function e_(t,n,r,l,c){for(var h=n._reactName,g=[];r!==null&&r!==l;){var _=r,b=_.alternate,x=_.stateNode;if(_=_.tag,b!==null&&b===l)break;_!==5&&_!==26&&_!==27||x===null||(b=x,c?(x=Nr(r,h),x!=null&&g.unshift(ca(r,x,b))):c||(x=Nr(r,h),x!=null&&g.push(ca(r,x,b)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var Ob=/\r\n?/g,Db=/\u0000|\uFFFD/g;function t_(t){return(typeof t=="string"?t:""+t).replace(Ob,`
`).replace(Db,"")}function n_(t,n){return n=t_(n),t_(t)===n}function co(){}function Ce(t,n,r,l,c,h){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||bs(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&bs(t,""+l);break;case"className":ml(t,"class",l);break;case"tabIndex":ml(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ml(t,r,l);break;case"style":sp(t,l,h);break;case"data":if(n!=="object"){ml(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=vl(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(n!=="input"&&Ce(t,n,"name",c.name,c,null),Ce(t,n,"formEncType",c.formEncType,c,null),Ce(t,n,"formMethod",c.formMethod,c,null),Ce(t,n,"formTarget",c.formTarget,c,null)):(Ce(t,n,"encType",c.encType,c,null),Ce(t,n,"method",c.method,c,null),Ce(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=vl(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=co);break;case"onScroll":l!=null&&he("scroll",t);break;case"onScrollEnd":l!=null&&he("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=vl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":he("beforetoggle",t),he("toggle",t),pl(t,"popover",l);break;case"xlinkActuate":mn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pl(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=lS.get(r)||r,pl(t,r,l))}}function wf(t,n,r,l,c,h){switch(r){case"style":sp(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?bs(t,l):(typeof l=="number"||typeof l=="bigint")&&bs(t,""+l);break;case"onScroll":l!=null&&he("scroll",t);break;case"onScrollEnd":l!=null&&he("scrollend",t);break;case"onClick":l!=null&&(t.onclick=co);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kd.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),h=t[gt]||null,h=h!=null?h[r]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):pl(t,r,l)}}}function rt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",t),he("load",t);var l=!1,c=!1,h;for(h in r)if(r.hasOwnProperty(h)){var g=r[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ce(t,n,h,g,r,null)}}c&&Ce(t,n,"srcSet",r.srcSet,r,null),l&&Ce(t,n,"src",r.src,r,null);return;case"input":he("invalid",t);var _=h=g=c=null,b=null,x=null;for(l in r)if(r.hasOwnProperty(l)){var L=r[l];if(L!=null)switch(l){case"name":c=L;break;case"type":g=L;break;case"checked":b=L;break;case"defaultChecked":x=L;break;case"value":h=L;break;case"defaultValue":_=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:Ce(t,n,l,L,r,null)}}ep(t,h,_,b,x,g,c,!1),gl(t);return;case"select":he("invalid",t),l=g=h=null;for(c in r)if(r.hasOwnProperty(c)&&(_=r[c],_!=null))switch(c){case"value":h=_;break;case"defaultValue":g=_;break;case"multiple":l=_;default:Ce(t,n,c,_,r,null)}n=h,r=g,t.multiple=!!l,n!=null?Ss(t,!!l,n,!1):r!=null&&Ss(t,!!l,r,!0);return;case"textarea":he("invalid",t),h=c=l=null;for(g in r)if(r.hasOwnProperty(g)&&(_=r[g],_!=null))switch(g){case"value":l=_;break;case"defaultValue":c=_;break;case"children":h=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Ce(t,n,g,_,r,null)}np(t,l,c,h),gl(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ce(t,n,b,l,r,null)}return;case"dialog":he("beforetoggle",t),he("toggle",t),he("cancel",t),he("close",t);break;case"iframe":case"object":he("load",t);break;case"video":case"audio":for(l=0;l<ua.length;l++)he(ua[l],t);break;case"image":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"embed":case"source":case"link":he("error",t),he("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in r)if(r.hasOwnProperty(x)&&(l=r[x],l!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ce(t,n,x,l,r,null)}return;default:if(Hu(n)){for(L in r)r.hasOwnProperty(L)&&(l=r[L],l!==void 0&&wf(t,n,L,l,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(l=r[_],l!=null&&Ce(t,n,_,l,r,null))}function Ib(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,_=null,b=null,x=null,L=null;for(I in r){var H=r[I];if(r.hasOwnProperty(I)&&H!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":b=H;default:l.hasOwnProperty(I)||Ce(t,n,I,null,l,H)}}for(var O in l){var I=l[O];if(H=r[O],l.hasOwnProperty(O)&&(I!=null||H!=null))switch(O){case"type":h=I;break;case"name":c=I;break;case"checked":x=I;break;case"defaultChecked":L=I;break;case"value":g=I;break;case"defaultValue":_=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,n));break;default:I!==H&&Ce(t,n,O,I,l,H)}}Pu(t,g,_,b,x,L,h,c);return;case"select":I=g=_=O=null;for(h in r)if(b=r[h],r.hasOwnProperty(h)&&b!=null)switch(h){case"value":break;case"multiple":I=b;default:l.hasOwnProperty(h)||Ce(t,n,h,null,l,b)}for(c in l)if(h=l[c],b=r[c],l.hasOwnProperty(c)&&(h!=null||b!=null))switch(c){case"value":O=h;break;case"defaultValue":_=h;break;case"multiple":g=h;default:h!==b&&Ce(t,n,c,h,l,b)}n=_,r=g,l=I,O!=null?Ss(t,!!r,O,!1):!!l!=!!r&&(n!=null?Ss(t,!!r,n,!0):Ss(t,!!r,r?[]:"",!1));return;case"textarea":I=O=null;for(_ in r)if(c=r[_],r.hasOwnProperty(_)&&c!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ce(t,n,_,null,l,c)}for(g in l)if(c=l[g],h=r[g],l.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":O=c;break;case"defaultValue":I=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==h&&Ce(t,n,g,c,l,h)}tp(t,O,I);return;case"option":for(var ie in r)if(O=r[ie],r.hasOwnProperty(ie)&&O!=null&&!l.hasOwnProperty(ie))switch(ie){case"selected":t.selected=!1;break;default:Ce(t,n,ie,null,l,O)}for(b in l)if(O=l[b],I=r[b],l.hasOwnProperty(b)&&O!==I&&(O!=null||I!=null))switch(b){case"selected":t.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Ce(t,n,b,O,l,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $ in r)O=r[$],r.hasOwnProperty($)&&O!=null&&!l.hasOwnProperty($)&&Ce(t,n,$,null,l,O);for(x in l)if(O=l[x],I=r[x],l.hasOwnProperty(x)&&O!==I&&(O!=null||I!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(137,n));break;default:Ce(t,n,x,O,l,I)}return;default:if(Hu(n)){for(var we in r)O=r[we],r.hasOwnProperty(we)&&O!==void 0&&!l.hasOwnProperty(we)&&wf(t,n,we,void 0,l,O);for(L in l)O=l[L],I=r[L],!l.hasOwnProperty(L)||O===I||O===void 0&&I===void 0||wf(t,n,L,O,l,I);return}}for(var w in r)O=r[w],r.hasOwnProperty(w)&&O!=null&&!l.hasOwnProperty(w)&&Ce(t,n,w,null,l,O);for(H in l)O=l[H],I=r[H],!l.hasOwnProperty(H)||O===I||O==null&&I==null||Ce(t,n,H,O,l,I)}var Rf=null,Af=null;function fo(t){return t.nodeType===9?t:t.ownerDocument}function i_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Nf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xf=null;function Mb(){var t=window.event;return t&&t.type==="popstate"?t===xf?!1:(xf=t,!0):(xf=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,kb=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,Lb=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(t){return a_.resolve(null).then(t).catch(Ub)}:r_;function Ub(t){setTimeout(function(){throw t})}function oi(t){return t==="head"}function l_(t,n){var r=n,l=0,c=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"){if(0<l&&8>l){r=l;var g=t.ownerDocument;if(r&1&&fa(g.documentElement),r&2&&fa(g.body),r&4)for(r=g.head,fa(r),g=r.firstChild;g;){var _=g.nextSibling,b=g.nodeName;g[Rr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=_}}if(c===0){t.removeChild(h),ya(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=h}while(r);ya(n)}function Of(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Of(r),ku(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function jb(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Rr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Xt(t.nextSibling),t===null)break}return null}function Pb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Xt(t.nextSibling),t===null))return null;return t}function Df(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function zb(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xt(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var If=null;function o_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function u_(t,n,r){switch(n=fo(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function fa(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ku(t)}var Gt=new Map,c_=new Set;function ho(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var xn=Y.d;Y.d={f:Hb,r:Bb,D:qb,C:Vb,L:Gb,m:Yb,X:Kb,S:Fb,M:Qb};function Hb(){var t=xn.f(),n=io();return t||n}function Bb(t){var n=_s(t);n!==null&&n.tag===5&&n.type==="form"?Om(n):xn.r(t)}var Zs=typeof document>"u"?null:document;function f_(t,n,r){var l=Zs;if(l&&typeof n=="string"&&n){var c=jt(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),c_.has(c)||(c_.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),rt(n,"link",t),Xe(n),l.head.appendChild(n)))}}function qb(t){xn.D(t),f_("dns-prefetch",t,null)}function Vb(t,n){xn.C(t,n),f_("preconnect",t,n)}function Gb(t,n,r){xn.L(t,n,r);var l=Zs;if(l&&t&&n){var c='link[rel="preload"][as="'+jt(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+jt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+jt(r.imageSizes)+'"]')):c+='[href="'+jt(t)+'"]';var h=c;switch(n){case"style":h=$s(t);break;case"script":h=Js(t)}Gt.has(h)||(t=v({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Gt.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(ha(h))||n==="script"&&l.querySelector(da(h))||(n=l.createElement("link"),rt(n,"link",t),Xe(n),l.head.appendChild(n)))}}function Yb(t,n){xn.m(t,n);var r=Zs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+jt(l)+'"][href="'+jt(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Js(t)}if(!Gt.has(h)&&(t=v({rel:"modulepreload",href:t},n),Gt.set(h,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(da(h)))return}l=r.createElement("link"),rt(l,"link",t),Xe(l),r.head.appendChild(l)}}}function Fb(t,n,r){xn.S(t,n,r);var l=Zs;if(l&&t){var c=vs(l).hoistableStyles,h=$s(t);n=n||"default";var g=c.get(h);if(!g){var _={loading:0,preload:null};if(g=l.querySelector(ha(h)))_.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Gt.get(h))&&Mf(t,r);var b=g=l.createElement("link");Xe(b),rt(b,"link",t),b._p=new Promise(function(x,L){b.onload=x,b.onerror=L}),b.addEventListener("load",function(){_.loading|=1}),b.addEventListener("error",function(){_.loading|=2}),_.loading|=4,po(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:_},c.set(h,g)}}}function Kb(t,n){xn.X(t,n);var r=Zs;if(r&&t){var l=vs(r).hoistableScripts,c=Js(t),h=l.get(c);h||(h=r.querySelector(da(c)),h||(t=v({src:t,async:!0},n),(n=Gt.get(c))&&kf(t,n),h=r.createElement("script"),Xe(h),rt(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Qb(t,n){xn.M(t,n);var r=Zs;if(r&&t){var l=vs(r).hoistableScripts,c=Js(t),h=l.get(c);h||(h=r.querySelector(da(c)),h||(t=v({src:t,async:!0,type:"module"},n),(n=Gt.get(c))&&kf(t,n),h=r.createElement("script"),Xe(h),rt(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function h_(t,n,r,l){var c=(c=se.current)?ho(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=$s(r.href),r=vs(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=$s(r.href);var h=vs(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(ha(t)))&&!h._p&&(g.instance=h,g.state.loading=5),Gt.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Gt.set(t,r),h||Xb(c,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Js(r),r=vs(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function $s(t){return'href="'+jt(t)+'"'}function ha(t){return'link[rel="stylesheet"]['+t+"]"}function d_(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Xb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),rt(n,"link",r),Xe(n),t.head.appendChild(n))}function Js(t){return'[src="'+jt(t)+'"]'}function da(t){return"script[async]"+t}function p_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+jt(r.href)+'"]');if(l)return n.instance=l,Xe(l),l;var c=v({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Xe(l),rt(l,"style",c),po(l,r.precedence,t),n.instance=l;case"stylesheet":c=$s(r.href);var h=t.querySelector(ha(c));if(h)return n.state.loading|=4,n.instance=h,Xe(h),h;l=d_(r),(c=Gt.get(c))&&Mf(l,c),h=(t.ownerDocument||t).createElement("link"),Xe(h);var g=h;return g._p=new Promise(function(_,b){g.onload=_,g.onerror=b}),rt(h,"link",l),n.state.loading|=4,po(h,r.precedence,t),n.instance=h;case"script":return h=Js(r.src),(c=t.querySelector(da(h)))?(n.instance=c,Xe(c),c):(l=r,(c=Gt.get(h))&&(l=v({},r),kf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Xe(c),rt(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,po(l,r.precedence,t));return n.instance}function po(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,g=0;g<l.length;g++){var _=l[g];if(_.dataset.precedence===n)h=_;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function kf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var mo=null;function m_(t,n,r){if(mo===null){var l=new Map,c=mo=new Map;c.set(r,l)}else c=mo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var h=r[c];if(!(h[Rr]||h[ot]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=t+g;var _=l.get(g);_?_.push(h):l.set(g,[h])}}return l}function g_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Wb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function __(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var pa=null;function Zb(){}function $b(t,n,r){if(pa===null)throw Error(a(475));var l=pa;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=$s(r.href),h=t.querySelector(ha(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=go.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=h,Xe(h);return}h=t.ownerDocument||t,r=d_(r),(c=Gt.get(c))&&Mf(r,c),h=h.createElement("link"),Xe(h);var g=h;g._p=new Promise(function(_,b){g.onload=_,g.onerror=b}),rt(h,"link",r),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=go.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function Jb(){if(pa===null)throw Error(a(475));var t=pa;return t.stylesheets&&t.count===0&&Lf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Lf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function go(){if(this.count--,this.count===0){if(this.stylesheets)Lf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _o=null;function Lf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_o=new Map,n.forEach(eT,t),_o=null,go.call(t))}function eT(t,n){if(!(n.state.loading&4)){var r=_o.get(t);if(r)var l=r.get(null);else{r=new Map,_o.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),h=r.get(g)||l,h===l&&r.set(null,c),r.set(g,c),this.count++,l=go.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var ma={$$typeof:M,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function tT(t,n,r,l,c,h,g,_){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ou(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ou(0),this.hiddenUpdates=Ou(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function v_(t,n,r,l,c,h,g,_,b,x,L,H){return t=new tT(t,n,r,g,_,b,x,H),n=1,h===!0&&(n|=24),h=Nt(3,null,null,n),t.current=h,h.stateNode=t,n=mc(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:r,cache:n},yc(h),t}function y_(t){return t?(t=Os,t):Os}function E_(t,n,r,l,c,h){c=y_(c),l.context===null?l.context=c:l.pendingContext=c,l=Xn(n),l.payload={element:r},h=h===void 0?null:h,h!==null&&(l.callback=h),r=Wn(t,l,n),r!==null&&(Mt(r,t,n),Yr(r,t,n))}function S_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Uf(t,n){S_(t,n),(t=t.alternate)&&S_(t,n)}function b_(t){if(t.tag===13){var n=xs(t,67108864);n!==null&&Mt(n,t,67108864),Uf(t,67108864)}}var vo=!0;function nT(t,n,r,l){var c=U.T;U.T=null;var h=Y.p;try{Y.p=2,jf(t,n,r,l)}finally{Y.p=h,U.T=c}}function iT(t,n,r,l){var c=U.T;U.T=null;var h=Y.p;try{Y.p=8,jf(t,n,r,l)}finally{Y.p=h,U.T=c}}function jf(t,n,r,l){if(vo){var c=Pf(l);if(c===null)Cf(t,n,l,yo,r),C_(t,l);else if(rT(c,t,n,r,l))l.stopPropagation();else if(C_(t,l),n&4&&-1<sT.indexOf(t)){for(;c!==null;){var h=_s(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Ui(h.pendingLanes);if(g!==0){var _=h;for(_.pendingLanes|=2,_.entangledLanes|=2;g;){var b=1<<31-Rt(g);_.entanglements[1]|=b,g&=~b}cn(h),(Ee&6)===0&&(to=rn()+500,oa(0))}}break;case 13:_=xs(h,2),_!==null&&Mt(_,h,2),io(),Uf(h,2)}if(h=Pf(l),h===null&&Cf(t,n,l,yo,r),h===c)break;c=h}c!==null&&l.stopPropagation()}else Cf(t,n,l,null,r)}}function Pf(t){return t=qu(t),zf(t)}var yo=null;function zf(t){if(yo=null,t=gs(t),t!==null){var n=u(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=f(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return yo=t,null}function T_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(V0()){case jd:return 2;case Pd:return 8;case cl:case G0:return 32;case zd:return 268435456;default:return 32}default:return 32}}var Hf=!1,ui=null,ci=null,fi=null,ga=new Map,_a=new Map,hi=[],sT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(t,n){switch(t){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":ga.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(n.pointerId)}}function va(t,n,r,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=_s(n),n!==null&&b_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function rT(t,n,r,l,c){switch(n){case"focusin":return ui=va(ui,t,n,r,l,c),!0;case"dragenter":return ci=va(ci,t,n,r,l,c),!0;case"mouseover":return fi=va(fi,t,n,r,l,c),!0;case"pointerover":var h=c.pointerId;return ga.set(h,va(ga.get(h)||null,t,n,r,l,c)),!0;case"gotpointercapture":return h=c.pointerId,_a.set(h,va(_a.get(h)||null,t,n,r,l,c)),!0}return!1}function w_(t){var n=gs(t.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){t.blockedOn=n,$0(t.priority,function(){if(r.tag===13){var l=It();l=Du(l);var c=xs(r,l);c!==null&&Mt(c,r,l),Uf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Pf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Bu=l,r.target.dispatchEvent(l),Bu=null}else return n=_s(r),n!==null&&b_(n),t.blockedOn=r,!1;n.shift()}return!0}function R_(t,n,r){Eo(t)&&r.delete(n)}function aT(){Hf=!1,ui!==null&&Eo(ui)&&(ui=null),ci!==null&&Eo(ci)&&(ci=null),fi!==null&&Eo(fi)&&(fi=null),ga.forEach(R_),_a.forEach(R_)}function So(t,n){t.blockedOn===n&&(t.blockedOn=null,Hf||(Hf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,aT)))}var bo=null;function A_(t){bo!==t&&(bo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){bo===t&&(bo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(zf(l||r)===null)continue;break}var h=_s(r);h!==null&&(t.splice(n,3),n-=3,Pc(h,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function ya(t){function n(b){return So(b,t)}ui!==null&&So(ui,t),ci!==null&&So(ci,t),fi!==null&&So(fi,t),ga.forEach(n),_a.forEach(n);for(var r=0;r<hi.length;r++){var l=hi[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<hi.length&&(r=hi[0],r.blockedOn===null);)w_(r),r.blockedOn===null&&hi.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],h=r[l+1],g=c[gt]||null;if(typeof h=="function")g||A_(r);else if(g){var _=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[gt]||null)_=g.formAction;else if(zf(c)!==null)continue}else _=g.action;typeof _=="function"?r[l+1]=_:(r.splice(l,3),l-=3),A_(r)}}}function Bf(t){this._internalRoot=t}To.prototype.render=Bf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=It();E_(r,l,t,n,null,null)},To.prototype.unmount=Bf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;E_(t.current,2,null,t,null,null),io(),n[ms]=null}};function To(t){this._internalRoot=t}To.prototype.unstable_scheduleHydration=function(t){if(t){var n=Gd();t={blockedOn:null,target:t,priority:n};for(var r=0;r<hi.length&&n!==0&&n<hi[r].priority;r++);hi.splice(r,0,t),r===0&&w_(t)}};var N_=e.version;if(N_!=="19.1.0")throw Error(a(527,N_,"19.1.0"));Y.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(n),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var lT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Co.isDisabled&&Co.supportsFiber)try{Tr=Co.inject(lT),wt=Co}catch{}}return Sa.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=Gm,h=Ym,g=Fm,_=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=v_(t,1,!1,null,null,r,l,c,h,g,_,null),t[ms]=n.current,Tf(t),new Bf(n)},Sa.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",h=Gm,g=Ym,_=Fm,b=null,x=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(x=r.formState)),n=v_(t,1,!0,n,r??null,l,c,h,g,_,b,x),n.context=y_(null),r=n.current,l=It(),l=Du(l),c=Xn(l),c.callback=null,Wn(r,c,l),r=l,n.current.lanes=r,wr(n,r),cn(n),t[ms]=n.current,Tf(t),new To(n)},Sa.version="19.1.0",Sa}var P_;function _T(){if(P_)return Gf.exports;P_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Gf.exports=gT(),Gf.exports}var vT=_T(),ba={},z_;function yT(){if(z_)return ba;z_=1,Object.defineProperty(ba,"__esModule",{value:!0}),ba.parse=f,ba.serialize=p;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,R){const A=new u,k=S.length;if(k<2)return A;const j=(R==null?void 0:R.decode)||v;let P=0;do{const V=S.indexOf("=",P);if(V===-1)break;const M=S.indexOf(";",P),F=M===-1?k:M;if(V>F){P=S.lastIndexOf(";",V-1)+1;continue}const K=d(S,P,V),ae=m(S,V,K),ye=S.slice(K,ae);if(A[ye]===void 0){let Ie=d(S,V+1,F),be=m(S,F,Ie);const nt=j(S.slice(Ie,be));A[ye]=nt}P=F+1}while(P<k);return A}function d(S,R,A){do{const k=S.charCodeAt(R);if(k!==32&&k!==9)return R}while(++R<A);return A}function m(S,R,A){for(;R>A;){const k=S.charCodeAt(--R);if(k!==32&&k!==9)return R+1}return A}function p(S,R,A){const k=(A==null?void 0:A.encode)||encodeURIComponent;if(!s.test(S))throw new TypeError(`argument name is invalid: ${S}`);const j=k(R);if(!e.test(j))throw new TypeError(`argument val is invalid: ${R}`);let P=S+"="+j;if(!A)return P;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);P+="; Max-Age="+A.maxAge}if(A.domain){if(!i.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);P+="; Domain="+A.domain}if(A.path){if(!a.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);P+="; Path="+A.path}if(A.expires){if(!E(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);P+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(P+="; HttpOnly"),A.secure&&(P+="; Secure"),A.partitioned&&(P+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return P}function v(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function E(S){return o.call(S)==="[object Date]"}return ba}yT();var H_="popstate";function ET(s={}){function e(o,u){let{pathname:f="/",search:d="",hash:m=""}=ds(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),ch("",{pathname:f,search:d,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(o,u){let f=o.document.querySelector("base"),d="";if(f&&f.getAttribute("href")){let m=o.location.href,p=m.indexOf("#");d=p===-1?m:m.slice(0,p)}return d+"#"+(typeof u=="string"?u:Ua(u))}function a(o,u){Yt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return bT(e,i,a,s)}function Ue(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Yt(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ST(){return Math.random().toString(36).substring(2,10)}function B_(s,e){return{usr:s.state,key:s.key,idx:e}}function ch(s,e,i=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?ds(e):e,state:i,key:e&&e.key||a||ST()}}function Ua({pathname:s="/",search:e="",hash:i=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function ds(s){let e={};if(s){let i=s.indexOf("#");i>=0&&(e.hash=s.substring(i),s=s.substring(0,i));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function bT(s,e,i,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,d="POP",m=null,p=v();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function v(){return(f.state||{idx:null}).idx}function E(){d="POP";let j=v(),P=j==null?null:j-p;p=j,m&&m({action:d,location:k.location,delta:P})}function S(j,P){d="PUSH";let V=ch(k.location,j,P);i&&i(V,j),p=v()+1;let M=B_(V,p),F=k.createHref(V);try{f.pushState(M,"",F)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;o.location.assign(F)}u&&m&&m({action:d,location:k.location,delta:1})}function R(j,P){d="REPLACE";let V=ch(k.location,j,P);i&&i(V,j),p=v();let M=B_(V,p),F=k.createHref(V);f.replaceState(M,"",F),u&&m&&m({action:d,location:k.location,delta:0})}function A(j){let P=o.location.origin!=="null"?o.location.origin:o.location.href,V=typeof j=="string"?j:Ua(j);return V=V.replace(/ $/,"%20"),Ue(P,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,P)}let k={get action(){return d},get location(){return s(o,f)},listen(j){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(H_,E),m=j,()=>{o.removeEventListener(H_,E),m=null}},createHref(j){return e(o,j)},createURL:A,encodeLocation(j){let P=A(j);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:S,replace:R,go(j){return f.go(j)}};return k}function ay(s,e,i="/"){return TT(s,e,i,!1)}function TT(s,e,i,a){let o=typeof e=="string"?ds(e):e,u=jn(o.pathname||"/",i);if(u==null)return null;let f=ly(s);CT(f);let d=null;for(let m=0;d==null&&m<f.length;++m){let p=LT(u);d=MT(f[m],p,a)}return d}function ly(s,e=[],i=[],a=""){let o=(u,f,d)=>{let m={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(Ue(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let p=kn([a,m.relativePath]),v=i.concat(m);u.children&&u.children.length>0&&(Ue(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),ly(u.children,e,v,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:DT(p,u.index),routesMeta:v})};return s.forEach((u,f)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,f);else for(let m of oy(u.path))o(u,f,m)}),e}function oy(s){let e=s.split("/");if(e.length===0)return[];let[i,...a]=e,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=oy(a.join("/")),d=[];return d.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...f),d.map(m=>s.startsWith("/")&&m===""?"/":m)}function CT(s){s.sort((e,i)=>e.score!==i.score?i.score-e.score:IT(e.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var wT=/^:[\w-]+$/,RT=3,AT=2,NT=1,xT=10,OT=-2,q_=s=>s==="*";function DT(s,e){let i=s.split("/"),a=i.length;return i.some(q_)&&(a+=OT),e&&(a+=AT),i.filter(o=>!q_(o)).reduce((o,u)=>o+(wT.test(u)?RT:u===""?NT:xT),a)}function IT(s,e){return s.length===e.length&&s.slice(0,-1).every((a,o)=>a===e[o])?s[s.length-1]-e[e.length-1]:0}function MT(s,e,i=!1){let{routesMeta:a}=s,o={},u="/",f=[];for(let d=0;d<a.length;++d){let m=a[d],p=d===a.length-1,v=u==="/"?e:e.slice(u.length)||"/",E=Uo({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),S=m.route;if(!E&&p&&i&&!a[a.length-1].route.index&&(E=Uo({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!E)return null;Object.assign(o,E.params),f.push({params:o,pathname:kn([u,E.pathname]),pathnameBase:zT(kn([u,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(u=kn([u,E.pathnameBase]))}return f}function Uo(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,a]=kT(s.path,s.caseSensitive,s.end),o=e.match(i);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((p,{paramName:v,isOptional:E},S)=>{if(v==="*"){let A=d[S]||"";f=u.slice(0,u.length-A.length).replace(/(.)\/+$/,"$1")}const R=d[S];return E&&!R?p[v]=void 0:p[v]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:s}}function kT(s,e=!1,i=!0){Yt(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,d,m)=>(a.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function LT(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yt(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function jn(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,a=s.charAt(i);return a&&a!=="/"?null:s.slice(i)||"/"}function UT(s,e="/"){let{pathname:i,search:a="",hash:o=""}=typeof s=="string"?ds(s):s;return{pathname:i?i.startsWith("/")?i:jT(i,e):e,search:HT(a),hash:BT(o)}}function jT(s,e){let i=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Qf(s,e,i,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PT(s){return s.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function kh(s){let e=PT(s);return e.map((i,a)=>a===e.length-1?i.pathname:i.pathnameBase)}function Lh(s,e,i,a=!1){let o;typeof s=="string"?o=ds(s):(o={...s},Ue(!o.pathname||!o.pathname.includes("?"),Qf("?","pathname","search",o)),Ue(!o.pathname||!o.pathname.includes("#"),Qf("#","pathname","hash",o)),Ue(!o.search||!o.search.includes("#"),Qf("#","search","hash",o)));let u=s===""||o.pathname==="",f=u?"/":o.pathname,d;if(f==null)d=i;else{let E=e.length-1;if(!a&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),E-=1;o.pathname=S.join("/")}d=E>=0?e[E]:"/"}let m=UT(o,d),p=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var kn=s=>s.join("/").replace(/\/\/+/g,"/"),zT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),HT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,BT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function qT(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var uy=["POST","PUT","PATCH","DELETE"];new Set(uy);var VT=["GET",...uy];new Set(VT);var pr=D.createContext(null);pr.displayName="DataRouter";var au=D.createContext(null);au.displayName="DataRouterState";var cy=D.createContext({isTransitioning:!1});cy.displayName="ViewTransition";var GT=D.createContext(new Map);GT.displayName="Fetchers";var YT=D.createContext(null);YT.displayName="Await";var nn=D.createContext(null);nn.displayName="Navigation";var Xa=D.createContext(null);Xa.displayName="Location";var sn=D.createContext({outlet:null,matches:[],isDataRoute:!1});sn.displayName="Route";var Uh=D.createContext(null);Uh.displayName="RouteError";function FT(s,{relative:e}={}){Ue(mr(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=D.useContext(nn),{hash:o,pathname:u,search:f}=Wa(s,{relative:e}),d=u;return i!=="/"&&(d=u==="/"?i:kn([i,u])),a.createHref({pathname:d,search:f,hash:o})}function mr(){return D.useContext(Xa)!=null}function Ai(){return Ue(mr(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Xa).location}var fy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hy(s){D.useContext(nn).static||D.useLayoutEffect(s)}function lu(){let{isDataRoute:s}=D.useContext(sn);return s?lC():KT()}function KT(){Ue(mr(),"useNavigate() may be used only in the context of a <Router> component.");let s=D.useContext(pr),{basename:e,navigator:i}=D.useContext(nn),{matches:a}=D.useContext(sn),{pathname:o}=Ai(),u=JSON.stringify(kh(a)),f=D.useRef(!1);return hy(()=>{f.current=!0}),D.useCallback((m,p={})=>{if(Yt(f.current,fy),!f.current)return;if(typeof m=="number"){i.go(m);return}let v=Lh(m,JSON.parse(u),o,p.relative==="path");s==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:kn([e,v.pathname])),(p.replace?i.replace:i.push)(v,p.state,p)},[e,i,u,o,s])}var QT=D.createContext(null);function XT(s){let e=D.useContext(sn).outlet;return e&&D.createElement(QT.Provider,{value:s},e)}function Wa(s,{relative:e}={}){let{matches:i}=D.useContext(sn),{pathname:a}=Ai(),o=JSON.stringify(kh(i));return D.useMemo(()=>Lh(s,JSON.parse(o),a,e==="path"),[s,o,a,e])}function WT(s,e){return dy(s,e)}function dy(s,e,i,a){var V;Ue(mr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=D.useContext(nn),{matches:f}=D.useContext(sn),d=f[f.length-1],m=d?d.params:{},p=d?d.pathname:"/",v=d?d.pathnameBase:"/",E=d&&d.route;{let M=E&&E.path||"";py(p,!E||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let S=Ai(),R;if(e){let M=typeof e=="string"?ds(e):e;Ue(v==="/"||((V=M.pathname)==null?void 0:V.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${M.pathname}" was given in the \`location\` prop.`),R=M}else R=S;let A=R.pathname||"/",k=A;if(v!=="/"){let M=v.replace(/^\//,"").split("/");k="/"+A.replace(/^\//,"").split("/").slice(M.length).join("/")}let j=!u&&i&&i.matches&&i.matches.length>0?i.matches:ay(s,{pathname:k});Yt(E||j!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Yt(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=tC(j&&j.map(M=>Object.assign({},M,{params:Object.assign({},m,M.params),pathname:kn([v,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?v:kn([v,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),f,i,a);return e&&P?D.createElement(Xa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},P):P}function ZT(){let s=aC(),e=qT(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=D.createElement(D.Fragment,null,D.createElement("p",null,"💿 Hey developer 👋"),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:u},"ErrorBoundary")," or"," ",D.createElement("code",{style:u},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),i?D.createElement("pre",{style:o},i):null,f)}var $T=D.createElement(ZT,null),JT=class extends D.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?D.createElement(sn.Provider,{value:this.props.routeContext},D.createElement(Uh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eC({routeContext:s,match:e,children:i}){let a=D.useContext(pr);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(sn.Provider,{value:s},i)}function tC(s,e=[],i=null,a=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let o=s,u=i==null?void 0:i.errors;if(u!=null){let m=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);Ue(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,d=-1;if(i)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:v,errors:E}=i,S=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!E||E[p.route.id]===void 0);if(p.route.lazy||S){f=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,p,v)=>{let E,S=!1,R=null,A=null;i&&(E=u&&p.route.id?u[p.route.id]:void 0,R=p.route.errorElement||$T,f&&(d<0&&v===0?(py("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,A=null):d===v&&(S=!0,A=p.route.hydrateFallbackElement||null)));let k=e.concat(o.slice(0,v+1)),j=()=>{let P;return E?P=R:S?P=A:p.route.Component?P=D.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=m,D.createElement(eC,{match:p,routeContext:{outlet:m,matches:k,isDataRoute:i!=null},children:P})};return i&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?D.createElement(JT,{location:i.location,revalidation:i.revalidation,component:R,error:E,children:j(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):j()},null)}function jh(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nC(s){let e=D.useContext(pr);return Ue(e,jh(s)),e}function iC(s){let e=D.useContext(au);return Ue(e,jh(s)),e}function sC(s){let e=D.useContext(sn);return Ue(e,jh(s)),e}function Ph(s){let e=sC(s),i=e.matches[e.matches.length-1];return Ue(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function rC(){return Ph("useRouteId")}function aC(){var a;let s=D.useContext(Uh),e=iC("useRouteError"),i=Ph("useRouteError");return s!==void 0?s:(a=e.errors)==null?void 0:a[i]}function lC(){let{router:s}=nC("useNavigate"),e=Ph("useNavigate"),i=D.useRef(!1);return hy(()=>{i.current=!0}),D.useCallback(async(o,u={})=>{Yt(i.current,fy),i.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...u}))},[s,e])}var V_={};function py(s,e,i){!e&&!V_[s]&&(V_[s]=!0,Yt(!1,i))}D.memo(oC);function oC({routes:s,future:e,state:i}){return dy(s,void 0,i,e)}function uC({to:s,replace:e,state:i,relative:a}){Ue(mr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=D.useContext(nn);Yt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=D.useContext(sn),{pathname:f}=Ai(),d=lu(),m=Lh(s,kh(u),f,a==="path"),p=JSON.stringify(m);return D.useEffect(()=>{d(JSON.parse(p),{replace:e,state:i,relative:a})},[d,p,a,e,i]),null}function my(s){return XT(s.context)}function fn(s){Ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cC({basename:s="/",children:e=null,location:i,navigationType:a="POP",navigator:o,static:u=!1}){Ue(!mr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=s.replace(/^\/*/,"/"),d=D.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof i=="string"&&(i=ds(i));let{pathname:m="/",search:p="",hash:v="",state:E=null,key:S="default"}=i,R=D.useMemo(()=>{let A=jn(m,f);return A==null?null:{location:{pathname:A,search:p,hash:v,state:E,key:S},navigationType:a}},[f,m,p,v,E,S,a]);return Yt(R!=null,`<Router basename="${f}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:D.createElement(nn.Provider,{value:d},D.createElement(Xa.Provider,{children:e,value:R}))}function fC({children:s,location:e}){return WT(fh(s),e)}function fh(s,e=[]){let i=[];return D.Children.forEach(s,(a,o)=>{if(!D.isValidElement(a))return;let u=[...e,o];if(a.type===D.Fragment){i.push.apply(i,fh(a.props.children,u));return}Ue(a.type===fn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ue(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=fh(a.props.children,u)),i.push(f)}),i}var xo="get",Oo="application/x-www-form-urlencoded";function ou(s){return s!=null&&typeof s.tagName=="string"}function hC(s){return ou(s)&&s.tagName.toLowerCase()==="button"}function dC(s){return ou(s)&&s.tagName.toLowerCase()==="form"}function pC(s){return ou(s)&&s.tagName.toLowerCase()==="input"}function mC(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function gC(s,e){return s.button===0&&(!e||e==="_self")&&!mC(s)}var wo=null;function _C(){if(wo===null)try{new FormData(document.createElement("form"),0),wo=!1}catch{wo=!0}return wo}var vC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xf(s){return s!=null&&!vC.has(s)?(Yt(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oo}"`),null):s}function yC(s,e){let i,a,o,u,f;if(dC(s)){let d=s.getAttribute("action");a=d?jn(d,e):null,i=s.getAttribute("method")||xo,o=Xf(s.getAttribute("enctype"))||Oo,u=new FormData(s)}else if(hC(s)||pC(s)&&(s.type==="submit"||s.type==="image")){let d=s.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||d.getAttribute("action");if(a=m?jn(m,e):null,i=s.getAttribute("formmethod")||d.getAttribute("method")||xo,o=Xf(s.getAttribute("formenctype"))||Xf(d.getAttribute("enctype"))||Oo,u=new FormData(d,s),!_C()){let{name:p,type:v,value:E}=s;if(v==="image"){let S=p?`${p}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else p&&u.append(p,E)}}else{if(ou(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=xo,a=null,o=Oo,f=s}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:i.toLowerCase(),encType:o,formData:u,body:f}}function zh(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function EC(s,e){if(s.id in e)return e[s.id];try{let i=await import(s.module);return e[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SC(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function bC(s,e,i){let a=await Promise.all(s.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await EC(u,i);return f.links?f.links():[]}return[]}));return RC(a.flat(1).filter(SC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function G_(s,e,i,a,o,u){let f=(m,p)=>i[p]?m.route.id!==i[p].route.id:!0,d=(m,p)=>{var v;return i[p].pathname!==m.pathname||((v=i[p].route.path)==null?void 0:v.endsWith("*"))&&i[p].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,p)=>f(m,p)||d(m,p)):u==="data"?e.filter((m,p)=>{var E;let v=a.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(f(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=i[0])==null?void 0:E.params)||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function TC(s,e,{includeHydrateFallback:i}={}){return CC(s.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function CC(s){return[...new Set(s)]}function wC(s){let e={},i=Object.keys(s).sort();for(let a of i)e[a]=s[a];return e}function RC(s,e){let i=new Set;return new Set(e),s.reduce((a,o)=>{let u=JSON.stringify(wC(o));return i.has(u)||(i.add(u),a.push({key:u,link:o})),a},[])}var AC=new Set([100,101,204,205]);function NC(s,e){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname="_root.data":e&&jn(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function gy(){let s=D.useContext(pr);return zh(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function xC(){let s=D.useContext(au);return zh(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Hh=D.createContext(void 0);Hh.displayName="FrameworkContext";function _y(){let s=D.useContext(Hh);return zh(s,"You must render this element inside a <HydratedRouter> element"),s}function OC(s,e){let i=D.useContext(Hh),[a,o]=D.useState(!1),[u,f]=D.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:E}=e,S=D.useRef(null);D.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let k=P=>{P.forEach(V=>{f(V.isIntersecting)})},j=new IntersectionObserver(k,{threshold:.5});return S.current&&j.observe(S.current),()=>{j.disconnect()}}},[s]),D.useEffect(()=>{if(a){let k=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(k)}}},[a]);let R=()=>{o(!0)},A=()=>{o(!1),f(!1)};return i?s!=="intent"?[u,S,{}]:[u,S,{onFocus:Ta(d,R),onBlur:Ta(m,A),onMouseEnter:Ta(p,R),onMouseLeave:Ta(v,A),onTouchStart:Ta(E,R)}]:[!1,S,{}]}function Ta(s,e){return i=>{s&&s(i),i.defaultPrevented||e(i)}}function DC({page:s,...e}){let{router:i}=gy(),a=D.useMemo(()=>ay(i.routes,s,i.basename),[i.routes,s,i.basename]);return a?D.createElement(MC,{page:s,matches:a,...e}):null}function IC(s){let{manifest:e,routeModules:i}=_y(),[a,o]=D.useState([]);return D.useEffect(()=>{let u=!1;return bC(s,e,i).then(f=>{u||o(f)}),()=>{u=!0}},[s,e,i]),a}function MC({page:s,matches:e,...i}){let a=Ai(),{manifest:o,routeModules:u}=_y(),{basename:f}=gy(),{loaderData:d,matches:m}=xC(),p=D.useMemo(()=>G_(s,e,m,o,a,"data"),[s,e,m,o,a]),v=D.useMemo(()=>G_(s,e,m,o,a,"assets"),[s,e,m,o,a]),E=D.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let A=new Set,k=!1;if(e.forEach(P=>{var M;let V=o.routes[P.route.id];!V||!V.hasLoader||(!p.some(F=>F.route.id===P.route.id)&&P.route.id in d&&((M=u[P.route.id])!=null&&M.shouldRevalidate)||V.hasClientLoader?k=!0:A.add(P.route.id))}),A.size===0)return[];let j=NC(s,f);return k&&A.size>0&&j.searchParams.set("_routes",e.filter(P=>A.has(P.route.id)).map(P=>P.route.id).join(",")),[j.pathname+j.search]},[f,d,a,o,p,e,s,u]),S=D.useMemo(()=>TC(v,o),[v,o]),R=IC(v);return D.createElement(D.Fragment,null,E.map(A=>D.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...i})),S.map(A=>D.createElement("link",{key:A,rel:"modulepreload",href:A,...i})),R.map(({key:A,link:k})=>D.createElement("link",{key:A,...k})))}function kC(...s){return e=>{s.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var vy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vy&&(window.__reactRouterVersion="7.5.2")}catch{}function LC({basename:s,children:e,window:i}){let a=D.useRef();a.current==null&&(a.current=ET({window:i,v5Compat:!0}));let o=a.current,[u,f]=D.useState({action:o.action,location:o.location}),d=D.useCallback(m=>{D.startTransition(()=>f(m))},[f]);return D.useLayoutEffect(()=>o.listen(d),[o,d]),D.createElement(cC,{basename:s,children:e,location:u.location,navigationType:u.action,navigator:o})}var yy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,or=D.forwardRef(function({onClick:e,discover:i="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:d,target:m,to:p,preventScrollReset:v,viewTransition:E,...S},R){let{basename:A}=D.useContext(nn),k=typeof p=="string"&&yy.test(p),j,P=!1;if(typeof p=="string"&&k&&(j=p,vy))try{let be=new URL(window.location.href),nt=p.startsWith("//")?new URL(be.protocol+p):new URL(p),Lt=jn(nt.pathname,A);nt.origin===be.origin&&Lt!=null?p=Lt+nt.search+nt.hash:P=!0}catch{Yt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=FT(p,{relative:o}),[M,F,K]=OC(a,S),ae=PC(p,{replace:f,state:d,target:m,preventScrollReset:v,relative:o,viewTransition:E});function ye(be){e&&e(be),be.defaultPrevented||ae(be)}let Ie=D.createElement("a",{...S,...K,href:j||V,onClick:P||u?e:ye,ref:kC(R,F),target:m,"data-discover":!k&&i==="render"?"true":void 0});return M&&!k?D.createElement(D.Fragment,null,Ie,D.createElement(DC,{page:V})):Ie});or.displayName="Link";var mi=D.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:d,children:m,...p},v){let E=Wa(f,{relative:p.relative}),S=Ai(),R=D.useContext(au),{navigator:A,basename:k}=D.useContext(nn),j=R!=null&&VC(E)&&d===!0,P=A.encodeLocation?A.encodeLocation(E).pathname:E.pathname,V=S.pathname,M=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;i||(V=V.toLowerCase(),M=M?M.toLowerCase():null,P=P.toLowerCase()),M&&k&&(M=jn(M,k)||M);const F=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let K=V===P||!o&&V.startsWith(P)&&V.charAt(F)==="/",ae=M!=null&&(M===P||!o&&M.startsWith(P)&&M.charAt(P.length)==="/"),ye={isActive:K,isPending:ae,isTransitioning:j},Ie=K?e:void 0,be;typeof a=="function"?be=a(ye):be=[a,K?"active":null,ae?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let nt=typeof u=="function"?u(ye):u;return D.createElement(or,{...p,"aria-current":Ie,className:be,ref:v,style:nt,to:f,viewTransition:d},typeof m=="function"?m(ye):m)});mi.displayName="NavLink";var UC=D.forwardRef(({discover:s="render",fetcherKey:e,navigate:i,reloadDocument:a,replace:o,state:u,method:f=xo,action:d,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:E,...S},R)=>{let A=BC(),k=qC(d,{relative:p}),j=f.toLowerCase()==="get"?"get":"post",P=typeof d=="string"&&yy.test(d),V=M=>{if(m&&m(M),M.defaultPrevented)return;M.preventDefault();let F=M.nativeEvent.submitter,K=(F==null?void 0:F.getAttribute("formmethod"))||f;A(F||M.currentTarget,{fetcherKey:e,method:K,navigate:i,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:E})};return D.createElement("form",{ref:R,method:j,action:k,onSubmit:a?m:V,...S,"data-discover":!P&&s==="render"?"true":void 0})});UC.displayName="Form";function jC(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ey(s){let e=D.useContext(pr);return Ue(e,jC(s)),e}function PC(s,{target:e,replace:i,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let d=lu(),m=Ai(),p=Wa(s,{relative:u});return D.useCallback(v=>{if(gC(v,e)){v.preventDefault();let E=i!==void 0?i:Ua(m)===Ua(p);d(s,{replace:E,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[m,d,p,i,a,e,s,o,u,f])}var zC=0,HC=()=>`__${String(++zC)}__`;function BC(){let{router:s}=Ey("useSubmit"),{basename:e}=D.useContext(nn),i=rC();return D.useCallback(async(a,o={})=>{let{action:u,method:f,encType:d,formData:m,body:p}=yC(a,e);if(o.navigate===!1){let v=o.fetcherKey||HC();await s.fetch(v,i,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||f,formEncType:o.encType||d,flushSync:o.flushSync})}else await s.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||f,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,i])}function qC(s,{relative:e}={}){let{basename:i}=D.useContext(nn),a=D.useContext(sn);Ue(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Wa(s||".",{relative:e})},f=Ai();if(s==null){u.search=f.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(E=>E).forEach(E=>d.append("index",E));let v=d.toString();u.search=v?`?${v}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:kn([i,u.pathname])),Ua(u)}function VC(s,e={}){let i=D.useContext(cy);Ue(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Ey("useViewTransitionState"),o=Wa(s,{relative:e.relative});if(!i.isTransitioning)return!1;let u=jn(i.currentLocation.pathname,a)||i.currentLocation.pathname,f=jn(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Uo(o.pathname,f)!=null||Uo(o.pathname,u)!=null}new TextEncoder;[...AC];const GC=()=>{};var Y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q=function(s,e){if(!s)throw gr(e)},gr=function(s){return new Error("Firebase Database ("+Sy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},YC=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[i++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[i++],f=s[i++],d=s[i++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const u=s[i++],f=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Bh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,d=f?s[o+1]:0,m=o+2<s.length,p=m?s[o+2]:0,v=u>>2,E=(u&3)<<4|d>>4;let S=(d&15)<<2|p>>6,R=p&63;m||(R=64,f||(S=64)),a.push(i[v],i[E],i[S],i[R])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(by(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):YC(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const u=i[s.charAt(o++)],d=o<s.length?i[s.charAt(o)]:0;++o;const p=o<s.length?i[s.charAt(o)]:64;++o;const E=o<s.length?i[s.charAt(o)]:64;if(++o,u==null||d==null||p==null||E==null)throw new FC;const S=u<<2|d>>4;if(a.push(S),p!==64){const R=d<<4&240|p>>2;if(a.push(R),E!==64){const A=p<<6&192|E;a.push(A)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class FC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ty=function(s){const e=by(s);return Bh.encodeByteArray(e,!0)},jo=function(s){return Ty(s).replace(/\./g,"")},Po=function(s){try{return Bh.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(s){return Cy(void 0,s)}function Cy(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!QC(i)||(s[i]=Cy(s[i],e[i]));return s}function QC(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=()=>XC().__FIREBASE_DEFAULTS__,ZC=()=>{if(typeof process>"u"||typeof Y_>"u")return;const s=Y_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},$C=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Po(s[1]);return e&&JSON.parse(e)},qh=()=>{try{return GC()||WC()||ZC()||$C()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},wy=s=>{var e,i;return(i=(e=qh())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},JC=s=>{const e=wy(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Ry=()=>{var s;return(s=qh())===null||s===void 0?void 0:s.config},Ay=s=>{var e;return(e=qh())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},s);return[jo(JSON.stringify(i)),jo(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function tw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nw(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Ny(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iw(){const s=mt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function sw(){return Sy.NODE_ADMIN===!0}function rw(){try{return typeof indexedDB=="object"}catch{return!1}}function aw(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="FirebaseError";class Ni extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=lw,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Za.prototype.create)}}class Za{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?ow(u,a):"Error",d=`${this.serviceName}: ${f} (${o}).`;return new Ni(o,d,a)}}function ow(s,e){return s.replace(uw,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const uw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(s){return JSON.parse(s)}function Ke(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=function(s){let e={},i={},a={},o="";try{const u=s.split(".");e=ja(Po(u[0])||""),i=ja(Po(u[1])||""),o=u[2],a=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:a,signature:o}},cw=function(s){const e=xy(s),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},fw=function(s){const e=xy(s).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function ur(s,e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}function hh(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function zo(s,e,i){const a={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=e.call(i,s[o],o,s));return a}function rs(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const u=s[o],f=e[o];if(F_(u)&&F_(f)){if(!rs(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function F_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Na(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function xa(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const a=this.W_;if(typeof e=="string")for(let E=0;E<16;E++)a[E]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let E=0;E<16;E++)a[E]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let E=16;E<80;E++){const S=a[E-3]^a[E-8]^a[E-14]^a[E-16];a[E]=(S<<1|S>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],f=this.chain_[2],d=this.chain_[3],m=this.chain_[4],p,v;for(let E=0;E<80;E++){E<40?E<20?(p=d^u&(f^d),v=1518500249):(p=u^f^d,v=1859775393):E<60?(p=u&f|d&(u|f),v=2400959708):(p=u^f^d,v=3395469782);const S=(o<<5|o>>>27)+p+m+v+a[E]&4294967295;m=d,d=f,f=(u<<30|u>>>2)&4294967295,u=o,o=S}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const a=i-this.blockSize;let o=0;const u=this.buf_;let f=this.inbuf_;for(;o<i;){if(f===0)for(;o<=a;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(u[f]=e.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}else for(;o<i;)if(u[f]=e[o],++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[a]=this.chain_[o]>>u&255,++a;return e}}function dw(s,e){const i=new pw(s,e);return i.subscribe.bind(i)}class pw{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");mw(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Wf),o.error===void 0&&(o.error=Wf),o.complete===void 0&&(o.complete=Wf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mw(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Wf(){}function Gh(s,e){return`${s} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);if(o>=55296&&o<=56319){const u=o-55296;a++,q(a<s.length,"Surrogate pair missing trail surrogate.");const f=s.charCodeAt(a)-56320;o=65536+(u<<10)+f}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},cu=function(s){let e=0;for(let i=0;i<s.length;i++){const a=s.charCodeAt(i);a<128?e++:a<2048?e+=2:a>=55296&&a<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(s){return s&&s._delegate?s._delegate:s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(s){return s.endsWith(".cloudworkstations.dev")}async function Oy(s){return(await fetch(s,{credentials:"include"})).ok}class as{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new uu;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yw(e))try{this.getOrInitializeService({instanceIdentifier:es})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=es){return this.instances.has(e)}getOptions(e=es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&f.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:vw(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=es){return this.component?this.component.multipleInstances?e:es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vw(s){return s===es?void 0:s}function yw(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new _w(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Re||(Re={}));const Sw={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},bw=Re.INFO,Tw={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},Cw=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=Tw[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yh{constructor(e){this.name=e,this._logLevel=bw,this._logHandler=Cw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Sw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const ww=(s,e)=>e.some(i=>s instanceof i);let K_,Q_;function Rw(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Aw(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dy=new WeakMap,dh=new WeakMap,Iy=new WeakMap,Zf=new WeakMap,Fh=new WeakMap;function Nw(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{i(yi(s.result)),o()},f=()=>{a(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&Dy.set(i,s)}).catch(()=>{}),Fh.set(e,s),e}function xw(s){if(dh.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});dh.set(s,e)}let ph={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return dh.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Iy.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return yi(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Ow(s){ph=s(ph)}function Dw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call($f(this),e,...i);return Iy.set(a,e.sort?e.sort():[e]),yi(a)}:Aw().includes(s)?function(...e){return s.apply($f(this),e),yi(Dy.get(this))}:function(...e){return yi(s.apply($f(this),e))}}function Iw(s){return typeof s=="function"?Dw(s):(s instanceof IDBTransaction&&xw(s),ww(s,Rw())?new Proxy(s,ph):s)}function yi(s){if(s instanceof IDBRequest)return Nw(s);if(Zf.has(s))return Zf.get(s);const e=Iw(s);return e!==s&&(Zf.set(s,e),Fh.set(e,s)),e}const $f=s=>Fh.get(s);function Mw(s,e,{blocked:i,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(s,e),d=yi(f);return a&&f.addEventListener("upgradeneeded",m=>{a(yi(f.result),m.oldVersion,m.newVersion,yi(f.transaction),m)}),i&&f.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const kw=["get","getKey","getAll","getAllKeys","count"],Lw=["put","add","delete","clear"],Jf=new Map;function X_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=Lw.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||kw.includes(i)))return;const u=async function(f,...d){const m=this.transaction(f,o?"readwrite":"readonly");let p=m.store;return a&&(p=p.index(d.shift())),(await Promise.all([p[i](...d),o&&m.done]))[0]};return Jf.set(e,u),u}Ow(s=>({...s,get:(e,i,a)=>X_(e,i)||s.get(e,i,a),has:(e,i)=>!!X_(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(jw(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function jw(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mh="@firebase/app",W_="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn=new Yh("@firebase/app"),Pw="@firebase/app-compat",zw="@firebase/analytics-compat",Hw="@firebase/analytics",Bw="@firebase/app-check-compat",qw="@firebase/app-check",Vw="@firebase/auth",Gw="@firebase/auth-compat",Yw="@firebase/database",Fw="@firebase/data-connect",Kw="@firebase/database-compat",Qw="@firebase/functions",Xw="@firebase/functions-compat",Ww="@firebase/installations",Zw="@firebase/installations-compat",$w="@firebase/messaging",Jw="@firebase/messaging-compat",eR="@firebase/performance",tR="@firebase/performance-compat",nR="@firebase/remote-config",iR="@firebase/remote-config-compat",sR="@firebase/storage",rR="@firebase/storage-compat",aR="@firebase/firestore",lR="@firebase/vertexai",oR="@firebase/firestore-compat",uR="firebase",cR="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="[DEFAULT]",fR={[mh]:"fire-core",[Pw]:"fire-core-compat",[Hw]:"fire-analytics",[zw]:"fire-analytics-compat",[qw]:"fire-app-check",[Bw]:"fire-app-check-compat",[Vw]:"fire-auth",[Gw]:"fire-auth-compat",[Yw]:"fire-rtdb",[Fw]:"fire-data-connect",[Kw]:"fire-rtdb-compat",[Qw]:"fire-fn",[Xw]:"fire-fn-compat",[Ww]:"fire-iid",[Zw]:"fire-iid-compat",[$w]:"fire-fcm",[Jw]:"fire-fcm-compat",[eR]:"fire-perf",[tR]:"fire-perf-compat",[nR]:"fire-rc",[iR]:"fire-rc-compat",[sR]:"fire-gcs",[rR]:"fire-gcs-compat",[aR]:"fire-fst",[oR]:"fire-fst-compat",[lR]:"fire-vertex","fire-js":"fire-js",[uR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new Map,hR=new Map,_h=new Map;function Z_(s,e){try{s.container.addComponent(e)}catch(i){Pn.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function cr(s){const e=s.name;if(_h.has(e))return Pn.debug(`There were multiple attempts to register component ${e}.`),!1;_h.set(e,s);for(const i of Ho.values())Z_(i,s);for(const i of hR.values())Z_(i,s);return!0}function Kh(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function kt(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new Za("app","Firebase",dR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new as("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=cR;function My(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:gh,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Ei.create("bad-app-name",{appName:String(o)});if(i||(i=Ry()),!i)throw Ei.create("no-options");const u=Ho.get(o);if(u){if(rs(i,u.options)&&rs(a,u.config))return u;throw Ei.create("duplicate-app",{appName:o})}const f=new Ew(o);for(const m of _h.values())f.addComponent(m);const d=new pR(i,a,f);return Ho.set(o,d),d}function ky(s=gh){const e=Ho.get(s);if(!e&&s===gh&&Ry())return My();if(!e)throw Ei.create("no-app",{appName:s});return e}function Si(s,e,i){var a;let o=(a=fR[s])!==null&&a!==void 0?a:s;i&&(o+=`-${i}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pn.warn(d.join(" "));return}cr(new as(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="firebase-heartbeat-database",gR=1,Pa="firebase-heartbeat-store";let eh=null;function Ly(){return eh||(eh=Mw(mR,gR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Pa)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ei.create("idb-open",{originalErrorMessage:s.message})})),eh}async function _R(s){try{const i=(await Ly()).transaction(Pa),a=await i.objectStore(Pa).get(Uy(s));return await i.done,a}catch(e){if(e instanceof Ni)Pn.warn(e.message);else{const i=Ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pn.warn(i.message)}}}async function $_(s,e){try{const a=(await Ly()).transaction(Pa,"readwrite");await a.objectStore(Pa).put(e,Uy(s)),await a.done}catch(i){if(i instanceof Ni)Pn.warn(i.message);else{const a=Ei.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Pn.warn(a.message)}}}function Uy(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=1024,yR=30;class ER{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new bR(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=J_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>yR){const f=TR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Pn.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=J_(),{heartbeatsToSend:a,unsentEntries:o}=SR(this._heartbeatsCache.heartbeats),u=jo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Pn.warn(i),""}}}function J_(){return new Date().toISOString().substring(0,10)}function SR(s,e=vR){const i=[];let a=s.slice();for(const o of s){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),ev(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),ev(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class bR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rw()?aw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _R(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return $_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return $_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function ev(s){return jo(JSON.stringify({version:2,heartbeats:s})).length}function TR(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(s){cr(new as("platform-logger",e=>new Uw(e),"PRIVATE")),cr(new as("heartbeat",e=>new ER(e),"PRIVATE")),Si(mh,W_,s),Si(mh,W_,"esm2017"),Si("fire-js","")}CR("");function Qh(s,e){var i={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(i[a[o]]=s[a[o]]);return i}function jy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wR=jy,Py=new Za("auth","Firebase",jy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Yh("@firebase/auth");function RR(s,...e){Bo.logLevel<=Re.WARN&&Bo.warn(`Auth (${vr}): ${s}`,...e)}function Do(s,...e){Bo.logLevel<=Re.ERROR&&Bo.error(`Auth (${vr}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(s,...e){throw Wh(s,...e)}function en(s,...e){return Wh(s,...e)}function Xh(s,e,i){const a=Object.assign(Object.assign({},wR()),{[e]:i});return new Za("auth","Firebase",a).create(e,{appName:s.name})}function Ln(s){return Xh(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AR(s,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&Ft(s,"argument-error"),Xh(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wh(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Py.create(s,...e)}function te(s,e,...i){if(!s)throw Wh(e,...i)}function Dn(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Do(e),new Error(e)}function zn(s,e){s||Dn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function NR(){return tv()==="http:"||tv()==="https:"}function tv(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NR()||nw()||"connection"in navigator)?navigator.onLine:!0}function OR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,i){this.shortDelay=e,this.longDelay=i,zn(i>e,"Short delay should be less than long delay!"),this.isMobile=Vh()||Ny()}get(){return xR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(s,e){zn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MR=new $a(3e4,6e4);function xi(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function Oi(s,e,i,a,o={}){return Hy(s,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const d=_r(Object.assign({key:s.config.apiKey},f)).slice(1),m=await s._getAdditionalHeaders();m["Content-Type"]="application/json",s.languageCode&&(m["X-Firebase-Locale"]=s.languageCode);const p=Object.assign({method:e,headers:m},u);return tw()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&fu(s.emulatorConfig.host)&&(p.credentials="include"),zy.fetch()(await By(s,s.config.apiHost,i,d),p)})}async function Hy(s,e,i){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},DR),e);try{const o=new LR(s),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Ro(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const d=u.ok?f.errorMessage:f.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ro(s,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw Ro(s,"email-already-in-use",f);if(m==="USER_DISABLED")throw Ro(s,"user-disabled",f);const v=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Xh(s,v,p);Ft(s,v)}}catch(o){if(o instanceof Ni)throw o;Ft(s,"network-request-failed",{message:String(o)})}}async function Ja(s,e,i,a,o={}){const u=await Oi(s,e,i,a,o);return"mfaPendingCredential"in u&&Ft(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function By(s,e,i,a){const o=`${e}${i}?${a}`,u=s,f=u.config.emulator?Zh(s.config,o):`${s.config.apiScheme}://${o}`;return IR.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function kR(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(en(this.auth,"network-request-failed")),MR.get())})}}function Ro(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=en(s,e,a);return o.customData._tokenResponse=i,o}function nv(s){return s!==void 0&&s.enterprise!==void 0}class UR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return kR(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jR(s,e){return Oi(s,"GET","/v2/recaptchaConfig",xi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(s,e){return Oi(s,"POST","/v1/accounts:delete",e)}async function qo(s,e){return Oi(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zR(s,e=!1){const i=ht(s),a=await i.getIdToken(e),o=$h(a);te(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:Oa(th(o.auth_time)),issuedAtTime:Oa(th(o.iat)),expirationTime:Oa(th(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function th(s){return Number(s)*1e3}function $h(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Do("JWT malformed, contained fewer than 3 sections"),null;try{const o=Po(i);return o?JSON.parse(o):(Do("Failed to decode base64 JWT payload"),null)}catch(o){return Do("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function iv(s){const e=$h(s);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ni&&HR(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function HR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oa(this.lastLoginAt),this.creationTime=Oa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(s){var e;const i=s.auth,a=await s.getIdToken(),o=await za(s,qo(i,{idToken:a}));te(o==null?void 0:o.users.length,i,"internal-error");const u=o.users[0];s._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?qy(u.providerUserInfo):[],d=VR(s.providerData,f),m=s.isAnonymous,p=!(s.email&&u.passwordHash)&&!(d!=null&&d.length),v=m?p:!1,E={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new yh(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(s,E)}async function qR(s){const e=ht(s);await Vo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VR(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function qy(s){return s.map(e=>{var{providerId:i}=e,a=Qh(e,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(s,e){const i=await Hy(s,{},async()=>{const a=_r({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await By(s,o,"/v1/token",`key=${u}`),d=await s._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",zy.fetch()(f,{method:"POST",headers:d,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function YR(s,e){return Oi(s,"POST","/v2/accounts:revokeToken",xi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){te(e.length!==0,"internal-error");const i=iv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:u}=await GR(e,i);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:u}=i,f=new ir;return a&&(te(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ir,this.toJSON())}_performRefresh(){return Dn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(s,e){te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Zt{constructor(e){var{uid:i,auth:a,stsTokenManager:o}=e,u=Qh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new yh(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const i=await za(this,this.stsTokenManager.getToken(this.auth,e));return te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return zR(this,e)}reload(){return qR(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Zt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Vo(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kt(this.auth.app))return Promise.reject(Ln(this.auth));const e=await this.getIdToken();return await za(this,PR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var a,o,u,f,d,m,p,v;const E=(a=i.displayName)!==null&&a!==void 0?a:void 0,S=(o=i.email)!==null&&o!==void 0?o:void 0,R=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,A=(f=i.photoURL)!==null&&f!==void 0?f:void 0,k=(d=i.tenantId)!==null&&d!==void 0?d:void 0,j=(m=i._redirectEventId)!==null&&m!==void 0?m:void 0,P=(p=i.createdAt)!==null&&p!==void 0?p:void 0,V=(v=i.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:M,emailVerified:F,isAnonymous:K,providerData:ae,stsTokenManager:ye}=i;te(M&&ye,e,"internal-error");const Ie=ir.fromJSON(this.name,ye);te(typeof M=="string",e,"internal-error"),pi(E,e.name),pi(S,e.name),te(typeof F=="boolean",e,"internal-error"),te(typeof K=="boolean",e,"internal-error"),pi(R,e.name),pi(A,e.name),pi(k,e.name),pi(j,e.name),pi(P,e.name),pi(V,e.name);const be=new Zt({uid:M,auth:e,email:S,emailVerified:F,displayName:E,isAnonymous:K,photoURL:A,phoneNumber:R,tenantId:k,stsTokenManager:Ie,createdAt:P,lastLoginAt:V});return ae&&Array.isArray(ae)&&(be.providerData=ae.map(nt=>Object.assign({},nt))),j&&(be._redirectEventId=j),be}static async _fromIdTokenResponse(e,i,a=!1){const o=new ir;o.updateFromServerResponse(i);const u=new Zt({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Vo(u),u}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?qy(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new ir;d.updateFromIdToken(a);const m=new Zt({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new yh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=new Map;function In(s){zn(s instanceof Function,"Expected a class definition");let e=sv.get(s);return e?(zn(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,sv.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Vy.type="NONE";const rv=Vy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(s,e,i){return`firebase:${s}:${e}:${i}`}class sr{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Io(this.userKey,o.apiKey,u),this.fullPersistenceKey=Io("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await qo(this.auth,{idToken:e}).catch(()=>{});return i?Zt._fromGetAccountInfoResponse(this.auth,i,e):null}return Zt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new sr(In(rv),e,a);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||In(rv);const f=Io(a,e.config.apiKey,e.name);let d=null;for(const p of i)try{const v=await p._get(f);if(v){let E;if(typeof v=="string"){const S=await qo(e,{idToken:v}).catch(()=>{});if(!S)break;E=await Zt._fromGetAccountInfoResponse(e,S,v)}else E=Zt._fromJSON(e,v);p!==u&&(d=E),u=p;break}}catch{}const m=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new sr(u,e,a):(u=m[0],d&&await u._set(f,d.toJSON()),await Promise.all(i.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new sr(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ky(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xy(e))return"Blackberry";if(Wy(e))return"Webos";if(Yy(e))return"Safari";if((e.includes("chrome/")||Fy(e))&&!e.includes("edge/"))return"Chrome";if(Qy(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function Gy(s=mt()){return/firefox\//i.test(s)}function Yy(s=mt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fy(s=mt()){return/crios\//i.test(s)}function Ky(s=mt()){return/iemobile/i.test(s)}function Qy(s=mt()){return/android/i.test(s)}function Xy(s=mt()){return/blackberry/i.test(s)}function Wy(s=mt()){return/webos/i.test(s)}function Jh(s=mt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function FR(s=mt()){var e;return Jh(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KR(){return iw()&&document.documentMode===10}function Zy(s=mt()){return Jh(s)||Qy(s)||Wy(s)||Xy(s)||/windows phone/i.test(s)||Ky(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(s,e=[]){let i;switch(s){case"Browser":i=av(mt());break;case"Worker":i=`${av(mt())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${vr}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=u=>new Promise((f,d)=>{try{const m=e(u);f(m)}catch(m){d(m)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(s,e={}){return Oi(s,"GET","/v2/passwordPolicy",xi(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=6;class ZR{constructor(e){var i,a,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=f.minPasswordLength)!==null&&i!==void 0?i:WR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,a,o,u,f,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(i=m.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(a=m.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNumericCharacter)!==null&&f!==void 0?f:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lv(this),this.idTokenSubscription=new lv(this),this.beforeStateQueue=new QR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Py,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=In(i)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await sr.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await qo(this,{idToken:e}),a=await Zt._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(kt(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(d,d))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,d=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===d)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Vo(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kt(this.app))return Promise.reject(Ln(this));const i=e?ht(e):null;return i&&te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kt(this.app)?Promise.reject(Ln(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kt(this.app)?Promise.reject(Ln(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(In(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XR(this),i=new ZR(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Za("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await YR(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&In(e)||this._popupRedirectResolver;te(i,this,"argument-error"),this.redirectPersistenceManager=await sr.create(this,[In(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(d,this,"internal-error"),d.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const m=e.addObserver(i,a,o);return()=>{f=!0,m()}}else{const m=e.addObserver(i);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$y(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var e;if(kt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&RR(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Di(s){return ht(s)}class lv{constructor(e){this.auth=e,this.observer=null,this.addObserver=dw(i=>this.observer=i)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JR(s){hu=s}function Jy(s){return hu.loadJS(s)}function eA(){return hu.recaptchaEnterpriseScript}function tA(){return hu.gapiScript}function nA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class iA{constructor(){this.enterprise=new sA}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class sA{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const rA="recaptcha-enterprise",eE="NO_RECAPTCHA";class aA{constructor(e){this.type=rA,this.auth=Di(e)}async verify(e="verify",i=!1){async function a(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,d)=>{jR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new UR(m);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,f(p.siteKey)}}).catch(m=>{d(m)})})}function o(u,f,d){const m=window.grecaptcha;nv(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(p=>{f(p)}).catch(()=>{f(eE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iA().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(d=>{if(!i&&nv(window.grecaptcha))o(d,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=eA();m.length!==0&&(m+=d),Jy(m).then(()=>{o(d,u,f)}).catch(p=>{f(p)})}}).catch(d=>{f(d)})})}}async function ov(s,e,i,a=!1,o=!1){const u=new aA(s);let f;if(o)f=eE;else try{f=await u.verify(i)}catch{f=await u.verify(i,!0)}const d=Object.assign({},e);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:f}):Object.assign(d,{captchaResponse:f}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Eh(s,e,i,a,o){var u;if(!((u=s._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await ov(s,e,i,i==="getOobCode");return a(s,f)}else return a(s,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await ov(s,e,i,i==="getOobCode");return a(s,d)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(s,e){const i=Kh(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(rs(u,e??{}))return o;Ft(o,"already-initialized")}return i.initialize({options:e})}function oA(s,e){const i=(e==null?void 0:e.persistence)||[],a=(Array.isArray(i)?i:[i]).map(In);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function uA(s,e,i){const a=Di(s);te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=tE(e),{host:f,port:d}=cA(e),m=d===null?"":`:${d}`,p={url:`${u}//${f}${m}/`},v=Object.freeze({host:f,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),te(rs(p,a.config.emulator)&&rs(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,fA(),fu(f)&&Oy(`${u}//${f}${m}`)}function tE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function cA(s){const e=tE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:uv(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:uv(f)}}}function uv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function fA(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Dn("not implemented")}_getIdTokenResponse(e){return Dn("not implemented")}_linkToIdToken(e,i){return Dn("not implemented")}_getReauthenticationResolver(e){return Dn("not implemented")}}async function hA(s,e){return Oi(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dA(s,e){return Ja(s,"POST","/v1/accounts:signInWithPassword",xi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(s,e){return Ja(s,"POST","/v1/accounts:signInWithEmailLink",xi(s,e))}async function mA(s,e){return Ja(s,"POST","/v1/accounts:signInWithEmailLink",xi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends ed{constructor(e,i,a,o=null){super("password",a),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new Ha(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new Ha(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eh(e,i,"signInWithPassword",dA);case"emailLink":return pA(e,{email:this._email,oobCode:this._password});default:Ft(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eh(e,a,"signUpPassword",hA);case"emailLink":return mA(e,{idToken:i,email:this._email,oobCode:this._password});default:Ft(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rr(s,e){return Ja(s,"POST","/v1/accounts:signInWithIdp",xi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="http://localhost";class ls extends ed{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ft("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=i,u=Qh(i,["providerId","signInMethod"]);if(!a||!o)return null;const f=new ls(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return rr(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,rr(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,rr(e,i)}buildRequest(){const e={requestUri:gA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=_r(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vA(s){const e=Na(xa(s)).link,i=e?Na(xa(e)).deep_link_id:null,a=Na(xa(s)).deep_link_id;return(a?Na(xa(a)).link:null)||a||i||e||s}class td{constructor(e){var i,a,o,u,f,d;const m=Na(xa(e)),p=(i=m.apiKey)!==null&&i!==void 0?i:null,v=(a=m.oobCode)!==null&&a!==void 0?a:null,E=_A((o=m.mode)!==null&&o!==void 0?o:null);te(p&&v&&E,"argument-error"),this.apiKey=p,this.operation=E,this.code=v,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=m.lang)!==null&&f!==void 0?f:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const i=vA(e);try{return new td(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.providerId=yr.PROVIDER_ID}static credential(e,i){return Ha._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=td.parseLink(i);return te(a,"argument-error"),Ha._fromEmailAndCode(e,a.code,a.tenantId)}}yr.PROVIDER_ID="password";yr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends nd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends el{constructor(){super("facebook.com")}static credential(e){return ls._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On extends el{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ls._fromParams({providerId:On.PROVIDER_ID,signInMethod:On.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return On.credentialFromTaggedObject(e)}static credentialFromError(e){return On.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return On.credential(i,a)}catch{return null}}}On.GOOGLE_SIGN_IN_METHOD="google.com";On.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends el{constructor(){super("github.com")}static credential(e){return ls._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.GITHUB_SIGN_IN_METHOD="github.com";_i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends el{constructor(){super("twitter.com")}static credential(e,i){return ls._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return vi.credential(i,a)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yA(s,e){return Ja(s,"POST","/v1/accounts:signUp",xi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const u=await Zt._fromIdTokenResponse(e,a,o),f=cv(a);return new os({user:u,providerId:f,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=cv(a);return new os({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function cv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends Ni{constructor(e,i,a,o){var u;super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Go.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Go(e,i,a,o)}}function nE(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Go._fromErrorAndOperation(s,u,e,a):u})}async function EA(s,e,i=!1){const a=await za(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return os._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(s,e,i=!1){const{auth:a}=s;if(kt(a.app))return Promise.reject(Ln(a));const o="reauthenticate";try{const u=await za(s,nE(a,o,e,s),i);te(u.idToken,a,"internal-error");const f=$h(u.idToken);te(f,a,"internal-error");const{sub:d}=f;return te(s.uid===d,a,"user-mismatch"),os._forOperation(s,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ft(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iE(s,e,i=!1){if(kt(s.app))return Promise.reject(Ln(s));const a="signIn",o=await nE(s,a,e),u=await os._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(u.user),u}async function bA(s,e){return iE(Di(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sE(s){const e=Di(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TA(s,e,i){if(kt(s.app))return Promise.reject(Ln(s));const a=Di(s),f=await Eh(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yA).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&sE(s),m}),d=await os._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(d.user),d}function CA(s,e,i){return kt(s.app)?Promise.reject(Ln(s)):bA(ht(s),yr.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&sE(s),a})}function wA(s,e,i,a){return ht(s).onIdTokenChanged(e,i,a)}function RA(s,e,i){return ht(s).beforeAuthStateChanged(e,i)}function AA(s,e,i,a){return ht(s).onAuthStateChanged(e,i,a)}function fv(s){return ht(s).signOut()}const Yo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yo,"1"),this.storage.removeItem(Yo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=1e3,xA=10;class aE extends rE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,d,m)=>{this.notifyListeners(f,m)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!i&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);KR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,xA):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},NA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}aE.type="LOCAL";const OA=aE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE extends rE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}lE.type="SESSION";const oE=lE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new du(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:u}=i.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(f).map(async p=>p(i.origin,u)),m=await DA(d);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}du.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((d,m)=>{const p=id("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(E){const S=E;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(v),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:i},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return window}function MA(s){hn().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(){return typeof hn().WorkerGlobalScope<"u"&&typeof hn().importScripts=="function"}async function kA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LA(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function UA(){return uE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="firebaseLocalStorageDb",jA=1,Fo="firebaseLocalStorage",fE="fbase_key";class tl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function pu(s,e){return s.transaction([Fo],e?"readwrite":"readonly").objectStore(Fo)}function PA(){const s=indexedDB.deleteDatabase(cE);return new tl(s).toPromise()}function Sh(){const s=indexedDB.open(cE,jA);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Fo,{keyPath:fE})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Fo)?e(a):(a.close(),await PA(),e(await Sh()))})})}async function hv(s,e,i){const a=pu(s,!0).put({[fE]:e,value:i});return new tl(a).toPromise()}async function zA(s,e){const i=pu(s,!1).get(e),a=await new tl(i).toPromise();return a===void 0?null:a.value}function dv(s,e){const i=pu(s,!0).delete(e);return new tl(i).toPromise()}const HA=800,BA=3;class hE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sh(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>BA)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=du._getInstance(UA()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await kA(),!this.activeServiceWorker)return;this.sender=new IA(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sh();return await hv(e,Yo,"1"),await dv(e,Yo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>hv(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>zA(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>dv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=pu(o,!1).getAll();return new tl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hE.type="LOCAL";const qA=hE;new $a(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(s,e){return e?In(e):(te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends ed{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rr(e,this._buildIdpRequest())}_linkToIdToken(e,i){return rr(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return rr(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function VA(s){return iE(s.auth,new sd(s),s.bypassAuthState)}function GA(s){const{auth:e,user:i}=s;return te(i,e,"internal-error"),SA(i,new sd(s),s.bypassAuthState)}async function YA(s){const{auth:e,user:i}=s;return te(i,e,"internal-error"),EA(i,new sd(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,i,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:u,error:f,type:d}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:i,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VA;case"linkViaPopup":case"linkViaRedirect":return YA;case"reauthViaPopup":case"reauthViaRedirect":return GA;default:Ft(this.auth,"internal-error")}}resolve(e){zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=new $a(2e3,1e4);async function mE(s,e,i){if(kt(s.app))return Promise.reject(en(s,"operation-not-supported-in-this-environment"));const a=Di(s);AR(s,e,nd);const o=dE(a,i);return new ns(a,"signInViaPopup",e,o).executeNotNull()}class ns extends pE{constructor(e,i,a,o,u){super(e,i,o,u),this.provider=a,this.authWindow=null,this.pollId=null,ns.currentPopupAction&&ns.currentPopupAction.cancel(),ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){zn(this.filter.length===1,"Popup operations only handle one event");const e=id();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(en(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(en(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(en(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FA.get())};e()}}ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="pendingRedirect",Mo=new Map;class QA extends pE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Mo.get(this.auth._key());if(!e){try{const a=await XA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Mo.set(this.auth._key(),e)}return this.bypassAuthState||Mo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XA(s,e){const i=$A(e),a=ZA(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function WA(s,e){Mo.set(s._key(),e)}function ZA(s){return In(s._redirectPersistence)}function $A(s){return Io(KA,s.config.apiKey,s.name)}async function JA(s,e,i=!1){if(kt(s.app))return Promise.reject(Ln(s));const a=Di(s),o=dE(a,e),f=await new QA(a,o,i).execute();return f&&!i&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=10*60*1e3;class tN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nN(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var a;if(e.error&&!gE(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(en(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eN&&this.cachedEventUids.clear(),this.cachedEventUids.has(pv(e))}saveEventToCache(e){this.cachedEventUids.add(pv(e)),this.lastProcessedEventTime=Date.now()}}function pv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function gE({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nN(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(s,e={}){return Oi(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rN=/^https?/;async function aN(s){if(s.config.emulator)return;const{authorizedDomains:e}=await iN(s);for(const i of e)try{if(lN(i))return}catch{}Ft(s,"unauthorized-domain")}function lN(s){const e=vh(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===a}if(!rN.test(i))return!1;if(sN.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=new $a(3e4,6e4);function mv(){const s=hn().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function uN(s){return new Promise((e,i)=>{var a,o,u;function f(){mv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mv(),i(en(s,"network-request-failed"))},timeout:oN.get()})}if(!((o=(a=hn().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=hn().gapi)===null||u===void 0)&&u.load)f();else{const d=nA("iframefcb");return hn()[d]=()=>{gapi.load?f():i(en(s,"network-request-failed"))},Jy(`${tA()}?onload=${d}`).catch(m=>i(m))}}).catch(e=>{throw ko=null,e})}let ko=null;function cN(s){return ko=ko||uN(s),ko}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new $a(5e3,15e3),hN="__/auth/iframe",dN="emulator/auth/iframe",pN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gN(s){const e=s.config;te(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Zh(e,dN):`https://${s.config.authDomain}/${hN}`,a={apiKey:e.apiKey,appName:s.name,v:vr},o=mN.get(s.config.apiHost);o&&(a.eid=o);const u=s._getFrameworks();return u.length&&(a.fw=u.join(",")),`${i}?${_r(a).slice(1)}`}async function _N(s){const e=await cN(s),i=hn().gapi;return te(i,s,"internal-error"),e.open({where:document.body,url:gN(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pN,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=en(s,"network-request-failed"),d=hn().setTimeout(()=>{u(f)},fN.get());function m(){hn().clearTimeout(d),o(a)}a.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yN=500,EN=600,SN="_blank",bN="http://localhost";class gv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TN(s,e,i,a=yN,o=EN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const m=Object.assign(Object.assign({},vN),{width:a.toString(),height:o.toString(),top:u,left:f}),p=mt().toLowerCase();i&&(d=Fy(p)?SN:i),Gy(p)&&(e=e||bN,m.scrollbars="yes");const v=Object.entries(m).reduce((S,[R,A])=>`${S}${R}=${A},`,"");if(FR(p)&&d!=="_self")return CN(e||"",d),new gv(null);const E=window.open(e||"",d,v);te(E,s,"popup-blocked");try{E.focus()}catch{}return new gv(E)}function CN(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="__/auth/handler",RN="emulator/auth/handler",AN=encodeURIComponent("fac");async function _v(s,e,i,a,o,u){te(s.config.authDomain,s,"auth-domain-config-required"),te(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:vr,eventId:o};if(e instanceof nd){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",hh(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))f[v]=E}if(e instanceof el){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(f.scopes=v.join(","))}s.tenantId&&(f.tid=s.tenantId);const d=f;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await s._getAppCheckToken(),p=m?`#${AN}=${encodeURIComponent(m)}`:"";return`${NN(s)}?${_r(d).slice(1)}${p}`}function NN({config:s}){return s.emulator?Zh(s,RN):`https://${s.authDomain}/${wN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="webStorageSupport";class xN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oE,this._completeRedirectFn=JA,this._overrideRedirectResult=WA}async _openPopup(e,i,a,o){var u;zn((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await _v(e,i,a,vh(),o);return TN(e,f,id())}async _openRedirect(e,i,a,o){await this._originValidation(e);const u=await _v(e,i,a,vh(),o);return MA(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(zn(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await _N(e),a=new tN(e);return i.register("authEvent",o=>(te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(nh,{type:nh},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[nh];f!==void 0&&i(!!f),Ft(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=aN(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Zy()||Yy()||Jh()}}const ON=xN;var vv="@firebase/auth",yv="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MN(s){cr(new as("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:d}=a.options;te(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:f,authDomain:d,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$y(s)},p=new $R(a,o,u,m);return oA(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),cr(new as("auth-internal",e=>{const i=Di(e.getProvider("auth").getImmediate());return(a=>new DN(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(vv,yv,IN(s)),Si(vv,yv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=5*60,LN=Ay("authIdTokenMaxAge")||kN;let Ev=null;const UN=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>LN)return;const o=i==null?void 0:i.token;Ev!==o&&(Ev=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jN(s=ky()){const e=Kh(s,"auth");if(e.isInitialized())return e.getImmediate();const i=lA(s,{popupRedirectResolver:ON,persistence:[qA,OA,oE]}),a=Ay("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=UN(u.toString());RA(i,f,()=>f(i.currentUser)),wA(i,d=>f(d))}}const o=wy("auth");return o&&uA(i,`http://${o}`),i}function PN(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}JR({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const u=en("internal-error");u.customData=o,i(u)},a.type="text/javascript",a.charset="UTF-8",PN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MN("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function zN(s,e,i,a){function o(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function d(v){try{p(a.next(v))}catch(E){f(E)}}function m(v){try{p(a.throw(v))}catch(E){f(E)}}function p(v){v.done?u(v.value):o(v.value).then(d,m)}p((a=a.apply(s,[])).next())})}function HN(s,e){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},a,o,u,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(p){return function(v){return m([p,v])}}function m(p){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,o&&(u=p[0]&2?o.return:p[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,p[1])).done)return u;switch(o=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,o=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){i.label=p[1];break}if(p[0]===6&&i.label<u[1]){i.label=u[1],u=p;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(p);break}u[2]&&i.ops.pop(),i.trys.pop();continue}p=e.call(s,i)}catch(v){p=[6,v],o=0}finally{a=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tr=function(){return tr=Object.assign||function(e){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(e[u]=i[u])}return e},tr.apply(this,arguments)},_E=function(s){return{loading:s==null,value:s}},BN=function(){return function(s,e){switch(e.type){case"error":return tr(tr({},s),{error:e.error,loading:!1,value:void 0});case"reset":return _E(e.defaultValue);case"value":return tr(tr({},s),{error:void 0,loading:!1,value:e.value});default:return s}}},qN=function(s){var e=s?s():void 0,i=D.useReducer(BN(),_E(e)),a=i[0],o=i[1],u=D.useCallback(function(){var m=s?s():void 0;o({type:"reset",defaultValue:m})},[s]),f=D.useCallback(function(m){o({type:"error",error:m})},[]),d=D.useCallback(function(m){o({type:"value",value:m})},[]);return D.useMemo(function(){return{error:a.error,loading:a.loading,reset:u,setError:f,setValue:d,value:a.value}},[a.error,a.loading,u,f,d,a.value])},mu=function(s,e){var i=qN(function(){return s.currentUser}),a=i.error,o=i.loading,u=i.setError,f=i.setValue,d=i.value;return D.useEffect(function(){var m=AA(s,function(p){return zN(void 0,void 0,void 0,function(){var v;return HN(this,function(E){switch(E.label){case 0:return[3,4];case 1:return E.trys.push([1,3,,4]),[4,e.onUserChanged(p)];case 2:return E.sent(),[3,4];case 3:return v=E.sent(),u(v),[3,4];case 4:return f(p),[2]}})})},u);return function(){m()}},[s]),[d,o,a]},VN="firebase",GN="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si(VN,GN,"app");var Sv={};const bv="@firebase/database",Tv="1.0.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vE="";function YN(s){vE=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ke(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:ja(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return Bn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const e=window[s];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new FN(e)}}catch{}return new KN},is=yE("localStorage"),QN=yE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new Yh("@firebase/database"),XN=function(){let s=1;return function(){return s++}}(),EE=function(s){const e=gw(s),i=new hw;i.update(e);const a=i.digest();return Bh.encodeByteArray(a)},nl=function(...s){let e="";for(let i=0;i<s.length;i++){const a=s[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?e+=nl.apply(null,a):typeof a=="object"?e+=Ke(a):e+=a,e+=" "}return e};let Da=null,Cv=!0;const WN=function(s,e){q(!0,"Can't turn on custom loggers persistently."),ar.logLevel=Re.VERBOSE,Da=ar.log.bind(ar)},ft=function(...s){if(Cv===!0&&(Cv=!1,Da===null&&QN.get("logging_enabled")===!0&&WN()),Da){const e=nl.apply(null,s);Da(e)}},il=function(s){return function(...e){ft(s,...e)}},bh=function(...s){const e="FIREBASE INTERNAL ERROR: "+nl(...s);ar.error(e)},Hn=function(...s){const e=`FIREBASE FATAL ERROR: ${nl(...s)}`;throw ar.error(e),new Error(e)},bt=function(...s){const e="FIREBASE WARNING: "+nl(...s);ar.warn(e)},ZN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&bt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},SE=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},$N=function(s){if(document.readyState==="complete")s();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},fr="[MIN_NAME]",us="[MAX_NAME]",Er=function(s,e){if(s===e)return 0;if(s===fr||e===us)return-1;if(e===fr||s===us)return 1;{const i=wv(s),a=wv(e);return i!==null?a!==null?i-a===0?s.length-e.length:i-a:-1:a!==null?1:s<e?-1:1}},JN=function(s,e){return s===e?0:s<e?-1:1},Ca=function(s,e){if(e&&s in e)return e[s];throw new Error("Missing required key ("+s+") in object: "+Ke(e))},rd=function(s){if(typeof s!="object"||s===null)return Ke(s);const e=[];for(const a in s)e.push(a);e.sort();let i="{";for(let a=0;a<e.length;a++)a!==0&&(i+=","),i+=Ke(e[a]),i+=":",i+=rd(s[e[a]]);return i+="}",i},bE=function(s,e){const i=s.length;if(i<=e)return[s];const a=[];for(let o=0;o<i;o+=e)o+e>i?a.push(s.substring(o,i)):a.push(s.substring(o,o+e));return a};function Tt(s,e){for(const i in s)s.hasOwnProperty(i)&&e(i,s[i])}const TE=function(s){q(!SE(s),"Invalid JSON number");const e=11,i=52,a=(1<<e-1)-1;let o,u,f,d,m;s===0?(u=0,f=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(d=Math.min(Math.floor(Math.log(s)/Math.LN2),a),u=d+a,f=Math.round(s*Math.pow(2,i-d)-Math.pow(2,i))):(u=0,f=Math.round(s/Math.pow(2,1-a-i))));const p=[];for(m=i;m;m-=1)p.push(f%2?1:0),f=Math.floor(f/2);for(m=e;m;m-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const v=p.join("");let E="";for(m=0;m<64;m+=8){let S=parseInt(v.substr(m,8),2).toString(16);S.length===1&&(S="0"+S),E=E+S}return E.toLowerCase()},e1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},t1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function n1(s,e){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const a=new Error(s+" at "+e._path.toString()+": "+i);return a.code=s.toUpperCase(),a}const i1=new RegExp("^-?(0*)\\d{1,10}$"),s1=-2147483648,r1=2147483647,wv=function(s){if(i1.test(s)){const e=Number(s);if(e>=s1&&e<=r1)return e}return null},Sr=function(s){try{s()}catch(e){setTimeout(()=>{const i=e.stack||"";throw bt("Exception was thrown by user callback.",i),e},Math.floor(0))}},a1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ia=function(s,e){const i=setTimeout(s,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,kt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(a=>this.appCheck=a)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(a=>a.addTokenListener(e))}notifyForInvalidToken(){bt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,i,a){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bt(e)}}class Lo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Lo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="5",CE="v",wE="s",RE="r",AE="f",NE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xE="ls",OE="p",Th="ac",DE="websocket",IE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,i,a,o,u=!1,f="",d=!1,m=!1,p=null){this.secure=i,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=m,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=is.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&is.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function u1(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function kE(s,e,i){q(typeof e=="string","typeof type must == string"),q(typeof i=="object","typeof params must == object");let a;if(e===DE)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(e===IE)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);u1(s)&&(i.ns=s.namespace);const o=[];return Tt(i,(u,f)=>{o.push(u+"="+f)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.counters_={}}incrementCounter(e,i=1){Bn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return KC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih={},sh={};function ld(s){const e=s.toString();return ih[e]||(ih[e]=new c1),ih[e]}function f1(s,e){const i=s.toString();return sh[i]||(sh[i]=e()),sh[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&Sr(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="start",d1="close",p1="pLPCommand",m1="pRTLPCB",LE="id",UE="pw",jE="ser",g1="cb",_1="seg",v1="ts",y1="d",E1="dframe",PE=1870,zE=30,S1=PE-zE,b1=25e3,T1=3e4;class nr{constructor(e,i,a,o,u,f,d){this.connId=e,this.repoInfo=i,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.transportSessionId=f,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=il(e),this.stats_=ld(i),this.urlFn=m=>(this.appCheckToken&&(m[Th]=this.appCheckToken),kE(i,IE,m))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new h1(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(T1)),$N(()=>{if(this.isClosed_)return;this.scriptTagHolder=new od((...u)=>{const[f,d,m,p,v]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Rv)this.id=d,this.password=m;else if(f===d1)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,d)},()=>{this.onClosed_()},this.urlFn);const a={};a[Rv]="t",a[jE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[g1]=this.scriptTagHolder.uniqueCallbackIdentifier),a[CE]=ad,this.transportSessionId&&(a[wE]=this.transportSessionId),this.lastSessionId&&(a[xE]=this.lastSessionId),this.applicationId&&(a[OE]=this.applicationId),this.appCheckToken&&(a[Th]=this.appCheckToken),typeof location<"u"&&location.hostname&&NE.test(location.hostname)&&(a[RE]=AE);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){nr.forceAllow_=!0}static forceDisallow(){nr.forceDisallow_=!0}static isAvailable(){return nr.forceAllow_?!0:!nr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!e1()&&!t1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=Ke(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=Ty(i),o=bE(a,S1);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[E1]="t",a[LE]=e,a[UE]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=Ke(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class od{constructor(e,i,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=XN(),window[p1+this.uniqueCallbackIdentifier]=e,window[m1+this.uniqueCallbackIdentifier]=i,this.myIFrame=od.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(d){ft("frame writing exception"),d.stack&&ft(d.stack),ft(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ft("No IE domain setting required")}catch{const a=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[LE]=this.myID,e[UE]=this.myPW,e[jE]=this.currentSerial;let i=this.urlFn(e),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+zE+a.length<=PE;){const f=this.pendingSegs.shift();a=a+"&"+_1+o+"="+f.seg+"&"+v1+o+"="+f.ts+"&"+y1+o+"="+f.d,o++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,a){this.pendingSegs.push({seg:e,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(a,Math.floor(b1)),u=()=>{clearTimeout(o),a()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{ft("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=16384,w1=45e3;let Ko=null;typeof MozWebSocket<"u"?Ko=MozWebSocket:typeof WebSocket<"u"&&(Ko=WebSocket);class Wt{constructor(e,i,a,o,u,f,d){this.connId=e,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=il(this.connId),this.stats_=ld(i),this.connURL=Wt.connectionURL_(i,f,d,o,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,o,u){const f={};return f[CE]=ad,typeof location<"u"&&location.hostname&&NE.test(location.hostname)&&(f[RE]=AE),i&&(f[wE]=i),a&&(f[xE]=a),o&&(f[Th]=o),u&&(f[OE]=u),kE(e,DE,f)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,is.set("previous_websocket_failure",!0);try{let a;sw(),this.mySock=new Ko(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Wt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&Ko!==null&&!Wt.forceDisallow_}static previouslyFailed(){return is.isInMemoryStorage||is.get("previous_websocket_failure")===!0}markConnectionHealthy(){is.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=ja(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(q(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=Ke(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=bE(i,C1);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(w1))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Wt.responsesRequiredToBeHealthy=2;Wt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{static get ALL_TRANSPORTS(){return[nr,Wt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=Wt&&Wt.isAvailable();let a=i&&!Wt.previouslyFailed();if(e.webSocketOnly&&(i||bt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Wt];else{const o=this.transports_=[];for(const u of Ba.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);Ba.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ba.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=6e4,A1=5e3,N1=10*1024,x1=100*1024,rh="t",Av="d",O1="s",Nv="r",D1="e",xv="o",Ov="a",Dv="n",Iv="p",I1="h";class M1{constructor(e,i,a,o,u,f,d,m,p,v){this.id=e,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=f,this.onReady_=d,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=il("c:"+this.id+":"),this.transportManager_=new Ba(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ia(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>x1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>N1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(rh in e){const i=e[rh];i===Ov?this.upgradeIfSecondaryHealthy_():i===Nv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===xv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=Ca("t",e),a=Ca("d",e);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Iv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ov,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Dv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=Ca("t",e),a=Ca("d",e);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=Ca(rh,e);if(Av in e){const a=e[Av];if(i===I1){const o=Object.assign({},a);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===Dv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===O1?this.onConnectionShutdown_(a):i===Nv?this.onReset_(a):i===D1?bh("Server Error: "+a):i===xv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bh("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,a=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),ad!==a&&bt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),Ia(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(R1))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ia(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(A1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Iv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(is.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{put(e,i,a,o){}merge(e,i,a,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,a){}onDisconnectMerge(e,i,a){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){this.allowedEvents_=e,this.listeners_={},q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,i)}}on(e,i,a){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:a});const o=this.getInitialEvent(e);o&&i.apply(a,o)}off(e,i,a){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!a||a===o[u].context)){o.splice(u,1);return}}validateEventType_(e){q(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends BE{static getInstance(){return new Qo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Vh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=32,kv=768;class xe{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function _e(){return new xe("")}function ue(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Ci(s){return s.pieces_.length-s.pieceNum_}function De(s){let e=s.pieceNum_;return e<s.pieces_.length&&e++,new xe(s.pieces_,e)}function qE(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function k1(s){let e="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(s.pieces_[i])));return e||"/"}function VE(s,e=0){return s.pieces_.slice(s.pieceNum_+e)}function GE(s){if(s.pieceNum_>=s.pieces_.length)return null;const e=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)e.push(s.pieces_[i]);return new xe(e,0)}function Qe(s,e){const i=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)i.push(s.pieces_[a]);if(e instanceof xe)for(let a=e.pieceNum_;a<e.pieces_.length;a++)i.push(e.pieces_[a]);else{const a=e.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&i.push(a[o])}return new xe(i,0)}function de(s){return s.pieceNum_>=s.pieces_.length}function pt(s,e){const i=ue(s),a=ue(e);if(i===null)return e;if(i===a)return pt(De(s),De(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+s+")")}function ud(s,e){if(Ci(s)!==Ci(e))return!1;for(let i=s.pieceNum_,a=e.pieceNum_;i<=s.pieces_.length;i++,a++)if(s.pieces_[i]!==e.pieces_[a])return!1;return!0}function $t(s,e){let i=s.pieceNum_,a=e.pieceNum_;if(Ci(s)>Ci(e))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==e.pieces_[a])return!1;++i,++a}return!0}class L1{constructor(e,i){this.errorPrefix_=i,this.parts_=VE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=cu(this.parts_[a]);YE(this)}}function U1(s,e){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(e),s.byteLength_+=cu(e),YE(s)}function j1(s){const e=s.parts_.pop();s.byteLength_-=cu(e),s.parts_.length>0&&(s.byteLength_-=1)}function YE(s){if(s.byteLength_>kv)throw new Error(s.errorPrefix_+"has a key path longer than "+kv+" bytes ("+s.byteLength_+").");if(s.parts_.length>Mv)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Mv+") or object contains a cycle "+ts(s))}function ts(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends BE{static getInstance(){return new cd}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[e];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(e){return q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=1e3,P1=60*5*1e3,Lv=30*1e3,z1=1.3,H1=3e4,B1="server_kill",Uv=3;class Un extends HE{constructor(e,i,a,o,u,f,d,m){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=d,this.authOverride_=m,this.id=Un.nextPersistentConnectionId_++,this.log_=il("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=wa,this.maxReconnectDelay_=P1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");cd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Qo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const o=++this.requestNumber_,u={r:o,a:e,b:i};this.log_(Ke(u)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),a&&(this.requestCBHash_[o]=a)}get(e){this.initConnection_();const i=new uu,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const d=f.d;f.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,a,o){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:i,query:e,tag:a};this.listens.get(f).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+a+" for "+o);const u={p:a},f="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,d=>{const m=d.d,p=d.s;Un.warnOnListenWarnings_(m,i),(this.listens.get(a)&&this.listens.get(a).get(o))===e&&(this.log_("listen response",d),p!=="ok"&&this.removeListen_(a,o),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&Bn(e,"w")){const a=ur(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();bt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||fw(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Lv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=cw(e)?"auth":"gauth",a={cred:e};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,o=>{const u=o.s,f=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,e._queryObject,i)}sendUnlisten_(e,i,a,o){this.log_("Unlisten on "+e+" for "+i);const u={p:e},f="n";o&&(u.q=a,u.t=o),this.sendRequest(f,u)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,o){const u={p:i,d:a};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(e,i,a,o){this.putInternal("p",e,i,a,o)}merge(e,i,a,o){this.putInternal("m",e,i,a,o)}putInternal(e,i,a,o,u){this.initConnection_();const f={p:i,d:a};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const u=a.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ke(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):bh("Unrecognized action received from server: "+Ke(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=wa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>H1&&(this.reconnectDelay_=wa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*z1)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Un.nextConnectionId_++,u=this.lastSessionId;let f=!1,d=null;const m=function(){d?d.close():(f=!0,a())},p=function(E){q(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(E)};this.realtime_={close:m,sendRequest:p};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[E,S]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);f?ft("getToken() completed but was canceled"):(ft("getToken() completed. Creating connection."),this.authToken_=E&&E.accessToken,this.appCheckToken_=S&&S.token,d=new M1(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,a,R=>{bt(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(B1)},u))}catch(E){this.log_("Failed to get token: "+E),f||(this.repoInfo_.nodeAdmin&&bt(E),m())}}}interrupt(e){ft("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ft("Resuming connection for reason: "+e),delete this.interruptReasons_[e],hh(this.interruptReasons_)&&(this.reconnectDelay_=wa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;i?a=i.map(u=>rd(u)).join("$"):a="default";const o=this.removeListen_(e,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const a=new xe(e).toString();let o;if(this.listens.has(a)){const u=this.listens.get(a);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(e,i){ft("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Uv&&(this.reconnectDelay_=Lv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ft("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Uv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+vE.replace(/\./g,"-")]=1,Vh()?e["framework.cordova"]=1:Ny()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Qo.getInstance().currentlyOnline();return hh(this.interruptReasons_)&&e}}Un.nextPersistentConnectionId_=0;Un.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new ce(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const a=new ce(fr,e),o=new ce(fr,i);return this.compare(a,o)!==0}minPost(){return ce.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao;class FE extends gu{static get __EMPTY_NODE(){return Ao}static set __EMPTY_NODE(e){Ao=e}compare(e,i){return Er(e.name,i.name)}isDefinedOn(e){throw gr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return ce.MIN}maxPost(){return new ce(us,Ao)}makePost(e,i){return q(typeof e=="string","KeyIndex indexValue must always be a string."),new ce(e,Ao)}toString(){return".key"}}const lr=new FE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,i,a,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=i?a(e.key,i):1,o&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class et{constructor(e,i,a,o,u){this.key=e,this.value=i,this.color=a??et.RED,this.left=o??St.EMPTY_NODE,this.right=u??St.EMPTY_NODE}copy(e,i,a,o,u){return new et(e??this.key,i??this.value,a??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const u=a(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,i,a),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return St.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,o;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(e,a.key)===0){if(a.right.isEmpty())return St.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}et.RED=!0;et.BLACK=!1;class q1{copy(e,i,a,o,u){return this}insert(e,i,a){return new et(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class St{constructor(e,i=St.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new St(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,et.BLACK,null,null))}remove(e){return new St(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,et.BLACK,null,null))}get(e){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(e,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(e){let i,a=this.root_,o=null;for(;!a.isEmpty();)if(i=this.comparator_(e,a.key),i===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new No(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new No(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new No(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new No(this.root_,null,this.comparator_,!0,e)}}St.EMPTY_NODE=new q1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(s,e){return Er(s.name,e.name)}function fd(s,e){return Er(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch;function G1(s){Ch=s}const KE=function(s){return typeof s=="number"?"number:"+TE(s):"string:"+s},QE=function(s){if(s.isLeafNode()){const e=s.val();q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Bn(e,".sv"),"Priority must be a string or number.")}else q(s===Ch||s.isEmpty(),"priority of unexpected type.");q(s===Ch||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jv;class Je{static set __childrenNodeConstructor(e){jv=e}static get __childrenNodeConstructor(){return jv}constructor(e,i=Je.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),QE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Je(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return de(e)?this:ue(e)===".priority"?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:Je.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=ue(e);return a===null?i:i.isEmpty()&&a!==".priority"?this:(q(a!==".priority"||Ci(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,Je.__childrenNodeConstructor.EMPTY_NODE.updateChild(De(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+KE(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=TE(this.value_):e+=this.value_,this.lazyHash_=EE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Je.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Je.__childrenNodeConstructor?-1:(q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,o=Je.VALUE_TYPE_ORDER.indexOf(i),u=Je.VALUE_TYPE_ORDER.indexOf(a);return q(o>=0,"Unknown leaf type: "+i),q(u>=0,"Unknown leaf type: "+a),o===u?a==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Je.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XE,WE;function Y1(s){XE=s}function F1(s){WE=s}class K1 extends gu{compare(e,i){const a=e.node.getPriority(),o=i.node.getPriority(),u=a.compareTo(o);return u===0?Er(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return ce.MIN}maxPost(){return new ce(us,new Je("[PRIORITY-POST]",WE))}makePost(e,i){const a=XE(e);return new ce(i,new Je("[PRIORITY-POST]",a))}toString(){return".priority"}}const He=new K1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=Math.log(2);class X1{constructor(e){const i=u=>parseInt(Math.log(u)/Q1,10),a=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=a(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Xo=function(s,e,i,a){s.sort(e);const o=function(m,p){const v=p-m;let E,S;if(v===0)return null;if(v===1)return E=s[m],S=i?i(E):E,new et(S,E.node,et.BLACK,null,null);{const R=parseInt(v/2,10)+m,A=o(m,R),k=o(R+1,p);return E=s[R],S=i?i(E):E,new et(S,E.node,et.BLACK,A,k)}},u=function(m){let p=null,v=null,E=s.length;const S=function(A,k){const j=E-A,P=E;E-=A;const V=o(j+1,P),M=s[j],F=i?i(M):M;R(new et(F,M.node,k,null,V))},R=function(A){p?(p.left=A,p=A):(v=A,p=A)};for(let A=0;A<m.count;++A){const k=m.nextBitIsOne(),j=Math.pow(2,m.count-(A+1));k?S(j,et.BLACK):(S(j,et.BLACK),S(j,et.RED))}return v},f=new X1(s.length),d=u(f);return new St(a||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah;const er={};class Mn{static get Default(){return q(er&&He,"ChildrenNode.ts has not been loaded"),ah=ah||new Mn({".priority":er},{".priority":He}),ah}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=ur(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof St?i:null}hasIndex(e){return Bn(this.indexSet_,e.toString())}addIndex(e,i){q(e!==lr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const u=i.getIterator(ce.Wrap);let f=u.getNext();for(;f;)o=o||e.isDefinedOn(f.node),a.push(f),f=u.getNext();let d;o?d=Xo(a,e.getCompare()):d=er;const m=e.toString(),p=Object.assign({},this.indexSet_);p[m]=e;const v=Object.assign({},this.indexes_);return v[m]=d,new Mn(v,p)}addToIndexes(e,i){const a=zo(this.indexes_,(o,u)=>{const f=ur(this.indexSet_,u);if(q(f,"Missing index implementation for "+u),o===er)if(f.isDefinedOn(e.node)){const d=[],m=i.getIterator(ce.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&d.push(p),p=m.getNext();return d.push(e),Xo(d,f.getCompare())}else return er;else{const d=i.get(e.name);let m=o;return d&&(m=m.remove(new ce(e.name,d))),m.insert(e,e.node)}});return new Mn(a,this.indexSet_)}removeFromIndexes(e,i){const a=zo(this.indexes_,o=>{if(o===er)return o;{const u=i.get(e.name);return u?o.remove(new ce(e.name,u)):o}});return new Mn(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra;class ne{static get EMPTY_NODE(){return Ra||(Ra=new ne(new St(fd),null,Mn.Default))}constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&QE(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ra}updatePriority(e){return this.children_.isEmpty()?this:new ne(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?Ra:i}}getChild(e){const i=ue(e);return i===null?this:this.getImmediateChild(i).getChild(De(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(q(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const a=new ce(e,i);let o,u;i.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(a,this.children_));const f=o.isEmpty()?Ra:this.priorityNode_;return new ne(o,f,u)}}updateChild(e,i){const a=ue(e);if(a===null)return i;{q(ue(e)!==".priority"||Ci(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(De(e),i);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,o=0,u=!0;if(this.forEachChild(He,(f,d)=>{i[f]=d.val(e),a++,u&&ne.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):u=!1}),!e&&u&&o<2*a){const f=[];for(const d in i)f[d]=i[d];return f}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+KE(this.getPriority().val())+":"),this.forEachChild(He,(i,a)=>{const o=a.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":EE(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const o=this.resolveIndex_(a);if(o){const u=o.getPredecessorKey(new ce(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new ce(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new ce(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ce.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ce.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===sl?-1:0}withIndex(e){if(e===lr||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new ne(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===lr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(He),o=i.getIterator(He);let u=a.getNext(),f=o.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=a.getNext(),f=o.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===lr?null:this.indexMap_.get(e.toString())}}ne.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class W1 extends ne{constructor(){super(new St(fd),ne.EMPTY_NODE,Mn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ne.EMPTY_NODE}isEmpty(){return!1}}const sl=new W1;Object.defineProperties(ce,{MIN:{value:new ce(fr,ne.EMPTY_NODE)},MAX:{value:new ce(us,sl)}});FE.__EMPTY_NODE=ne.EMPTY_NODE;Je.__childrenNodeConstructor=ne;G1(sl);F1(sl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=!0;function tt(s,e=null){if(s===null)return ne.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(e=s[".priority"]),q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new Je(i,tt(e))}if(!(s instanceof Array)&&Z1){const i=[];let a=!1;if(Tt(s,(f,d)=>{if(f.substring(0,1)!=="."){const m=tt(d);m.isEmpty()||(a=a||!m.getPriority().isEmpty(),i.push(new ce(f,m)))}}),i.length===0)return ne.EMPTY_NODE;const u=Xo(i,V1,f=>f.name,fd);if(a){const f=Xo(i,He.getCompare());return new ne(u,tt(e),new Mn({".priority":f},{".priority":He}))}else return new ne(u,tt(e),Mn.Default)}else{let i=ne.EMPTY_NODE;return Tt(s,(a,o)=>{if(Bn(s,a)&&a.substring(0,1)!=="."){const u=tt(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(a,u))}}),i.updatePriority(tt(e))}}Y1(tt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1 extends gu{constructor(e){super(),this.indexPath_=e,q(!de(e)&&ue(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const a=this.extractChild(e.node),o=this.extractChild(i.node),u=a.compareTo(o);return u===0?Er(e.name,i.name):u}makePost(e,i){const a=tt(e),o=ne.EMPTY_NODE.updateChild(this.indexPath_,a);return new ce(i,o)}maxPost(){const e=ne.EMPTY_NODE.updateChild(this.indexPath_,sl);return new ce(us,e)}toString(){return VE(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1 extends gu{compare(e,i){const a=e.node.compareTo(i.node);return a===0?Er(e.name,i.name):a}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return ce.MIN}maxPost(){return ce.MAX}makePost(e,i){const a=tt(e);return new ce(i,a)}toString(){return".value"}}const ex=new J1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(s){return{type:"value",snapshotNode:s}}function hr(s,e){return{type:"child_added",snapshotNode:e,childName:s}}function qa(s,e){return{type:"child_removed",snapshotNode:e,childName:s}}function Va(s,e,i){return{type:"child_changed",snapshotNode:e,childName:s,oldSnap:i}}function tx(s,e){return{type:"child_moved",snapshotNode:e,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.index_=e}updateChild(e,i,a,o,u,f){q(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(i);return d.getChild(o).equals(a.getChild(o))&&d.isEmpty()===a.isEmpty()||(f!=null&&(a.isEmpty()?e.hasChild(i)?f.trackChildChange(qa(i,d)):q(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?f.trackChildChange(hr(i,a)):f.trackChildChange(Va(i,a,d))),e.isLeafNode()&&a.isEmpty())?e:e.updateImmediateChild(i,a).withIndex(this.index_)}updateFullNode(e,i,a){return a!=null&&(e.isLeafNode()||e.forEachChild(He,(o,u)=>{i.hasChild(o)||a.trackChildChange(qa(o,u))}),i.isLeafNode()||i.forEachChild(He,(o,u)=>{if(e.hasChild(o)){const f=e.getImmediateChild(o);f.equals(u)||a.trackChildChange(Va(o,u,f))}else a.trackChildChange(hr(o,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?ne.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.indexedFilter_=new hd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ga.getStartPost_(e),this.endPost_=Ga.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,a=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&a}updateChild(e,i,a,o,u,f){return this.matches(new ce(i,a))||(a=ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,a,o,u,f)}updateFullNode(e,i,a){i.isLeafNode()&&(i=ne.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(ne.EMPTY_NODE);const u=this;return i.forEachChild(He,(f,d)=>{u.matches(new ce(f,d))||(o=o.updateImmediateChild(f,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=i=>{const a=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new Ga(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,a,o,u,f){return this.rangedFilter_.matches(new ce(i,a))||(a=ne.EMPTY_NODE),e.getImmediateChild(i).equals(a)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,a,o,u,f):this.fullLimitUpdateChild_(e,i,a,u,f)}updateFullNode(e,i,a){let o;if(i.isLeafNode()||i.isEmpty())o=ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=ne.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),f++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(ne.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let f=0;for(;u.hasNext();){const d=u.getNext();f<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?f++:o=o.updateImmediateChild(d.name,ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,a,o,u){let f;if(this.reverse_){const E=this.index_.getCompare();f=(S,R)=>E(R,S)}else f=this.index_.getCompare();const d=e;q(d.numChildren()===this.limit_,"");const m=new ce(i,a),p=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),v=this.rangedFilter_.matches(m);if(d.hasChild(i)){const E=d.getImmediateChild(i);let S=o.getChildAfterChild(this.index_,p,this.reverse_);for(;S!=null&&(S.name===i||d.hasChild(S.name));)S=o.getChildAfterChild(this.index_,S,this.reverse_);const R=S==null?1:f(S,m);if(v&&!a.isEmpty()&&R>=0)return u!=null&&u.trackChildChange(Va(i,a,E)),d.updateImmediateChild(i,a);{u!=null&&u.trackChildChange(qa(i,E));const k=d.updateImmediateChild(i,ne.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(u!=null&&u.trackChildChange(hr(S.name,S.node)),k.updateImmediateChild(S.name,S.node)):k}}else return a.isEmpty()?e:v&&f(p,m)>=0?(u!=null&&(u.trackChildChange(qa(p.name,p.node)),u.trackChildChange(hr(i,a))),d.updateImmediateChild(i,a).updateImmediateChild(p.name,ne.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fr}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:us}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const e=new dd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ix(s){return s.loadsAllData()?new hd(s.getIndex()):s.hasLimit()?new nx(s):new Ga(s)}function Pv(s){const e={};if(s.isDefault())return e;let i;if(s.index_===He?i="$priority":s.index_===ex?i="$value":s.index_===lr?i="$key":(q(s.index_ instanceof $1,"Unrecognized index type!"),i=s.index_.toString()),e.orderBy=Ke(i),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";e[a]=Ke(s.indexStartValue_),s.startNameSet_&&(e[a]+=","+Ke(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";e[a]=Ke(s.indexEndValue_),s.endNameSet_&&(e[a]+=","+Ke(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?e.limitToFirst=s.limit_:e.limitToLast=s.limit_),e}function zv(s){const e={};if(s.startSet_&&(e.sp=s.indexStartValue_,s.startNameSet_&&(e.sn=s.indexStartName_),e.sin=!s.startAfterSet_),s.endSet_&&(e.ep=s.indexEndValue_,s.endNameSet_&&(e.en=s.indexEndName_),e.ein=!s.endBeforeSet_),s.limitSet_){e.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),e.vf=i}return s.index_!==He&&(e.i=s.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends HE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,a,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=il("p:rest:"),this.listens_={}}listen(e,i,a,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=Wo.getListenId_(e,a),d={};this.listens_[f]=d;const m=Pv(e._queryParams);this.restRequest_(u+".json",m,(p,v)=>{let E=v;if(p===404&&(E=null,p=null),p===null&&this.onDataUpdate_(u,E,!1,a),ur(this.listens_,f)===d){let S;p?p===401?S="permission_denied":S="rest_error:"+p:S="ok",o(S,null)}})}unlisten(e,i){const a=Wo.getListenId_(e,i);delete this.listens_[a]}get(e){const i=Pv(e._queryParams),a=e._path.toString(),o=new uu;return this.restRequest_(a+".json",i,(u,f)=>{let d=f;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(a,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+_r(i);this.log_("Sending REST request for "+f);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(a&&d.readyState===4){this.log_("REST Response for "+f+" received. status:",d.status,"response:",d.responseText);let m=null;if(d.status>=200&&d.status<300){try{m=ja(d.responseText)}catch{bt("Failed to parse JSON response for "+f+": "+d.responseText)}a(null,m)}else d.status!==401&&d.status!==404&&bt("Got unsuccessful REST response for "+f+" Status: "+d.status),a(d.status);a=null}},d.open("GET",f,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.rootNode_=ne.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(){return{value:null,children:new Map}}function $E(s,e,i){if(de(e))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(e,i);else{const a=ue(e);s.children.has(a)||s.children.set(a,Zo());const o=s.children.get(a);e=De(e),$E(o,e,i)}}function wh(s,e,i){s.value!==null?i(e,s.value):rx(s,(a,o)=>{const u=new xe(e.toString()+"/"+a);wh(o,u,i)})}function rx(s,e){s.children.forEach((i,a)=>{e(a,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&Tt(this.last_,(a,o)=>{i[a]=i[a]-o}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=10*1e3,lx=30*1e3,ox=5*60*1e3;class ux{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new ax(e);const a=Hv+(lx-Hv)*Math.random();Ia(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const e=this.statsListener_.get(),i={};let a=!1;Tt(e,(o,u)=>{u>0&&Bn(this.statsToReport_,o)&&(i[o]=u,a=!0)}),a&&this.server_.reportStats(i),Ia(this.reportStats_.bind(this),Math.floor(Math.random()*2*ox))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Jt||(Jt={}));function JE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function pd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function md(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,i,a){this.path=e,this.affectedTree=i,this.revert=a,this.type=Jt.ACK_USER_WRITE,this.source=JE()}operationForChild(e){if(de(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new xe(e));return new $o(_e(),i,this.revert)}}else return q(ue(this.path)===e,"operationForChild called for unrelated child."),new $o(De(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,i){this.source=e,this.path=i,this.type=Jt.LISTEN_COMPLETE}operationForChild(e){return de(this.path)?new Ya(this.source,_e()):new Ya(this.source,De(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,i,a){this.source=e,this.path=i,this.snap=a,this.type=Jt.OVERWRITE}operationForChild(e){return de(this.path)?new cs(this.source,_e(),this.snap.getImmediateChild(e)):new cs(this.source,De(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,i,a){this.source=e,this.path=i,this.children=a,this.type=Jt.MERGE}operationForChild(e){if(de(this.path)){const i=this.children.subtree(new xe(e));return i.isEmpty()?null:i.value?new cs(this.source,_e(),i.value):new Fa(this.source,_e(),i)}else return q(ue(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Fa(this.source,De(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,i,a){this.node_=e,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(de(e))return this.isFullyInitialized()&&!this.filtered_;const i=ue(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function fx(s,e,i,a){const o=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&s.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(tx(f.childName,f.snapshotNode))}),Aa(s,o,"child_removed",e,a,i),Aa(s,o,"child_added",e,a,i),Aa(s,o,"child_moved",u,a,i),Aa(s,o,"child_changed",e,a,i),Aa(s,o,"value",e,a,i),o}function Aa(s,e,i,a,o,u){const f=a.filter(d=>d.type===i);f.sort((d,m)=>dx(s,d,m)),f.forEach(d=>{const m=hx(s,d,u);o.forEach(p=>{p.respondsTo(d.type)&&e.push(p.createEvent(m,s.query_))})})}function hx(s,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,s.index_)),e}function dx(s,e,i){if(e.childName==null||i.childName==null)throw gr("Should only compare child_ events.");const a=new ce(e.childName,e.snapshotNode),o=new ce(i.childName,i.snapshotNode);return s.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(s,e){return{eventCache:s,serverCache:e}}function Ma(s,e,i,a){return _u(new wi(e,i,a),s.serverCache)}function e0(s,e,i,a){return _u(s.eventCache,new wi(e,i,a))}function Jo(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function fs(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh;const px=()=>(lh||(lh=new St(JN)),lh);class Me{static fromObject(e){let i=new Me(null);return Tt(e,(a,o)=>{i=i.set(new xe(a),o)}),i}constructor(e,i=px()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:_e(),value:this.value};if(de(e))return null;{const a=ue(e),o=this.children.get(a);if(o!==null){const u=o.findRootMostMatchingPathAndValue(De(e),i);return u!=null?{path:Qe(new xe(a),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(de(e))return this;{const i=ue(e),a=this.children.get(i);return a!==null?a.subtree(De(e)):new Me(null)}}set(e,i){if(de(e))return new Me(i,this.children);{const a=ue(e),u=(this.children.get(a)||new Me(null)).set(De(e),i),f=this.children.insert(a,u);return new Me(this.value,f)}}remove(e){if(de(e))return this.children.isEmpty()?new Me(null):new Me(null,this.children);{const i=ue(e),a=this.children.get(i);if(a){const o=a.remove(De(e));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new Me(null):new Me(this.value,u)}else return this}}get(e){if(de(e))return this.value;{const i=ue(e),a=this.children.get(i);return a?a.get(De(e)):null}}setTree(e,i){if(de(e))return i;{const a=ue(e),u=(this.children.get(a)||new Me(null)).setTree(De(e),i);let f;return u.isEmpty()?f=this.children.remove(a):f=this.children.insert(a,u),new Me(this.value,f)}}fold(e){return this.fold_(_e(),e)}fold_(e,i){const a={};return this.children.inorderTraversal((o,u)=>{a[o]=u.fold_(Qe(e,o),i)}),i(e,this.value,a)}findOnPath(e,i){return this.findOnPath_(e,_e(),i)}findOnPath_(e,i,a){const o=this.value?a(i,this.value):!1;if(o)return o;if(de(e))return null;{const u=ue(e),f=this.children.get(u);return f?f.findOnPath_(De(e),Qe(i,u),a):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,_e(),i)}foreachOnPath_(e,i,a){if(de(e))return this;{this.value&&a(i,this.value);const o=ue(e),u=this.children.get(o);return u?u.foreachOnPath_(De(e),Qe(i,o),a):new Me(null)}}foreach(e){this.foreach_(_e(),e)}foreach_(e,i){this.children.inorderTraversal((a,o)=>{o.foreach_(Qe(e,a),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,a)=>{a.value&&e(i,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.writeTree_=e}static empty(){return new tn(new Me(null))}}function ka(s,e,i){if(de(e))return new tn(new Me(i));{const a=s.writeTree_.findRootMostValueAndPath(e);if(a!=null){const o=a.path;let u=a.value;const f=pt(o,e);return u=u.updateChild(f,i),new tn(s.writeTree_.set(o,u))}else{const o=new Me(i),u=s.writeTree_.setTree(e,o);return new tn(u)}}}function Bv(s,e,i){let a=s;return Tt(i,(o,u)=>{a=ka(a,Qe(e,o),u)}),a}function qv(s,e){if(de(e))return tn.empty();{const i=s.writeTree_.setTree(e,new Me(null));return new tn(i)}}function Rh(s,e){return ps(s,e)!=null}function ps(s,e){const i=s.writeTree_.findRootMostValueAndPath(e);return i!=null?s.writeTree_.get(i.path).getChild(pt(i.path,e)):null}function Vv(s){const e=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(He,(a,o)=>{e.push(new ce(a,o))}):s.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&e.push(new ce(a,o.value))}),e}function bi(s,e){if(de(e))return s;{const i=ps(s,e);return i!=null?new tn(new Me(i)):new tn(s.writeTree_.subtree(e))}}function Ah(s){return s.writeTree_.isEmpty()}function dr(s,e){return t0(_e(),s.writeTree_,e)}function t0(s,e,i){if(e.value!=null)return i.updateChild(s,e.value);{let a=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(q(u.value!==null,"Priority writes must always be leaf nodes"),a=u.value):i=t0(Qe(s,o),u,i)}),!i.getChild(s).isEmpty()&&a!==null&&(i=i.updateChild(Qe(s,".priority"),a)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(s,e){return r0(e,s)}function mx(s,e,i,a,o){q(a>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:e,snap:i,writeId:a,visible:o}),o&&(s.visibleWrites=ka(s.visibleWrites,e,i)),s.lastWriteId=a}function gx(s,e){for(let i=0;i<s.allWrites.length;i++){const a=s.allWrites[i];if(a.writeId===e)return a}return null}function _x(s,e){const i=s.allWrites.findIndex(d=>d.writeId===e);q(i>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[i];s.allWrites.splice(i,1);let o=a.visible,u=!1,f=s.allWrites.length-1;for(;o&&f>=0;){const d=s.allWrites[f];d.visible&&(f>=i&&vx(d,a.path)?o=!1:$t(a.path,d.path)&&(u=!0)),f--}if(o){if(u)return yx(s),!0;if(a.snap)s.visibleWrites=qv(s.visibleWrites,a.path);else{const d=a.children;Tt(d,m=>{s.visibleWrites=qv(s.visibleWrites,Qe(a.path,m))})}return!0}else return!1}function vx(s,e){if(s.snap)return $t(s.path,e);for(const i in s.children)if(s.children.hasOwnProperty(i)&&$t(Qe(s.path,i),e))return!0;return!1}function yx(s){s.visibleWrites=n0(s.allWrites,Ex,_e()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function Ex(s){return s.visible}function n0(s,e,i){let a=tn.empty();for(let o=0;o<s.length;++o){const u=s[o];if(e(u)){const f=u.path;let d;if(u.snap)$t(i,f)?(d=pt(i,f),a=ka(a,d,u.snap)):$t(f,i)&&(d=pt(f,i),a=ka(a,_e(),u.snap.getChild(d)));else if(u.children){if($t(i,f))d=pt(i,f),a=Bv(a,d,u.children);else if($t(f,i))if(d=pt(f,i),de(d))a=Bv(a,_e(),u.children);else{const m=ur(u.children,ue(d));if(m){const p=m.getChild(De(d));a=ka(a,_e(),p)}}}else throw gr("WriteRecord should have .snap or .children")}}return a}function i0(s,e,i,a,o){if(!a&&!o){const u=ps(s.visibleWrites,e);if(u!=null)return u;{const f=bi(s.visibleWrites,e);if(Ah(f))return i;if(i==null&&!Rh(f,_e()))return null;{const d=i||ne.EMPTY_NODE;return dr(f,d)}}}else{const u=bi(s.visibleWrites,e);if(!o&&Ah(u))return i;if(!o&&i==null&&!Rh(u,_e()))return null;{const f=function(p){return(p.visible||o)&&(!a||!~a.indexOf(p.writeId))&&($t(p.path,e)||$t(e,p.path))},d=n0(s.allWrites,f,e),m=i||ne.EMPTY_NODE;return dr(d,m)}}}function Sx(s,e,i){let a=ne.EMPTY_NODE;const o=ps(s.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(He,(u,f)=>{a=a.updateImmediateChild(u,f)}),a;if(i){const u=bi(s.visibleWrites,e);return i.forEachChild(He,(f,d)=>{const m=dr(bi(u,new xe(f)),d);a=a.updateImmediateChild(f,m)}),Vv(u).forEach(f=>{a=a.updateImmediateChild(f.name,f.node)}),a}else{const u=bi(s.visibleWrites,e);return Vv(u).forEach(f=>{a=a.updateImmediateChild(f.name,f.node)}),a}}function bx(s,e,i,a,o){q(a||o,"Either existingEventSnap or existingServerSnap must exist");const u=Qe(e,i);if(Rh(s.visibleWrites,u))return null;{const f=bi(s.visibleWrites,u);return Ah(f)?o.getChild(i):dr(f,o.getChild(i))}}function Tx(s,e,i,a){const o=Qe(e,i),u=ps(s.visibleWrites,o);if(u!=null)return u;if(a.isCompleteForChild(i)){const f=bi(s.visibleWrites,o);return dr(f,a.getNode().getImmediateChild(i))}else return null}function Cx(s,e){return ps(s.visibleWrites,e)}function wx(s,e,i,a,o,u,f){let d;const m=bi(s.visibleWrites,e),p=ps(m,_e());if(p!=null)d=p;else if(i!=null)d=dr(m,i);else return[];if(d=d.withIndex(f),!d.isEmpty()&&!d.isLeafNode()){const v=[],E=f.getCompare(),S=u?d.getReverseIteratorFrom(a,f):d.getIteratorFrom(a,f);let R=S.getNext();for(;R&&v.length<o;)E(R,a)!==0&&v.push(R),R=S.getNext();return v}else return[]}function Rx(){return{visibleWrites:tn.empty(),allWrites:[],lastWriteId:-1}}function eu(s,e,i,a){return i0(s.writeTree,s.treePath,e,i,a)}function gd(s,e){return Sx(s.writeTree,s.treePath,e)}function Gv(s,e,i,a){return bx(s.writeTree,s.treePath,e,i,a)}function tu(s,e){return Cx(s.writeTree,Qe(s.treePath,e))}function Ax(s,e,i,a,o,u){return wx(s.writeTree,s.treePath,e,i,a,o,u)}function _d(s,e,i){return Tx(s.writeTree,s.treePath,e,i)}function s0(s,e){return r0(Qe(s.treePath,e),s.writeTree)}function r0(s,e){return{treePath:s,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,a=e.childName;q(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),q(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(a,Va(a,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(a,qa(a,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(a,hr(a,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(a,Va(a,e.snapshotNode,o.oldSnap));else throw gr("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(a,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{getCompleteChild(e){return null}getChildAfterChild(e,i,a){return null}}const a0=new xx;class vd{constructor(e,i,a=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const a=this.optCompleteServerCache_!=null?new wi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _d(this.writes_,e,a)}}getChildAfterChild(e,i,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fs(this.viewCache_),u=Ax(this.writes_,o,i,1,a,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(s){return{filter:s}}function Dx(s,e){q(e.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),q(e.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function Ix(s,e,i,a,o){const u=new Nx;let f,d;if(i.type===Jt.OVERWRITE){const p=i;p.source.fromUser?f=Nh(s,e,p.path,p.snap,a,o,u):(q(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered()&&!de(p.path),f=nu(s,e,p.path,p.snap,a,o,d,u))}else if(i.type===Jt.MERGE){const p=i;p.source.fromUser?f=kx(s,e,p.path,p.children,a,o,u):(q(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered(),f=xh(s,e,p.path,p.children,a,o,d,u))}else if(i.type===Jt.ACK_USER_WRITE){const p=i;p.revert?f=jx(s,e,p.path,a,o,u):f=Lx(s,e,p.path,p.affectedTree,a,o,u)}else if(i.type===Jt.LISTEN_COMPLETE)f=Ux(s,e,i.path,a,u);else throw gr("Unknown operation type: "+i.type);const m=u.getChanges();return Mx(e,f,m),{viewCache:f,changes:m}}function Mx(s,e,i){const a=e.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),u=Jo(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!a.getNode().equals(u)||!a.getNode().getPriority().equals(u.getPriority()))&&i.push(ZE(Jo(e)))}}function l0(s,e,i,a,o,u){const f=e.eventCache;if(tu(a,i)!=null)return e;{let d,m;if(de(i))if(q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=fs(e),v=p instanceof ne?p:ne.EMPTY_NODE,E=gd(a,v);d=s.filter.updateFullNode(e.eventCache.getNode(),E,u)}else{const p=eu(a,fs(e));d=s.filter.updateFullNode(e.eventCache.getNode(),p,u)}else{const p=ue(i);if(p===".priority"){q(Ci(i)===1,"Can't have a priority with additional path components");const v=f.getNode();m=e.serverCache.getNode();const E=Gv(a,i,v,m);E!=null?d=s.filter.updatePriority(v,E):d=f.getNode()}else{const v=De(i);let E;if(f.isCompleteForChild(p)){m=e.serverCache.getNode();const S=Gv(a,i,f.getNode(),m);S!=null?E=f.getNode().getImmediateChild(p).updateChild(v,S):E=f.getNode().getImmediateChild(p)}else E=_d(a,p,e.serverCache);E!=null?d=s.filter.updateChild(f.getNode(),p,E,v,o,u):d=f.getNode()}}return Ma(e,d,f.isFullyInitialized()||de(i),s.filter.filtersNodes())}}function nu(s,e,i,a,o,u,f,d){const m=e.serverCache;let p;const v=f?s.filter:s.filter.getIndexedFilter();if(de(i))p=v.updateFullNode(m.getNode(),a,null);else if(v.filtersNodes()&&!m.isFiltered()){const R=m.getNode().updateChild(i,a);p=v.updateFullNode(m.getNode(),R,null)}else{const R=ue(i);if(!m.isCompleteForPath(i)&&Ci(i)>1)return e;const A=De(i),j=m.getNode().getImmediateChild(R).updateChild(A,a);R===".priority"?p=v.updatePriority(m.getNode(),j):p=v.updateChild(m.getNode(),R,j,A,a0,null)}const E=e0(e,p,m.isFullyInitialized()||de(i),v.filtersNodes()),S=new vd(o,E,u);return l0(s,E,i,o,S,d)}function Nh(s,e,i,a,o,u,f){const d=e.eventCache;let m,p;const v=new vd(o,e,u);if(de(i))p=s.filter.updateFullNode(e.eventCache.getNode(),a,f),m=Ma(e,p,!0,s.filter.filtersNodes());else{const E=ue(i);if(E===".priority")p=s.filter.updatePriority(e.eventCache.getNode(),a),m=Ma(e,p,d.isFullyInitialized(),d.isFiltered());else{const S=De(i),R=d.getNode().getImmediateChild(E);let A;if(de(S))A=a;else{const k=v.getCompleteChild(E);k!=null?qE(S)===".priority"&&k.getChild(GE(S)).isEmpty()?A=k:A=k.updateChild(S,a):A=ne.EMPTY_NODE}if(R.equals(A))m=e;else{const k=s.filter.updateChild(d.getNode(),E,A,S,v,f);m=Ma(e,k,d.isFullyInitialized(),s.filter.filtersNodes())}}}return m}function Yv(s,e){return s.eventCache.isCompleteForChild(e)}function kx(s,e,i,a,o,u,f){let d=e;return a.foreach((m,p)=>{const v=Qe(i,m);Yv(e,ue(v))&&(d=Nh(s,d,v,p,o,u,f))}),a.foreach((m,p)=>{const v=Qe(i,m);Yv(e,ue(v))||(d=Nh(s,d,v,p,o,u,f))}),d}function Fv(s,e,i){return i.foreach((a,o)=>{e=e.updateChild(a,o)}),e}function xh(s,e,i,a,o,u,f,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;de(i)?p=a:p=new Me(null).setTree(i,a);const v=e.serverCache.getNode();return p.children.inorderTraversal((E,S)=>{if(v.hasChild(E)){const R=e.serverCache.getNode().getImmediateChild(E),A=Fv(s,R,S);m=nu(s,m,new xe(E),A,o,u,f,d)}}),p.children.inorderTraversal((E,S)=>{const R=!e.serverCache.isCompleteForChild(E)&&S.value===null;if(!v.hasChild(E)&&!R){const A=e.serverCache.getNode().getImmediateChild(E),k=Fv(s,A,S);m=nu(s,m,new xe(E),k,o,u,f,d)}}),m}function Lx(s,e,i,a,o,u,f){if(tu(o,i)!=null)return e;const d=e.serverCache.isFiltered(),m=e.serverCache;if(a.value!=null){if(de(i)&&m.isFullyInitialized()||m.isCompleteForPath(i))return nu(s,e,i,m.getNode().getChild(i),o,u,d,f);if(de(i)){let p=new Me(null);return m.getNode().forEachChild(lr,(v,E)=>{p=p.set(new xe(v),E)}),xh(s,e,i,p,o,u,d,f)}else return e}else{let p=new Me(null);return a.foreach((v,E)=>{const S=Qe(i,v);m.isCompleteForPath(S)&&(p=p.set(v,m.getNode().getChild(S)))}),xh(s,e,i,p,o,u,d,f)}}function Ux(s,e,i,a,o){const u=e.serverCache,f=e0(e,u.getNode(),u.isFullyInitialized()||de(i),u.isFiltered());return l0(s,f,i,a,a0,o)}function jx(s,e,i,a,o,u){let f;if(tu(a,i)!=null)return e;{const d=new vd(a,e,o),m=e.eventCache.getNode();let p;if(de(i)||ue(i)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=eu(a,fs(e));else{const E=e.serverCache.getNode();q(E instanceof ne,"serverChildren would be complete if leaf node"),v=gd(a,E)}v=v,p=s.filter.updateFullNode(m,v,u)}else{const v=ue(i);let E=_d(a,v,e.serverCache);E==null&&e.serverCache.isCompleteForChild(v)&&(E=m.getImmediateChild(v)),E!=null?p=s.filter.updateChild(m,v,E,De(i),d,u):e.eventCache.getNode().hasChild(v)?p=s.filter.updateChild(m,v,ne.EMPTY_NODE,De(i),d,u):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=eu(a,fs(e)),f.isLeafNode()&&(p=s.filter.updateFullNode(p,f,u)))}return f=e.serverCache.isFullyInitialized()||tu(a,_e())!=null,Ma(e,p,f,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new hd(a.getIndex()),u=ix(a);this.processor_=Ox(u);const f=i.serverCache,d=i.eventCache,m=o.updateFullNode(ne.EMPTY_NODE,f.getNode(),null),p=u.updateFullNode(ne.EMPTY_NODE,d.getNode(),null),v=new wi(m,f.isFullyInitialized(),o.filtersNodes()),E=new wi(p,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=_u(E,v),this.eventGenerator_=new cx(this.query_)}get query(){return this.query_}}function zx(s){return s.viewCache_.serverCache.getNode()}function Hx(s){return Jo(s.viewCache_)}function Bx(s,e){const i=fs(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!de(e)&&!i.getImmediateChild(ue(e)).isEmpty())?i.getChild(e):null}function Kv(s){return s.eventRegistrations_.length===0}function qx(s,e){s.eventRegistrations_.push(e)}function Qv(s,e,i){const a=[];if(i){q(e==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(i,o);f&&a.push(f)})}if(e){let o=[];for(let u=0;u<s.eventRegistrations_.length;++u){const f=s.eventRegistrations_[u];if(!f.matches(e))o.push(f);else if(e.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(u+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return a}function Xv(s,e,i,a){e.type===Jt.MERGE&&e.source.queryId!==null&&(q(fs(s.viewCache_),"We should always have a full cache before handling merges"),q(Jo(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,u=Ix(s.processor_,o,e,i,a);return Dx(s.processor_,u.viewCache),q(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,o0(s,u.changes,u.viewCache.eventCache.getNode(),null)}function Vx(s,e){const i=s.viewCache_.eventCache,a=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(He,(u,f)=>{a.push(hr(u,f))}),i.isFullyInitialized()&&a.push(ZE(i.getNode())),o0(s,a,i.getNode(),e)}function o0(s,e,i,a){const o=a?[a]:s.eventRegistrations_;return fx(s.eventGenerator_,e,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu;class u0{constructor(){this.views=new Map}}function Gx(s){q(!iu,"__referenceConstructor has already been defined"),iu=s}function Yx(){return q(iu,"Reference.ts has not been loaded"),iu}function Fx(s){return s.views.size===0}function yd(s,e,i,a){const o=e.source.queryId;if(o!==null){const u=s.views.get(o);return q(u!=null,"SyncTree gave us an op for an invalid query."),Xv(u,e,i,a)}else{let u=[];for(const f of s.views.values())u=u.concat(Xv(f,e,i,a));return u}}function c0(s,e,i,a,o){const u=e._queryIdentifier,f=s.views.get(u);if(!f){let d=eu(i,o?a:null),m=!1;d?m=!0:a instanceof ne?(d=gd(i,a),m=!1):(d=ne.EMPTY_NODE,m=!1);const p=_u(new wi(d,m,!1),new wi(a,o,!1));return new Px(e,p)}return f}function Kx(s,e,i,a,o,u){const f=c0(s,e,a,o,u);return s.views.has(e._queryIdentifier)||s.views.set(e._queryIdentifier,f),qx(f,i),Vx(f,i)}function Qx(s,e,i,a){const o=e._queryIdentifier,u=[];let f=[];const d=Ri(s);if(o==="default")for(const[m,p]of s.views.entries())f=f.concat(Qv(p,i,a)),Kv(p)&&(s.views.delete(m),p.query._queryParams.loadsAllData()||u.push(p.query));else{const m=s.views.get(o);m&&(f=f.concat(Qv(m,i,a)),Kv(m)&&(s.views.delete(o),m.query._queryParams.loadsAllData()||u.push(m.query)))}return d&&!Ri(s)&&u.push(new(Yx())(e._repo,e._path)),{removed:u,events:f}}function f0(s){const e=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function Ti(s,e){let i=null;for(const a of s.views.values())i=i||Bx(a,e);return i}function h0(s,e){if(e._queryParams.loadsAllData())return yu(s);{const a=e._queryIdentifier;return s.views.get(a)}}function d0(s,e){return h0(s,e)!=null}function Ri(s){return yu(s)!=null}function yu(s){for(const e of s.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su;function Xx(s){q(!su,"__referenceConstructor has already been defined"),su=s}function Wx(){return q(su,"Reference.ts has not been loaded"),su}let Zx=1;class Wv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Me(null),this.pendingWriteTree_=Rx(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function p0(s,e,i,a,o){return mx(s.pendingWriteTree_,e,i,a,o),o?al(s,new cs(JE(),e,i)):[]}function ss(s,e,i=!1){const a=gx(s.pendingWriteTree_,e);if(_x(s.pendingWriteTree_,e)){let u=new Me(null);return a.snap!=null?u=u.set(_e(),!0):Tt(a.children,f=>{u=u.set(new xe(f),!0)}),al(s,new $o(a.path,u,i))}else return[]}function rl(s,e,i){return al(s,new cs(pd(),e,i))}function $x(s,e,i){const a=Me.fromObject(i);return al(s,new Fa(pd(),e,a))}function Jx(s,e){return al(s,new Ya(pd(),e))}function eO(s,e,i){const a=Sd(s,i);if(a){const o=bd(a),u=o.path,f=o.queryId,d=pt(u,e),m=new Ya(md(f),d);return Td(s,u,m)}else return[]}function ru(s,e,i,a,o=!1){const u=e._path,f=s.syncPointTree_.get(u);let d=[];if(f&&(e._queryIdentifier==="default"||d0(f,e))){const m=Qx(f,e,i,a);Fx(f)&&(s.syncPointTree_=s.syncPointTree_.remove(u));const p=m.removed;if(d=m.events,!o){const v=p.findIndex(S=>S._queryParams.loadsAllData())!==-1,E=s.syncPointTree_.findOnPath(u,(S,R)=>Ri(R));if(v&&!E){const S=s.syncPointTree_.subtree(u);if(!S.isEmpty()){const R=iO(S);for(let A=0;A<R.length;++A){const k=R[A],j=k.query,P=v0(s,k);s.listenProvider_.startListening(La(j),Ka(s,j),P.hashFn,P.onComplete)}}}!E&&p.length>0&&!a&&(v?s.listenProvider_.stopListening(La(e),null):p.forEach(S=>{const R=s.queryToTagMap.get(Eu(S));s.listenProvider_.stopListening(La(S),R)}))}sO(s,p)}return d}function m0(s,e,i,a){const o=Sd(s,a);if(o!=null){const u=bd(o),f=u.path,d=u.queryId,m=pt(f,e),p=new cs(md(d),m,i);return Td(s,f,p)}else return[]}function tO(s,e,i,a){const o=Sd(s,a);if(o){const u=bd(o),f=u.path,d=u.queryId,m=pt(f,e),p=Me.fromObject(i),v=new Fa(md(d),m,p);return Td(s,f,v)}else return[]}function Oh(s,e,i,a=!1){const o=e._path;let u=null,f=!1;s.syncPointTree_.foreachOnPath(o,(S,R)=>{const A=pt(S,o);u=u||Ti(R,A),f=f||Ri(R)});let d=s.syncPointTree_.get(o);d?(f=f||Ri(d),u=u||Ti(d,_e())):(d=new u0,s.syncPointTree_=s.syncPointTree_.set(o,d));let m;u!=null?m=!0:(m=!1,u=ne.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((R,A)=>{const k=Ti(A,_e());k&&(u=u.updateImmediateChild(R,k))}));const p=d0(d,e);if(!p&&!e._queryParams.loadsAllData()){const S=Eu(e);q(!s.queryToTagMap.has(S),"View does not exist, but we have a tag");const R=rO();s.queryToTagMap.set(S,R),s.tagToQueryMap.set(R,S)}const v=vu(s.pendingWriteTree_,o);let E=Kx(d,e,i,v,u,m);if(!p&&!f&&!a){const S=h0(d,e);E=E.concat(aO(s,e,S))}return E}function Ed(s,e,i){const o=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(e,(f,d)=>{const m=pt(f,e),p=Ti(d,m);if(p)return p});return i0(o,e,u,i,!0)}function nO(s,e){const i=e._path;let a=null;s.syncPointTree_.foreachOnPath(i,(p,v)=>{const E=pt(p,i);a=a||Ti(v,E)});let o=s.syncPointTree_.get(i);o?a=a||Ti(o,_e()):(o=new u0,s.syncPointTree_=s.syncPointTree_.set(i,o));const u=a!=null,f=u?new wi(a,!0,!1):null,d=vu(s.pendingWriteTree_,e._path),m=c0(o,e,d,u?f.getNode():ne.EMPTY_NODE,u);return Hx(m)}function al(s,e){return g0(e,s.syncPointTree_,null,vu(s.pendingWriteTree_,_e()))}function g0(s,e,i,a){if(de(s.path))return _0(s,e,i,a);{const o=e.get(_e());i==null&&o!=null&&(i=Ti(o,_e()));let u=[];const f=ue(s.path),d=s.operationForChild(f),m=e.children.get(f);if(m&&d){const p=i?i.getImmediateChild(f):null,v=s0(a,f);u=u.concat(g0(d,m,p,v))}return o&&(u=u.concat(yd(o,s,a,i))),u}}function _0(s,e,i,a){const o=e.get(_e());i==null&&o!=null&&(i=Ti(o,_e()));let u=[];return e.children.inorderTraversal((f,d)=>{const m=i?i.getImmediateChild(f):null,p=s0(a,f),v=s.operationForChild(f);v&&(u=u.concat(_0(v,d,m,p)))}),o&&(u=u.concat(yd(o,s,a,i))),u}function v0(s,e){const i=e.query,a=Ka(s,i);return{hashFn:()=>(zx(e)||ne.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?eO(s,i._path,a):Jx(s,i._path);{const u=n1(o,i);return ru(s,i,null,u)}}}}function Ka(s,e){const i=Eu(e);return s.queryToTagMap.get(i)}function Eu(s){return s._path.toString()+"$"+s._queryIdentifier}function Sd(s,e){return s.tagToQueryMap.get(e)}function bd(s){const e=s.indexOf("$");return q(e!==-1&&e<s.length-1,"Bad queryKey."),{queryId:s.substr(e+1),path:new xe(s.substr(0,e))}}function Td(s,e,i){const a=s.syncPointTree_.get(e);q(a,"Missing sync point for query tag that we're tracking");const o=vu(s.pendingWriteTree_,e);return yd(a,i,o,null)}function iO(s){return s.fold((e,i,a)=>{if(i&&Ri(i))return[yu(i)];{let o=[];return i&&(o=f0(i)),Tt(a,(u,f)=>{o=o.concat(f)}),o}})}function La(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(Wx())(s._repo,s._path):s}function sO(s,e){for(let i=0;i<e.length;++i){const a=e[i];if(!a._queryParams.loadsAllData()){const o=Eu(a),u=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(u)}}}function rO(){return Zx++}function aO(s,e,i){const a=e._path,o=Ka(s,e),u=v0(s,i),f=s.listenProvider_.startListening(La(e),o,u.hashFn,u.onComplete),d=s.syncPointTree_.subtree(a);if(o)q(!Ri(d.value),"If we're adding a query, it shouldn't be shadowed");else{const m=d.fold((p,v,E)=>{if(!de(p)&&v&&Ri(v))return[yu(v).query];{let S=[];return v&&(S=S.concat(f0(v).map(R=>R.query))),Tt(E,(R,A)=>{S=S.concat(A)}),S}});for(let p=0;p<m.length;++p){const v=m[p];s.listenProvider_.stopListening(La(v),Ka(s,v))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Cd(i)}node(){return this.node_}}class wd{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=Qe(this.path_,e);return new wd(this.syncTree_,i)}node(){return Ed(this.syncTree_,this.path_)}}const lO=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Zv=function(s,e,i){if(!s||typeof s!="object")return s;if(q(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return oO(s[".sv"],e,i);if(typeof s[".sv"]=="object")return uO(s[".sv"],e);q(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},oO=function(s,e,i){switch(s){case"timestamp":return i.timestamp;default:q(!1,"Unexpected server value: "+s)}},uO=function(s,e,i){s.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&q(!1,"Unexpected increment value: "+a);const o=e.node();if(q(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const f=o.getValue();return typeof f!="number"?a:f+a},cO=function(s,e,i,a){return Rd(e,new wd(i,s),a)},y0=function(s,e,i){return Rd(s,new Cd(e),i)};function Rd(s,e,i){const a=s.getPriority().val(),o=Zv(a,e.getImmediateChild(".priority"),i);let u;if(s.isLeafNode()){const f=s,d=Zv(f.getValue(),e,i);return d!==f.getValue()||o!==f.getPriority().val()?new Je(d,tt(o)):s}else{const f=s;return u=f,o!==f.getPriority().val()&&(u=u.updatePriority(new Je(o))),f.forEachChild(He,(d,m)=>{const p=Rd(m,e.getImmediateChild(d),i);p!==m&&(u=u.updateImmediateChild(d,p))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e="",i=null,a={children:{},childCount:0}){this.name=e,this.parent=i,this.node=a}}function Nd(s,e){let i=e instanceof xe?e:new xe(e),a=s,o=ue(i);for(;o!==null;){const u=ur(a.node.children,o)||{children:{},childCount:0};a=new Ad(o,a,u),i=De(i),o=ue(i)}return a}function br(s){return s.node.value}function E0(s,e){s.node.value=e,Dh(s)}function S0(s){return s.node.childCount>0}function fO(s){return br(s)===void 0&&!S0(s)}function Su(s,e){Tt(s.node.children,(i,a)=>{e(new Ad(i,s,a))})}function b0(s,e,i,a){i&&e(s),Su(s,o=>{b0(o,e,!0)})}function hO(s,e,i){let a=s.parent;for(;a!==null;){if(e(a))return!0;a=a.parent}return!1}function ll(s){return new xe(s.parent===null?s.name:ll(s.parent)+"/"+s.name)}function Dh(s){s.parent!==null&&dO(s.parent,s.name,s)}function dO(s,e,i){const a=fO(i),o=Bn(s.node.children,e);a&&o?(delete s.node.children[e],s.node.childCount--,Dh(s)):!a&&!o&&(s.node.children[e]=i.node,s.node.childCount++,Dh(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=/[\[\].#$\/\u0000-\u001F\u007F]/,mO=/[\[\].#$\u0000-\u001F\u007F]/,oh=10*1024*1024,T0=function(s){return typeof s=="string"&&s.length!==0&&!pO.test(s)},C0=function(s){return typeof s=="string"&&s.length!==0&&!mO.test(s)},gO=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),C0(s)},w0=function(s,e,i,a){a&&e===void 0||xd(Gh(s,"value"),e,i)},xd=function(s,e,i){const a=i instanceof xe?new L1(i,s):i;if(e===void 0)throw new Error(s+"contains undefined "+ts(a));if(typeof e=="function")throw new Error(s+"contains a function "+ts(a)+" with contents = "+e.toString());if(SE(e))throw new Error(s+"contains "+e.toString()+" "+ts(a));if(typeof e=="string"&&e.length>oh/3&&cu(e)>oh)throw new Error(s+"contains a string greater than "+oh+" utf8 bytes "+ts(a)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(Tt(e,(f,d)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!T0(f)))throw new Error(s+" contains an invalid key ("+f+") "+ts(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);U1(a,f),xd(s,d,a),j1(a)}),o&&u)throw new Error(s+' contains ".value" child '+ts(a)+" in addition to actual children.")}},R0=function(s,e,i,a){if(!C0(i))throw new Error(Gh(s,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},_O=function(s,e,i,a){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),R0(s,e,i)},Od=function(s,e){if(ue(e)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},vO=function(s,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!T0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!gO(i))throw new Error(Gh(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Dd(s,e){let i=null;for(let a=0;a<e.length;a++){const o=e[a],u=o.getPath();i!==null&&!ud(u,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&s.eventLists_.push(i)}function A0(s,e,i){Dd(s,i),N0(s,a=>ud(a,e))}function pn(s,e,i){Dd(s,i),N0(s,a=>$t(a,e)||$t(e,a))}function N0(s,e){s.recursionDepth_++;let i=!0;for(let a=0;a<s.eventLists_.length;a++){const o=s.eventLists_[a];if(o){const u=o.path;e(u)?(EO(s.eventLists_[a]),s.eventLists_[a]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function EO(s){for(let e=0;e<s.events.length;e++){const i=s.events[e];if(i!==null){s.events[e]=null;const a=i.getEventRunner();Da&&ft("event: "+i.toString()),Sr(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="repo_interrupt",bO=25;class TO{constructor(e,i,a,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zo(),this.transactionQueueTree_=new Ad,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function CO(s,e,i){if(s.stats_=ld(s.repoInfo_),s.forceRestClient_||a1())s.server_=new Wo(s.repoInfo_,(a,o,u,f)=>{$v(s,a,o,u,f)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Jv(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new Un(s.repoInfo_,e,(a,o,u,f)=>{$v(s,a,o,u,f)},a=>{Jv(s,a)},a=>{wO(s,a)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=f1(s.repoInfo_,()=>new ux(s.stats_,s.server_)),s.infoData_=new sx,s.infoSyncTree_=new Wv({startListening:(a,o,u,f)=>{let d=[];const m=s.infoData_.getNode(a._path);return m.isEmpty()||(d=rl(s.infoSyncTree_,a._path,m),setTimeout(()=>{f("ok")},0)),d},stopListening:()=>{}}),Md(s,"connected",!1),s.serverSyncTree_=new Wv({startListening:(a,o,u,f)=>(s.server_.listen(a,u,o,(d,m)=>{const p=f(d,m);pn(s.eventQueue_,a._path,p)}),[]),stopListening:(a,o)=>{s.server_.unlisten(a,o)}})}function x0(s){const i=s.infoData_.getNode(new xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Id(s){return lO({timestamp:x0(s)})}function $v(s,e,i,a,o){s.dataUpdateCount++;const u=new xe(e);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(e,i):i;let f=[];if(o)if(a){const m=zo(i,p=>tt(p));f=tO(s.serverSyncTree_,u,m,o)}else{const m=tt(i);f=m0(s.serverSyncTree_,u,m,o)}else if(a){const m=zo(i,p=>tt(p));f=$x(s.serverSyncTree_,u,m)}else{const m=tt(i);f=rl(s.serverSyncTree_,u,m)}let d=u;f.length>0&&(d=Tu(s,u)),pn(s.eventQueue_,d,f)}function Jv(s,e){Md(s,"connected",e),e===!1&&NO(s)}function wO(s,e){Tt(e,(i,a)=>{Md(s,i,a)})}function Md(s,e,i){const a=new xe("/.info/"+e),o=tt(i);s.infoData_.updateSnapshot(a,o);const u=rl(s.infoSyncTree_,a,o);pn(s.eventQueue_,a,u)}function O0(s){return s.nextWriteId_++}function RO(s,e,i){const a=nO(s.serverSyncTree_,e);return a!=null?Promise.resolve(a):s.server_.get(e).then(o=>{const u=tt(o).withIndex(e._queryParams.getIndex());Oh(s.serverSyncTree_,e,i,!0);let f;if(e._queryParams.loadsAllData())f=rl(s.serverSyncTree_,e._path,u);else{const d=Ka(s.serverSyncTree_,e);f=m0(s.serverSyncTree_,e._path,u,d)}return pn(s.eventQueue_,e._path,f),ru(s.serverSyncTree_,e,i,null,!0),u},o=>(bu(s,"get for query "+Ke(e)+" failed: "+o),Promise.reject(new Error(o))))}function AO(s,e,i,a,o){bu(s,"set",{path:e.toString(),value:i,priority:a});const u=Id(s),f=tt(i,a),d=Ed(s.serverSyncTree_,e),m=y0(f,d,u),p=O0(s),v=p0(s.serverSyncTree_,e,m,p,!0);Dd(s.eventQueue_,v),s.server_.put(e.toString(),f.val(!0),(S,R)=>{const A=S==="ok";A||bt("set at "+e+" failed: "+S);const k=ss(s.serverSyncTree_,p,!A);pn(s.eventQueue_,e,k),IO(s,o,S,R)});const E=L0(s,e);Tu(s,E),pn(s.eventQueue_,E,[])}function NO(s){bu(s,"onDisconnectEvents");const e=Id(s),i=Zo();wh(s.onDisconnect_,_e(),(o,u)=>{const f=cO(o,u,s.serverSyncTree_,e);$E(i,o,f)});let a=[];wh(i,_e(),(o,u)=>{a=a.concat(rl(s.serverSyncTree_,o,u));const f=L0(s,o);Tu(s,f)}),s.onDisconnect_=Zo(),pn(s.eventQueue_,_e(),a)}function xO(s,e,i){let a;ue(e._path)===".info"?a=Oh(s.infoSyncTree_,e,i):a=Oh(s.serverSyncTree_,e,i),A0(s.eventQueue_,e._path,a)}function OO(s,e,i){let a;ue(e._path)===".info"?a=ru(s.infoSyncTree_,e,i):a=ru(s.serverSyncTree_,e,i),A0(s.eventQueue_,e._path,a)}function DO(s){s.persistentConnection_&&s.persistentConnection_.interrupt(SO)}function bu(s,...e){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),ft(i,...e)}function IO(s,e,i,a){e&&Sr(()=>{if(i==="ok")e(null);else{const o=(i||"error").toUpperCase();let u=o;a&&(u+=": "+a);const f=new Error(u);f.code=o,e(f)}})}function D0(s,e,i){return Ed(s.serverSyncTree_,e,i)||ne.EMPTY_NODE}function kd(s,e=s.transactionQueueTree_){if(e||Cu(s,e),br(e)){const i=M0(s,e);q(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&MO(s,ll(e),i)}else S0(e)&&Su(e,i=>{kd(s,i)})}function MO(s,e,i){const a=i.map(p=>p.currentWriteId),o=D0(s,e,a);let u=o;const f=o.hash();for(let p=0;p<i.length;p++){const v=i[p];q(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const E=pt(e,v.path);u=u.updateChild(E,v.currentOutputSnapshotRaw)}const d=u.val(!0),m=e;s.server_.put(m.toString(),d,p=>{bu(s,"transaction put response",{path:m.toString(),status:p});let v=[];if(p==="ok"){const E=[];for(let S=0;S<i.length;S++)i[S].status=2,v=v.concat(ss(s.serverSyncTree_,i[S].currentWriteId)),i[S].onComplete&&E.push(()=>i[S].onComplete(null,!0,i[S].currentOutputSnapshotResolved)),i[S].unwatcher();Cu(s,Nd(s.transactionQueueTree_,e)),kd(s,s.transactionQueueTree_),pn(s.eventQueue_,e,v);for(let S=0;S<E.length;S++)Sr(E[S])}else{if(p==="datastale")for(let E=0;E<i.length;E++)i[E].status===3?i[E].status=4:i[E].status=0;else{bt("transaction at "+m.toString()+" failed: "+p);for(let E=0;E<i.length;E++)i[E].status=4,i[E].abortReason=p}Tu(s,e)}},f)}function Tu(s,e){const i=I0(s,e),a=ll(i),o=M0(s,i);return kO(s,o,a),a}function kO(s,e,i){if(e.length===0)return;const a=[];let o=[];const f=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const m=e[d],p=pt(i,m.path);let v=!1,E;if(q(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)v=!0,E=m.abortReason,o=o.concat(ss(s.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=bO)v=!0,E="maxretry",o=o.concat(ss(s.serverSyncTree_,m.currentWriteId,!0));else{const S=D0(s,m.path,f);m.currentInputSnapshot=S;const R=e[d].update(S.val());if(R!==void 0){xd("transaction failed: Data returned ",R,m.path);let A=tt(R);typeof R=="object"&&R!=null&&Bn(R,".priority")||(A=A.updatePriority(S.getPriority()));const j=m.currentWriteId,P=Id(s),V=y0(A,S,P);m.currentOutputSnapshotRaw=A,m.currentOutputSnapshotResolved=V,m.currentWriteId=O0(s),f.splice(f.indexOf(j),1),o=o.concat(p0(s.serverSyncTree_,m.path,V,m.currentWriteId,m.applyLocally)),o=o.concat(ss(s.serverSyncTree_,j,!0))}else v=!0,E="nodata",o=o.concat(ss(s.serverSyncTree_,m.currentWriteId,!0))}pn(s.eventQueue_,i,o),o=[],v&&(e[d].status=2,function(S){setTimeout(S,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(E==="nodata"?a.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):a.push(()=>e[d].onComplete(new Error(E),!1,null))))}Cu(s,s.transactionQueueTree_);for(let d=0;d<a.length;d++)Sr(a[d]);kd(s,s.transactionQueueTree_)}function I0(s,e){let i,a=s.transactionQueueTree_;for(i=ue(e);i!==null&&br(a)===void 0;)a=Nd(a,i),e=De(e),i=ue(e);return a}function M0(s,e){const i=[];return k0(s,e,i),i.sort((a,o)=>a.order-o.order),i}function k0(s,e,i){const a=br(e);if(a)for(let o=0;o<a.length;o++)i.push(a[o]);Su(e,o=>{k0(s,o,i)})}function Cu(s,e){const i=br(e);if(i){let a=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[a]=i[o],a++);i.length=a,E0(e,i.length>0?i:void 0)}Su(e,a=>{Cu(s,a)})}function L0(s,e){const i=ll(I0(s,e)),a=Nd(s.transactionQueueTree_,e);return hO(a,o=>{uh(s,o)}),uh(s,a),b0(a,o=>{uh(s,o)}),i}function uh(s,e){const i=br(e);if(i){const a=[];let o=[],u=-1;for(let f=0;f<i.length;f++)i[f].status===3||(i[f].status===1?(q(u===f-1,"All SENT items should be at beginning of queue."),u=f,i[f].status=3,i[f].abortReason="set"):(q(i[f].status===0,"Unexpected transaction status in abort"),i[f].unwatcher(),o=o.concat(ss(s.serverSyncTree_,i[f].currentWriteId,!0)),i[f].onComplete&&a.push(i[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?E0(e,void 0):i.length=u+1,pn(s.eventQueue_,ll(e),o);for(let f=0;f<a.length;f++)Sr(a[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(s){let e="";const i=s.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let o=i[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function UO(s){const e={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?e[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):bt(`Invalid query segment '${i}' in query '${s}'`)}return e}const ey=function(s,e){const i=jO(s),a=i.namespace;i.domain==="firebase.com"&&Hn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&Hn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||ZN();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new ME(i.host,i.secure,a,o,e,"",a!==i.subdomain),path:new xe(i.pathString)}},jO=function(s){let e="",i="",a="",o="",u="",f=!0,d="https",m=443;if(typeof s=="string"){let p=s.indexOf("//");p>=0&&(d=s.substring(0,p-1),s=s.substring(p+2));let v=s.indexOf("/");v===-1&&(v=s.length);let E=s.indexOf("?");E===-1&&(E=s.length),e=s.substring(0,Math.min(v,E)),v<E&&(o=LO(s.substring(v,E)));const S=UO(s.substring(Math.min(s.length,E)));p=e.indexOf(":"),p>=0?(f=d==="https"||d==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const R=e.slice(0,p);if(R.toLowerCase()==="localhost")i="localhost";else if(R.split(".").length<=2)i=R;else{const A=e.indexOf(".");a=e.substring(0,A).toLowerCase(),i=e.substring(A+1),u=a}"ns"in S&&(u=S.ns)}return{host:e,port:m,domain:i,subdomain:a,secure:f,scheme:d,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",PO=function(){let s=0;const e=[];return function(i){const a=i===s;s=i;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=ty.charAt(i%64),i=Math.floor(i/64);q(i===0,"Cannot push at time == 0");let f=u.join("");if(a){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)f+=ty.charAt(e[o]);return q(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,i,a,o){this.eventType=e,this.eventRegistration=i,this.snapshot=a,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ke(this.snapshot.exportVal())}}class HO{constructor(e,i,a){this.eventRegistration=e,this.error=i,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,i,a,o){this._repo=e,this._path=i,this._queryParams=a,this._orderByCalled=o}get key(){return de(this._path)?null:qE(this._path)}get ref(){return new qn(this._repo,this._path)}get _queryIdentifier(){const e=zv(this._queryParams),i=rd(e);return i==="{}"?"default":i}get _queryObject(){return zv(this._queryParams)}isEqual(e){if(e=ht(e),!(e instanceof Ld))return!1;const i=this._repo===e._repo,a=ud(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+k1(this._path)}}class qn extends Ld{constructor(e,i){super(e,i,new dd,!1)}get parent(){const e=GE(this._path);return e===null?null:new qn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Qa{constructor(e,i,a){this._node=e,this.ref=i,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new xe(e),a=hs(this.ref,e);return new Qa(this._node.getChild(i),a,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>e(new Qa(o,hs(this.ref,a),He)))}hasChild(e){const i=new xe(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ii(s,e){return s=ht(s),s._checkNotDeleted("ref"),e!==void 0?hs(s._root,e):s._root}function hs(s,e){return s=ht(s),ue(s._path)===null?_O("child","path",e):R0("child","path",e),new qn(s._repo,Qe(s._path,e))}function j0(s,e){s=ht(s),Od("push",s._path),w0("push",e,s._path,!0);const i=x0(s._repo),a=PO(i),o=hs(s,a),u=hs(s,a);let f;return f=Promise.resolve(u),o.then=f.then.bind(f),o.catch=f.then.bind(f,void 0),o}function P0(s){return Od("remove",s._path),ol(s,null)}function ol(s,e){s=ht(s),Od("set",s._path),w0("set",e,s._path,!1);const i=new uu;return AO(s._repo,s._path,e,null,i.wrapCallback(()=>{})),i.promise}function ny(s){s=ht(s);const e=new U0(()=>{}),i=new wu(e);return RO(s._repo,s,i).then(a=>new Qa(a,new qn(s._repo,s._path),s._queryParams.getIndex()))}class wu{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const a=i._queryParams.getIndex();return new zO("value",this,new Qa(e.snapshotNode,new qn(i._repo,i._path),a))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new HO(this,e,i):null}matches(e){return e instanceof wu?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function BO(s,e,i,a,o){const u=new U0(i,void 0),f=new wu(u);return xO(s._repo,s,f),()=>OO(s._repo,s,f)}function qO(s,e,i,a){return BO(s,"value",e)}Gx(qn);Xx(qn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="FIREBASE_DATABASE_EMULATOR_HOST",Ih={};let GO=!1;function YO(s,e,i,a){const o=e.lastIndexOf(":"),u=e.substring(0,o),f=fu(u);s.repoInfo_=new ME(e,f,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),a&&(s.authTokenProvider_=a)}function FO(s,e,i,a,o){let u=a||s.options.databaseURL;u===void 0&&(s.options.projectId||Hn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ft("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let f=ey(u,o),d=f.repoInfo,m;typeof process<"u"&&Sv&&(m=Sv[VO]),m?(u=`http://${m}?ns=${d.namespace}`,f=ey(u,o),d=f.repoInfo):f.repoInfo.secure;const p=new o1(s.name,s.options,e);vO("Invalid Firebase Database URL",f),de(f.path)||Hn("Database URL must point to the root of a Firebase Database (not including a child path).");const v=QO(d,s,p,new l1(s,i));return new XO(v,s)}function KO(s,e){const i=Ih[e];(!i||i[s.key]!==s)&&Hn(`Database ${e}(${s.repoInfo_}) has already been deleted.`),DO(s),delete i[s.key]}function QO(s,e,i,a){let o=Ih[e.name];o||(o={},Ih[e.name]=o);let u=o[s.toURLString()];return u&&Hn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new TO(s,GO,i,a),o[s.toURLString()]=u,u}class XO{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(CO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qn(this._repo,_e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(KO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Hn("Cannot call "+e+" on a deleted database.")}}function WO(s=ky(),e){const i=Kh(s,"database").getImmediate({identifier:e});if(!i._instanceStarted){const a=JC("database");a&&ZO(i,...a)}return i}function ZO(s,e,i,a={}){s=ht(s),s._checkNotDeleted("useEmulator");const o=`${e}:${i}`,u=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&rs(a,u.repoInfo_.emulatorOptions))return;Hn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)a.mockUserToken&&Hn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new Lo(Lo.OWNER);else if(a.mockUserToken){const d=typeof a.mockUserToken=="string"?a.mockUserToken:ew(a.mockUserToken,s.app.options.projectId);f=new Lo(d)}fu(e)&&Oy(e),YO(u,o,a,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(s){YN(vr),cr(new as("database",(e,{instanceIdentifier:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return FO(a,o,u,i)},"PUBLIC").setMultipleInstances(!0)),Si(bv,Tv,s),Si(bv,Tv,"esm2017")}Un.prototype.simpleListen=function(s,e){this.sendRequest("q",{p:s},e)};Un.prototype.echo=function(s,e){this.sendRequest("echo",{d:s},e)};$O();const JO={apiKey:"AIzaSyArorV6s1Y84MY5DDxrsqTU8Coi7e-2v5w",authDomain:"web-lr4.firebaseapp.com",databaseURL:"https://web-lr4-default-rtdb.europe-west1.firebasedatabase.app",projectId:"web-lr4",storageBucket:"web-lr4.firebasestorage.app",messagingSenderId:"489955989215",appId:"1:489955989215:web:7fe413d5ff674f7cd23b6a"},z0=My(JO),dn=jN(z0),Mi=WO(z0),H0=new On;function iy(){const[s,e]=mu(dn),[i,a]=D.useState(!1),o=D.useRef(null);return D.useEffect(()=>{const u=f=>{o.current&&!o.current.contains(f.target)&&a(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),e?y.jsx("div",{children:"Завантаження..."}):y.jsxs("div",{className:"app",children:[y.jsxs("header",{className:"app-header",children:[y.jsx("nav",{children:y.jsxs("ul",{className:"nav-list",children:[y.jsx("li",{children:y.jsx(mi,{to:"/",end:!0,className:({isActive:u})=>u?"active":"",children:"Головна"})}),y.jsx("li",{children:y.jsx(mi,{to:"/places",className:({isActive:u})=>u?"active":"",children:"Місця для відвідування"})}),s&&y.jsxs(y.Fragment,{children:[y.jsx("li",{children:y.jsx(mi,{to:"/travels",className:({isActive:u})=>u?"active":"",children:"Мої подорожі"})}),y.jsx("li",{children:y.jsx(mi,{to:"/budget",className:({isActive:u})=>u?"active":"",children:"Бюджет"})})]}),y.jsx("li",{className:"user-menu",ref:o,children:s?y.jsxs("div",{className:"user-info",onClick:()=>a(!i),children:[y.jsx("span",{children:s.displayName||s.email}),i&&y.jsxs("div",{className:"dropdown-menu",children:[y.jsx(mi,{to:"/",children:y.jsx("button",{onClick:()=>fv(dn),children:"Вийти"})}),y.jsx(mi,{to:"/login",children:y.jsx("button",{onClick:()=>fv(dn),children:"Змінити аккаунт"})})]})]}):y.jsx(mi,{to:"/login",children:"Увійти"})})]})}),y.jsx("hr",{})]}),y.jsx("main",{className:"app-main",children:y.jsx(my,{})}),y.jsxs("footer",{className:"app-footer",children:[y.jsx("hr",{}),y.jsxs("div",{className:"footer-content",children:[y.jsx("h5",{children:"Виконав студент групи ОІ-24 Антон."}),y.jsx("h5",{children:y.jsx("a",{href:"https://codeberg.org/casaviadisto/web_2025/",target:"_blank",rel:"noopener",children:"Codeberg"})}),y.jsx("h5",{children:y.jsx("a",{href:"https://github.com/casaviadisto/casaviadisto.github.io/tree/main",target:"_blank",rel:"noopener",children:"GitHub"})})]})]})]})}function eD(){return y.jsxs("section",{children:[y.jsx("h1",{children:"Веб-сайт платформи для планування подорожей вітає вас!"}),y.jsxs("section",{children:[y.jsx("h2",{children:"Історична довідка."}),y.jsxs("div",{className:"history",children:[y.jsx("div",{className:"images",children:y.jsx("img",{src:"./images/Strannik_Svetlogo_Grada_46.jpg",alt:""})}),y.jsx("br",{}),y.jsxs("div",{className:"text",children:["Подорож — переміщення якоюсь певною територією з метою її вивчення, а також із загальноосвітньою, пізнавальною, спортивною цілями.",y.jsx("br",{}),y.jsx("br",{}),"До XVIII—XIX ст. подорожі були одним з основних джерел інформації про ті чи інші країни (їхні природу, населення, історію, господарство), загальний характер та рельєф поверхні Землі. Від античного часу збереглися описи подорожей Геродота, вчених, які супроводжували Олександра Македонського в його походах. Класичний приклад подорожей Середньовіччя — походи Марко Поло й Афанасія Нікітіна.",y.jsx("br",{}),y.jsx("br",{}),"Подорожі з релігійними цілями (для поклоніння святим місцям) в Середньовіччі отримали назву «паломництво»; російські паломники, серед яких, наприклад, ігумен Даніїл, залишили подорожні записки, що отримали назву «ходіння». Епоха географічних великих відкриттів характерна багатьма подорожами, що докорінно змінили уявлення про планету.",y.jsx("br",{}),y.jsx("br",{}),"Пізніше велике значення для розширення знань про Землю мали мандрівки Д. Лівінгстона і Г. Стенлі, М. М. Пржевальського та інших. М. М.Пржевальський називав свої мандри науковими, тому що вони могли задовольнити лише запити первинного і загального ознайомлення з особливостями тієї чи іншої території. Тому вже в XVIII—XIX ст., в міру поглиблення досліджень, конкретизації та спеціалізації навчальних цілей і завдань, подорожі набувають характеру навчальних експедицій (Арміній Вамбері).",y.jsx("br",{}),y.jsx("br",{}),"Із середини XX ст., у зв'язку з бурхливим розвитком туризму, термін «подорожувати» вживають для означення будь-якої поїздки, зробленої якоюсь мірою самостійно, незалежно від туристичної компанії. Нині мандрівниками називають людей, що влаштовують самостійно поїздки, часто авантюрні (наприклад, Ф. Ф. Конюхов, В. А. Шанін, І. П. Синицин). Подорож з принциповою відмовою від послуг туристичної компанії називається «бекпекінг»"]})]})]}),y.jsxs("section",{children:[y.jsx("h2",{children:"Думки про подорожі видатних людей"}),y.jsxs("div",{className:"things",children:[y.jsx("img",{src:"./images/Wanderer_above_the_Sea_of_Fog.jpg",alt:""}),y.jsxs("ul",{className:"text",children:[y.jsxs("li",{children:[y.jsx("i",{children:"«Життя під час подорожі - це мрія в чистому вигляді.»"})," - ",y.jsx("strong",{children:"Агата Крісті"})]}),y.jsxs("li",{children:[y.jsx("i",{children:"«Лише про дві речі ми шкодуватимемо на смертному одрі - що мало любили і мало подорожували.»"}),"-",y.jsx("strong",{children:"Марк Твен"})]}),y.jsxs("li",{children:[y.jsx("i",{children:"«Людина, яка багато подорожує, схожа на камінь, пронесений водою на сотні верст: його шорсткості згладжуються, і все в ньому набуває м'яких, заокруглених форм.»"})," - ",y.jsx("strong",{children:"І. Реклю"})]}),y.jsxs("li",{children:[y.jsx("i",{children:"«Людину роблять щасливими три речі: любов, цікава робота і можливість подорожувати.»"})," -",y.jsx("strong",{children:"І. Бунін"})]}),y.jsxs("li",{children:[y.jsx("i",{children:"«Світ - це книга. І хто не подорожував по ньому - прочитав у ній лише одну сторінку.»"})," -",y.jsx("strong",{children:"Св. Августин"})]}),y.jsxs("li",{children:[y.jsx("i",{children:"«Доброчесність мудреців нагадує подорож у далеку країну або сходження на вершину: ті, що йдуть у далеку країну, починають свій шлях із першого кроку; ті, що сходять на вершину, починають з підніжжя гори.»"}),"-",y.jsx("strong",{children:"Конфуцій"})]}),y.jsxs("li",{children:[y.jsx("i",{children:"«Все життя - це лише шлях до смерті.»"})," - ",y.jsx("strong",{children:"Сенека"})]}),y.jsxs("li",{children:[y.jsx("i",{children:"«Настане і той час, коли космічний корабель з людьми покине Землю і вирушить у подорож. Надійний міст із Землі в космос уже перекинуто запуском радянських штучних супутників, і дорога до зірок відкрита!»"})," -",y.jsx("strong",{children:"Сергій Корольов"})]}),y.jsxs("li",{children:[y.jsx("i",{children:"«Якщо англійський сплін має хоч родинну схожість з нашою російською нудьгою, то я вірю в можливість подорожі пішки на Камчатку, як це зробив якийсь лорд, що до того ще й одружився з дочкою петропавловського паламаря.»"})," - ",y.jsx("strong",{children:"Тарас Шевченко"})]}),y.jsxs("li",{children:[y.jsx("i",{children:"«Товсте дерево починалося з тонкого прутика. Дев'ятиповерхова вежа почалася з кладки маленьких цеглин. Подорож у тисячу верст починається з одного кроку. Будьте уважні до своїх думок - вони є початком вчинків.»"})," - ",y.jsx("strong",{children:"Лев Толстой"})]}),y.jsxs("li",{children:[y.jsx("i",{children:"«Щоб жити, треба рватися, плутатися, битися, помилятися, починати і знову починати, і знову кидати, і вічно боротися. А спокій - це душевна боязкість.»"})," - ",y.jsx("strong",{children:"Лев Толстой"})]})]})]})]}),y.jsxs("section",{children:[y.jsx("h2",{children:"Вірш «Сам-один виходжу на дорогу»"}),y.jsxs("div",{className:"poem",children:[y.jsx("img",{src:"./images/Вихожу_один_я_на_дорогу.jpg",alt:""}),y.jsxs("div",{className:"text",children:["Сам-один виходжу на дорогу, ",y.jsx("br",{}),"У тумані битий шлях блищить;",y.jsx("br",{}),"Тиха ніч. Пустеля чує бога, ",y.jsx("br",{}),"І зоря з зорею гомонить. ",y.jsx("br",{}),y.jsx("br",{}),"Як прекрасні небеса безкраї!",y.jsx("br",{}),"Спить земля у сяйві голубім...",y.jsx("br",{}),"То чому ж душа моя страждає?",y.jsx("br",{}),"Жду чогось? Шкодую я за чим?",y.jsx("br",{}),y.jsx("br",{}),"Від життя нічого не чекаю,",y.jsx("br",{}),"Не шкода минулого мені,",y.jsx("br",{}),"Я свободи й спокою шукаю,",y.jsx("br",{}),"Я б хотів забутися у сні.",y.jsx("br",{}),y.jsx("br",{}),"Та не тим холодним сном могили...",y.jsx("br",{}),"Я би так хотів спочити в сні,",y.jsx("br",{}),"Щоб не згасли життєдайні сили.",y.jsx("br",{}),"Щоби вільно дихалось мені.",y.jsx("br",{}),y.jsx("br",{}),"Щоб вночі і вдень щонаймиліший",y.jsx("br",{}),"Про любов я чув солодкий спів,",y.jsx("br",{}),"Щоби, наді мною нахилившись,",y.jsx("br",{}),"Дуб зелений листям шелестів.",y.jsx("br",{}),y.jsx("br",{}),y.jsx("i",{children:"Михайло Лермонтов"})]})]})]})]})}async function Ud(){try{const s=Ii(Mi),[e,i]=await Promise.all([ny(hs(s,"travel_places")),ny(hs(s,"place_types"))]);return{travel_places:e.exists()?Object.entries(e.val()).map(([a,o])=>({id:a,...o,prices:o.prices||{flight:0,live:0},reviews:o.reviews||[]})):[],place_types:i.exists()?Object.values(i.val()):[]}}catch(s){throw console.error("Помилка завантаження даних:",s),s}}async function tD(s,e){try{const i=Ii(Mi,`users/${s}/travels`),a=j0(i);return await ol(a,e),a.key}catch(i){throw console.error("Помилка додавання подорожі:",i),i}}async function sy(s,e){try{const i=Ii(Mi,`users/${s}/travels/${e}`);await P0(i)}catch(i){throw console.error("Помилка видалення подорожі:",i),i}}async function nD(s){try{const e=Ii(Mi,"travel_places"),i=j0(e);return await ol(i,s),i.key}catch(e){throw console.error("Помилка додавання місця:",e),e}}async function iD(s){try{const e=Ii(Mi,`travel_places/${s}`);await P0(e)}catch(e){throw console.error("Помилка видалення місця:",e),e}}async function ry(s,e){try{const i=Ii(Mi,`travel_places/${s}/reviews`);await ol(i,e)}catch(i){throw console.error("Помилка оновлення відгуків:",i),i}}function sD(){var P,V;const[s]=mu(dn),[e,i]=D.useState([]),[a,o]=D.useState({travel_places:[],place_types:[]}),[u,f]=D.useState({place:"",dateStart:"",dateEnd:"",type:"completed",description:""}),[d,m]=D.useState({status:"all",placeType:"all"});D.useEffect(()=>{Ud().then(M=>o(M))},[]),D.useEffect(()=>{if(s){const M=Ii(Mi,`users/${s.uid}/travels`),F=qO(M,K=>{const ae=K.val();i(ae?Object.entries(ae).map(([ye,Ie])=>({id:ye,...Ie})):[])});return()=>F()}},[s]);const p=M=>{const{name:F,value:K}=M.target;f(ae=>({...ae,[F]:K}))},v=M=>{const{name:F,value:K}=M.target;m(ae=>({...ae,[F]:K}))},E=M=>new Date(M).toLocaleDateString("uk-UA"),S=async M=>{var K;if(M.preventDefault(),!s)return;const F={completed:u.type==="completed",city:u.place,dateStart:E(u.dateStart),dateEnd:E(u.dateEnd),img:((K=a.travel_places.find(ae=>ae.title===u.place))==null?void 0:K.img)||"",text:u.description};try{await tD(s.uid,F),f({place:"",dateStart:"",dateEnd:"",type:"completed",description:""})}catch(ae){console.error("Помилка додавання подорожі:",ae)}},A=e.filter(M=>{const F=d.status==="all"||d.status==="completed"&&M.completed||d.status==="planned"&&!M.completed,K=a.travel_places.find(ye=>ye.title===M.city),ae=d.placeType==="all"||K&&K.place_type===parseInt(d.placeType);return F&&ae}).reduce((M,F)=>{const K=F.completed?"completed":"planned";return M[K].push(F),M},{completed:[],planned:[]}),k=["all","completed"].includes(d.status),j=["all","planned"].includes(d.status);return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:"Мої подорожі"}),y.jsxs("div",{className:"filter-controls",children:[y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:"Статус:"}),y.jsxs("select",{name:"status",value:d.status,onChange:v,children:[y.jsx("option",{value:"all",children:"Всі"}),y.jsx("option",{value:"completed",children:"Завершені"}),y.jsx("option",{value:"planned",children:"Заплановані"})]})]}),y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:"Тип місця:"}),y.jsxs("select",{name:"placeType",value:d.placeType,onChange:v,children:[y.jsx("option",{value:"all",children:"Всі типи"}),(P=a.place_types)==null?void 0:P.map(M=>y.jsx("option",{value:M.id,children:M.name_ua},M.id))]})]})]}),y.jsxs("article",{id:"travels",children:[k&&y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"Завершені подорожі"}),y.jsxs("div",{id:"completed",children:[A.completed.map((M,F)=>y.jsxs("div",{className:"card",children:[y.jsxs("div",{className:"card-header",children:[y.jsx("h4",{children:M.city}),y.jsx("button",{className:"btn btn-danger",onClick:()=>sy(s.uid,M.id),children:"Видалити"})]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Дата:"})," ",M.dateStart," - ",M.dateEnd]}),y.jsx("img",{src:M.img,alt:M.city,className:`img-float ${F%2?"float-right":"float-left"}`}),y.jsx("p",{children:M.text}),y.jsx("div",{className:"clearfix"})]},F)),A.completed.length===0&&y.jsx("p",{className:"no-results",children:"Немає завершених подорожей"})]})]}),j&&y.jsxs("div",{className:"card",children:[y.jsx("h3",{children:"Заплановані подорожі"}),y.jsxs("div",{id:"planned",children:[A.planned.map((M,F)=>y.jsxs("div",{className:"card",children:[y.jsxs("div",{className:"card-header",children:[y.jsx("h4",{children:M.city}),y.jsx("button",{className:"btn btn-danger",onClick:()=>sy(s.uid,M.id),children:"Видалити"})]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Дата:"})," ",M.dateStart," - ",M.dateEnd]}),y.jsx("img",{src:M.img,alt:M.city,className:`img-float ${F%2?"float-right":"float-left"}`}),y.jsx("p",{children:M.text}),y.jsx("div",{className:"clearfix"})]},F)),A.planned.length===0&&y.jsx("p",{className:"no-results",children:"Немає запланованих подорожей"})]})]})]}),y.jsxs("form",{id:"travel_form",className:"card",onSubmit:S,children:[y.jsx("h2",{children:"Додати подорож"}),y.jsxs("div",{className:"form-grid",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"travel_place",children:"Місце"}),y.jsxs("select",{className:"form-input",id:"travel_place",name:"place",value:u.place,onChange:p,required:!0,children:[y.jsx("option",{value:"",children:"Оберіть місце"}),(V=a.travel_places)==null?void 0:V.map((M,F)=>{var K;return y.jsxs("option",{value:M.title,children:[M.title," (",(K=a.place_types.find(ae=>ae.id===M.place_type))==null?void 0:K.name_ua,")"]},F)})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"travel_date_start",children:"Початок"}),y.jsx("input",{type:"date",className:"form-input",id:"travel_date_start",name:"dateStart",value:u.dateStart,onChange:p,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"travel_date_end",children:"Кінець"}),y.jsx("input",{type:"date",className:"form-input",id:"travel_date_end",name:"dateEnd",value:u.dateEnd,onChange:p,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"travel_type",children:"Тип"}),y.jsxs("select",{className:"form-input",id:"travel_type",name:"type",value:u.type,onChange:p,children:[y.jsx("option",{value:"completed",children:"Завершена"}),y.jsx("option",{value:"planned",children:"Запланована"})]})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"travel_description",children:"Опис"}),y.jsx("textarea",{className:"form-textarea",id:"travel_description",name:"description",value:u.description,onChange:p,required:!0})]}),y.jsx("div",{className:"form-submit",children:y.jsx("button",{type:"submit",className:"btn btn-primary",children:"Додати"})})]})]})}const rD=({place:s,placeTypes:e,index:i,onDelete:a,onToggle:o,isExpanded:u,onAddReview:f,onDeleteReview:d})=>{var E;const[m,p]=D.useState(""),v=e.find(S=>S.id===s.place_type)||{};return y.jsxs("div",{className:"card","data-index":i,children:[y.jsxs("div",{className:"card-header",children:[y.jsx("h4",{children:s.title}),y.jsxs("div",{children:[y.jsx("button",{className:"btn btn-toggle",onClick:()=>o(i),children:u?"Сховати відгуки":"Показати відгуки"}),y.jsx("button",{className:"btn btn-danger",onClick:()=>a(s.id),children:"Видалити"})]})]}),y.jsx("img",{src:s.img,alt:s.title,className:`img-float ${i%2?"float-right":"float-left"}`}),y.jsx("p",{children:s.text}),y.jsxs("div",{className:"price-list",children:[y.jsx("p",{children:y.jsx("strong",{children:"Ціни:"})}),y.jsxs("p",{children:["Переліт: ",s.prices.flight||"Н/Д","€"]}),y.jsxs("p",{children:["Проживання: ",s.prices.live||"Н/Д","€/доба"]}),y.jsxs("p",{children:["Тип: ",v.name_ua]})]}),y.jsx("div",{className:"clearfix"}),y.jsxs("div",{className:"reviews-container",style:{display:u?"block":"none"},children:[y.jsx("h5",{children:"Відгуки:"}),y.jsx("div",{className:"reviews-list",children:(E=s.reviews)==null?void 0:E.map((S,R)=>y.jsxs("div",{className:"review-item",children:[y.jsx("p",{children:S}),y.jsx("button",{className:"btn btn-danger review-controls",onClick:()=>d(s.id,R),children:"×"})]},R))}),y.jsxs("div",{className:"new-review",children:[y.jsx("textarea",{className:"form-textarea new-review-text",placeholder:"Напишіть відгук",value:m,onChange:S=>p(S.target.value)}),y.jsx("button",{className:"btn btn-primary add-review-btn",onClick:()=>{f(s.id,m),p("")},children:"Додати"})]})]})]})};function aD(){const[s]=mu(dn),[e,i]=D.useState({travel_places:[],place_types:[]}),[a,o]=D.useState({place:"",photo:"",flight_cost:"",live_cost:"",description:"",place_type:0}),[u,f]=D.useState(null),[d,m]=D.useState("всі"),p=e.travel_places.filter(k=>d==="всі"||k.place_type===parseInt(d));D.useEffect(()=>{(async()=>{try{const j=await Ud();i({travel_places:j.travel_places.filter(P=>P.title),place_types:j.place_types})}catch(j){console.error("Помилка ініціалізації:",j)}})()},[]);const v=async k=>{k.preventDefault();const j={title:a.place,img:a.photo,text:a.description,place_type:parseInt(a.place_type),prices:{flight:Number(a.flight_cost)||0,live:Number(a.live_cost)||0},reviews:[]};try{const P=await nD(j);i(V=>({...V,travel_places:[...V.travel_places,{id:P,...j}]})),o({place:"",photo:"",flight_cost:"",live_cost:"",description:"",place_type:0})}catch(P){console.error("Помилка додавання місця:",P)}},E=k=>{const{name:j,value:P}=k.target;o(V=>({...V,[j]:P}))},S=async k=>{if(window.confirm("Видалити місце?"))try{await iD(k),i(j=>({...j,travel_places:j.travel_places.filter(P=>P.id!==k)}))}catch(j){console.error("Помилка видалення:",j)}},R=async(k,j)=>{try{const P=e.travel_places.find(M=>M.id===k);if(!P){console.error("Місце не знайдено");return}const V=[...P.reviews||[],j];await ry(k,V),i(M=>({...M,travel_places:M.travel_places.map(F=>F.id===k?{...F,reviews:V}:F)}))}catch(P){console.error("Помилка додавання відгуку:",P)}},A=async(k,j)=>{try{const V=e.travel_places.find(M=>M.id===k).reviews.filter((M,F)=>F!==j);await ry(k,V),i(M=>({...M,travel_places:M.travel_places.map(F=>F.id===k?{...F,reviews:V}:F)}))}catch(P){console.error("Помилка видалення відгуку:",P)}};return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:"Місця для відвідування"}),y.jsx("div",{className:"filter-controls",children:y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:"Фільтр за типом: "}),y.jsxs("select",{value:d,onChange:k=>m(k.target.value),children:[y.jsx("option",{value:"всі",children:"Всі типи"}),e.place_types.map(k=>y.jsx("option",{value:k.id,children:k.name_ua},k.id))]})]})}),y.jsx("article",{id:"places",children:p.map((k,j)=>y.jsx(rD,{place:k,placeTypes:e.place_types,index:j,isExpanded:u===j,onToggle:P=>f(V=>V===P?null:P),onDelete:S,onAddReview:R,onDeleteReview:A},k.id))}),s?y.jsxs("form",{id:"place_form",className:"card",onSubmit:v,children:[y.jsx("h2",{children:"Додати місце"}),y.jsxs("div",{className:"form-grid",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"place_place",children:"Назва"}),y.jsx("input",{type:"text",className:"form-input",id:"place_place",name:"place",value:a.place,onChange:E,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"place_photo",children:"Фото"}),y.jsx("input",{type:"url",className:"form-input",id:"place_photo",name:"photo",value:a.photo,onChange:E,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"flight_cost",children:"Переліт (€)"}),y.jsx("input",{type:"number",className:"form-input",id:"flight_cost",name:"flight_cost",value:a.flight_cost,onChange:E,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"live_cost",children:"Проживання (€/доба)"}),y.jsx("input",{type:"number",className:"form-input",id:"live_cost",name:"live_cost",value:a.live_cost,onChange:E,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"place_type",children:"Тип місця"}),y.jsx("select",{className:"form-input",id:"place_type",name:"place_type",value:a.place_type,onChange:E,required:!0,children:e.place_types.map(k=>y.jsx("option",{value:k.id,children:k.name_ua},k.id))})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"place_description",children:"Опис"}),y.jsx("textarea",{className:"form-textarea",id:"place_description",name:"description",value:a.description,onChange:E,required:!0})]}),y.jsx("div",{className:"form-submit",children:y.jsx("button",{type:"submit",className:"btn btn-primary",children:"Додати"})})]}):y.jsx("div",{className:"card auth-notice",children:y.jsxs("p",{children:["Щоб додавати нові місця, будь ласка ",y.jsx(or,{to:"/login",children:"увійдіть"})," або ",y.jsx(or,{to:"/register",children:"зареєструйтесь"}),"."]})})]})}function lD(){const[s,e]=D.useState([]),[i,a]=D.useState([]),[o,u]=D.useState(""),[f,d]=D.useState(1),[m,p]=D.useState(null),[v,E]=D.useState("всі");D.useEffect(()=>{Ud().then(R=>{e(R.travel_places),a(R.place_types)}).catch(R=>{console.error("Помилка завантаження даних:",R)})},[]);const S=s.filter(R=>v==="всі"||R.place_type===parseInt(v));return D.useEffect(()=>{if(!o||f<1)return p(null);const R=s.find(j=>j.title===o);if(!R)return p({error:"Місце не знайдено"});const A=R.prices.flight,k=R.prices.live*f;p({destination:o,days:f,flight:A,live:k,livePerDay:R.prices.live,total:A+k})},[o,f,s]),y.jsxs("article",{id:"budget",children:[y.jsx("h1",{children:"Розрахунок вартості подорожі"}),y.jsxs("section",{className:"calculator",children:[y.jsxs("form",{id:"budgetForm",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"type",children:"Тип подорожі:"}),y.jsxs("select",{id:"type",value:v,onChange:R=>E(R.target.value),children:[y.jsx("option",{value:"всі",children:"Всі типи"}),i.map(R=>y.jsx("option",{value:R.id,children:R.name_ua},R.id))]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"destination",children:"Оберіть місце:"}),y.jsxs("select",{id:"destination",value:o,onChange:R=>u(R.target.value),required:!0,children:[y.jsx("option",{value:"",disabled:!0,children:"Виберіть місце"}),S.map(R=>{var A;return y.jsxs("option",{value:R.title,children:[R.title," (",(A=i.find(k=>k.id===R.place_type))==null?void 0:A.name_ua,")"]},R.title)})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"days",children:"Кількість днів:"}),y.jsx("input",{type:"number",id:"days",min:"1",value:f,onChange:R=>d(parseInt(R.target.value)||1),required:!0})]})]}),y.jsx("div",{id:"result",className:"result-container",children:m!=null&&m.error?y.jsx("div",{className:"error",children:m.error}):m?y.jsxs(y.Fragment,{children:[y.jsx("h3",{children:"Деталі розрахунку"}),y.jsxs("div",{className:"result-item",children:[y.jsx("span",{children:"Місце:"}),y.jsx("strong",{children:m.destination})]}),y.jsxs("div",{className:"result-item",children:[y.jsx("span",{children:"Тривалість:"}),y.jsxs("strong",{children:[m.days," днів"]})]}),y.jsxs("div",{className:"result-item",children:[y.jsx("span",{children:"Переліт:"}),y.jsxs("strong",{children:[m.flight," €"]})]}),y.jsxs("div",{className:"result-item",children:[y.jsxs("span",{children:["Проживання (",m.livePerDay," €/день):"]}),y.jsxs("strong",{children:[m.live," €"]})]}),y.jsxs("div",{className:"total-cost",children:[y.jsx("span",{children:"Загальна вартість:"}),y.jsxs("strong",{children:[m.total," €"]})]})]}):null})]})]})}function oD(){const[s,e]=D.useState(""),[i,a]=D.useState(""),[o,u]=D.useState(""),f=lu(),d=async p=>{p.preventDefault();try{await CA(dn,s,i),f("/")}catch{u("Невірний email або пароль")}},m=async()=>{try{await mE(dn,H0),f("/")}catch{u("Помилка входу через Google")}};return y.jsx("div",{className:"auth-page",children:y.jsxs("form",{onSubmit:d,className:"auth-form",children:[y.jsx("h2",{children:"Вхід"}),o&&y.jsx("p",{className:"error",children:o}),y.jsx("input",{type:"email",placeholder:"Email",value:s,onChange:p=>e(p.target.value),required:!0}),y.jsx("input",{type:"password",placeholder:"Пароль",value:i,onChange:p=>a(p.target.value),required:!0}),y.jsx("button",{type:"button",onClick:m,className:"google-btn",children:"Увійти через Google"}),y.jsx("button",{type:"submit",children:"Увійти"}),y.jsxs("p",{children:["Немає акаунту? ",y.jsx(or,{to:"/register",children:"Створити"})]})]})})}function uD(){const[s,e]=D.useState(""),[i,a]=D.useState(""),[o,u]=D.useState(""),f=lu(),d=async(v,E,S=null)=>{const R=Ii(Mi,`users/${v}/profile`),A={email:E,displayName:S,createdAt:Date.now()};await ol(R,A)},m=async v=>{v.preventDefault(),u("");try{const S=(await TA(dn,s,i)).user;await d(S.uid,S.email,S.displayName),f("/")}catch(E){u("Помилка реєстрації: "+E.message)}},p=async()=>{u("");try{const E=(await mE(dn,H0)).user;await d(E.uid,E.email,E.displayName),f("/")}catch(v){u("Помилка реєстрації через Google: "+v.message)}};return y.jsx("div",{className:"auth-page",children:y.jsxs("form",{onSubmit:m,className:"auth-form",children:[y.jsx("h2",{children:"Реєстрація"}),o&&y.jsx("p",{className:"error",children:o}),y.jsx("input",{type:"email",placeholder:"Email",value:s,onChange:v=>e(v.target.value),required:!0}),y.jsx("input",{type:"password",placeholder:"Пароль",value:i,onChange:v=>a(v.target.value),required:!0}),y.jsx("button",{type:"submit",children:"Зареєструватися"}),y.jsx("button",{type:"button",onClick:p,className:"google-btn",children:"Зареєструватися через Google"}),y.jsxs("p",{children:["Вже є акаунт? ",y.jsx(or,{to:"/login",children:"Увійти"})]})]})})}function cD(){const[s,e]=mu(dn);return e?y.jsx("div",{children:"Завантаження..."}):s?y.jsx(my,{}):y.jsx(uC,{to:"/login",replace:!0})}function fD(){return y.jsx(LC,{children:y.jsxs(fC,{children:[y.jsxs(fn,{path:"/",element:y.jsx(iy,{}),children:[y.jsx(fn,{index:!0,element:y.jsx(eD,{})}),y.jsx(fn,{path:"login",element:y.jsx(oD,{})}),y.jsx(fn,{path:"register",element:y.jsx(uD,{})}),y.jsx(fn,{path:"places",element:y.jsx(aD,{})})]}),y.jsx(fn,{element:y.jsx(cD,{}),children:y.jsxs(fn,{path:"/",element:y.jsx(iy,{}),children:[y.jsx(fn,{path:"travels",element:y.jsx(sD,{})}),y.jsx(fn,{path:"budget",element:y.jsx(lD,{})})]})})]})})}vT.createRoot(document.getElementById("root")).render(y.jsx(D.StrictMode,{children:y.jsx(fD,{})}));
